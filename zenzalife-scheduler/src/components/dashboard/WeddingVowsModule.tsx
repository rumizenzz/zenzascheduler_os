import React from 'react'
import {
  Flower2,
  Share2,
  Facebook,
  Twitter,
  Linkedin,
  MessageCircle,
  Send,
  Link as LinkIcon,
} from 'lucide-react'

export function WeddingVowsModule() {
  const [isBisaya, setIsBisaya] = React.useState(false)

  const rumiVowEnglish = `My love, my everything,

From the moment you came into my life, everything changed. You made me a better man—more patient, more faithful, more alive. Without you, I wouldn’t be the man I am today. You are the most beautiful woman—the most beautiful person—I have ever known; loyal, loving, caring, and deeply affectionate. You are my angel, my best friend, my greatest blessing from God.

I promise to be the best husband I can possibly be—and to keep becoming an even better one, every day of my life.
I will love you with all my heart, mind, body, and soul. I will provide for our home with diligence and integrity, protect you and keep you safe—physically, emotionally, and spiritually—and put you first in every decision.

I vow to be faithful to you in body, mind, and spirit; to guard your heart as my own; to be honest and transparent, with no secrets; to communicate with kindness, listen before I speak, and make repairs quickly when we stumble. I will respect your agency, honor your dreams, and cheer for you like you’re the only one on the field—because to me, you are.

We will do life together—always: pray together, laugh together, cry together, and grow together. We will go to church together, worship God together, keep the Lord at the center of our marriage, and keep growing in our faith. We will pray as a couple, study the scriptures, repent and forgive often, and seek the Spirit’s guidance in our home. I promise to honor our covenants and to love you for time and all eternity.

Side by side, we will build a home of peace and joy. I promise to raise our future children with you in the word of God—to teach them faith, to lead by example, to read with them, pray with them, and show them what real love, sacrifice, and devotion look like by the way I love and serve you.

I vow to share the big things and the small: the bills and the budget, the dishes and the diapers, the plans and the dreams, the late-night talks and the early-morning starts. I promise date nights and deep talks, inside jokes and new adventures, celebration in our victories and comfort in our losses. I will protect your name and your reputation, defend you when you’re not in the room, and speak life over you always.

If ever sacrifice is asked of me, I will give it. If ever danger comes near, I will shield you. I would die for you, take a bullet for you, and walk through fire for you—because you are my world, my life, my forever.

Through sickness and health, scarcity and abundance, storms and sunrises, I will choose you—again and again—every single day. I will keep my promises when it’s easy and when it’s hard. I will be your rock, your safe place, your home.

Today, before God and our families, I give you all of me—my hand, my heart, my soul, my loyalty, and my eternity. You are my home, my destiny, my eternal companion.

I love you so much, forever, baby—now, always, and into eternity, sealed in faith and love.`

  const rumiVowBisaya = `Akong gugma, akong tanan,

Sukad sa imong pag-abot sa akong kinabuhi, tanan miusab. Nahimo mo akong mas maayong tawo—mas mapailubon, mas matinumanon, ug mas buhi. Kung wala ka, dili ko mahimong kinsa ko karon. Ikaw ang labing matahum nga babaye—ang labing matahum nga tawo—nga nakaila ko; matinud-anon, mahigugmaon, mahupay, ug puno sa pagbati. Ikaw ang akong anghel, akong labing suod nga higala, ug ang labing dako nga panalangin nga gihatag sa Dios.

Nagsaad ko nga mahimong labing maayong bana nga mahimo ko—ug magpadayon sa pagpalambo sa akong kaugalingon matag adlaw sa akong kinabuhi.
Higugmaon tika sa tibuok nakong kasingkasing, hunahuna, lawas, ug kalag. Magpaningkamot ko nga magtukod og panimalay nga puno sa pagkamatinud-anon ug integridad, panalipdan tika ug atimanon—pisikal, emosyonal, ug espirituhanon—andam nga unahon ka sa tanang desisyon.

Nagasad ko nga magmatinud-anon kanimo sa lawas, hunahuna, ug espiritu; bantayan ang imong kasingkasing sama sa akong kaugalingon; magpuyo nga walay tinago; magpakabana ug mamati una pa mosulti, ug dali nga mo-ayo sa dihang masayop mi. Respetoan ko ang imong kagawasan, dunggaon ang imong mga damgo, ug suportahan ka murag ikaw lang ang nagdula sa duwa—kay para kanako, ikaw gyud.

Mag-uban tang duha sa tanang butang—kanunay: mag-ampo, magkatawa, maghilak, ug motubo nga managkuyog. Moadto ta sa simbahan, mosimba sa Dios, ug ipahiluna si Ginoo sa tunga-tunga sa atong kaminyoon samtang nagapadayon ta sa pagpalig-on sa pagtuo. Mag-ampo ta isip magtiayon, magtuon sa mga kasulatan, maghinulsol ug magpasaylo kanunay, ug mangita sa giya sa Espiritu sa atong panimalay. Nagsaad ko nga pagtumanon ang atong mga tugon ug higugmaon ka hangtod sa walay katapusan.

Mag-uban ta sa pagtukod og panimalay nga puno sa kalinaw ug kalipay. Nagsaad ko nga ubanan ka sa pagpadako sa atong umaabot nga mga anak diha sa pulong sa Dios—pahigugmaan sila sa pagtuo, pangulohan pinaagi sa pananglitan, basahan ug iampo sila, ug ipakita unsa ang tinuod nga gugma, sakripisyo, ug debosyon pinaagi sa paagi sa akong paghigugma ug pag-alagad kanimo.

Ipaambit ko nimo ang mga dagkong butang ug gagmay: ang mga bayranan ug budget, ang mga hugasan ug lampin, ang mga plano ug mga damgo, ang gabii nga estorya ug ang sayo nga pagpukaw. Nagsaad ko nga mag-date ta ug mag-estorya og lalom, magtukod og mga sulod nga mga tinuhuan ug mga bag-ong kasinatian, magselebrar sa atong mga kadaugan ug maghatag kadasig sa atong mga kapildihan. Panalipdan nako ang imong ngalan ug dungog, depensahan ka bisan wala ka, ug maghimo kanimo og pulong sa kinabuhi pirmi.

Kung magkinahanglan og sakripisyo, andam ko mohatag. Kung moabot ang peligro, akong panalipdan ikaw. Andam kong mamatay para nimo, dawaton ang bala para nimo, ug molabang sa kalayo alang kanimo—kay ikaw ang akong kalibutan, akong kinabuhi, ug akong walay katapusan.

Sa sakit ug kahimsog, kakabus ug kadato, bagyo ug pagsubang sa adlaw, pilion tika—balik-balik—matag adlaw. Tumanon ko ang akong mga saad kung sayon ug kung lisod. Magpabilin akong bato, imong luwas nga lugar, imong panimalay.

Karon, atubangan sa Dios ug sa atong mga pamilya, gihatag ko nimo ang tanan nako—akong kamot, akong kasingkasing, akong kalag, akong pagkamatinuoron, ug akong walay katapusan. Ikaw ang akong panimalay, akong kapalaran, akong kauban sa walay katapusan.

Gihigugma tika pag-ayo, hangtod sa walay katapusan, baby—karon, kanunay, ug hangtod sa eternidad, pinirmahan sa pagtuo ug gugma.`

  const khenPlaceholderEnglish = 'To be revealed on our wedding day…'
  const khenPlaceholderBisaya = 'Ipadayag sa among adlaw sa kasal…'
  const rumiDateEnglish = 'Written on August 18, 2025'
  const rumiDateBisaya = 'Gisulat niadtong Agosto 18, 2025'
  const khenDateEnglish = 'Writing date to be revealed…'
  const khenDateBisaya = 'Ipadayag pa ang petsa sa pagsulat…'

  function ShareButtons({ text }: { text: string }) {
    const url = typeof window !== 'undefined' ? window.location.href : ''
    const encodedUrl = encodeURIComponent(url)
    const encodedText = encodeURIComponent(text)

    const open = (shareUrl: string) => {
      window.open(shareUrl, '_blank', 'width=600,height=400')
    }

    const handleNativeShare = async () => {
      if (typeof navigator !== 'undefined' && navigator.share) {
        try {
          await navigator.share({ title: 'Our Wedding Vows', text, url })
        } catch {
          // ignore
        }
      }
    }

    const handleCopy = async () => {
      if (typeof navigator !== 'undefined' && navigator.clipboard) {
        try {
          await navigator.clipboard.writeText(`${text}\n\n${url}`)
        } catch {
          // ignore
        }
      }
    }

    return (
      <div className="flex gap-4 text-rose-600">
        <button aria-label="Share" onClick={handleNativeShare}>
          <Share2 className="w-5 h-5" />
        </button>
        <button
          aria-label="Share on Facebook"
          onClick={() =>
            open(
              `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedText}`,
            )
          }
        >
          <Facebook className="w-5 h-5" />
        </button>
        <button
          aria-label="Share on X"
          onClick={() =>
            open(
              `https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`,
            )
          }
        >
          <Twitter className="w-5 h-5" />
        </button>
        <button
          aria-label="Share on LinkedIn"
          onClick={() =>
            open(
              `https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedText}`,
            )
          }
        >
          <Linkedin className="w-5 h-5" />
        </button>
        <button
          aria-label="Share on WhatsApp"
          onClick={() =>
            open(
              `https://api.whatsapp.com/send?text=${encodedText}%20${encodedUrl}`,
            )
          }
        >
          <MessageCircle className="w-5 h-5" />
        </button>
        <button
          aria-label="Share on Telegram"
          onClick={() =>
            open(`https://t.me/share/url?url=${encodedUrl}&text=${encodedText}`)
          }
        >
          <Send className="w-5 h-5" />
        </button>
        <button aria-label="Copy link" onClick={handleCopy}>
          <LinkIcon className="w-5 h-5" />
        </button>
      </div>
    )
  }

  function VowCard({
    title,
    date,
    content,
    shareText,
    isPlaceholder,
  }: {
    title: string
    date: string
    content: string
    shareText: string
    isPlaceholder?: boolean
  }) {
    return (
      <div className="bg-white/80 p-6 rounded-xl shadow-md space-y-4">
        <h2 className="text-2xl text-rose-700 font-semibold">{title}</h2>
        <p className="text-sm text-rose-500">{date}</p>
        <p
          className={
            isPlaceholder
              ? 'italic text-rose-600'
              : 'whitespace-pre-line leading-relaxed'
          }
        >
          {content}
        </p>
        <ShareButtons text={shareText} />
      </div>
    )
  }

  return (
    <div className="max-w-3xl mx-auto bg-gradient-to-br from-rose-50 via-pink-50 to-rose-100 p-8 rounded-2xl shadow-lg border border-rose-200 text-gray-800 font-serif space-y-12">
      <div className="text-center space-y-2">
        <Flower2 className="w-10 h-10 mx-auto text-rose-400" />
        <h1 className="text-4xl font-bold text-rose-700">
          {isBisaya ? 'Among Mga Panumpa sa Kasal' : 'Our Wedding Vows'}
        </h1>
        <p className="text-rose-600">Rumi Zen Zappalorti & Khen Shantel Zappalorti</p>
        <button
          onClick={() => setIsBisaya(!isBisaya)}
          className="mt-4 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600"
        >
          {isBisaya ? 'Translate to English' : 'Translate to Bisaya'}
        </button>
      </div>
      <VowCard
        title={isBisaya ? 'Panumpa ni Rumi' : "Rumi's Vow"}
        date={isBisaya ? rumiDateBisaya : rumiDateEnglish}
        content={isBisaya ? rumiVowBisaya : rumiVowEnglish}
        shareText={isBisaya ? rumiVowBisaya : rumiVowEnglish}
      />
      <VowCard
        title={isBisaya ? 'Panumpa ni Khen' : "Khen's Vow"}
        date={isBisaya ? khenDateBisaya : khenDateEnglish}
        content={isBisaya ? khenPlaceholderBisaya : khenPlaceholderEnglish}
        shareText={
          isBisaya ? khenPlaceholderBisaya : khenPlaceholderEnglish
        }
        isPlaceholder
      />
    </div>
  )
}

export default WeddingVowsModule

