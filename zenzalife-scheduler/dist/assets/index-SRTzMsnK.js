var Tg=r=>{throw TypeError(r)};var Lu=(r,e,t)=>e.has(r)||Tg("Cannot "+t);var V=(r,e,t)=>(Lu(r,e,"read from private field"),t?t.call(r):e.get(r)),Ie=(r,e,t)=>e.has(r)?Tg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),be=(r,e,t,n)=>(Lu(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),pt=(r,e,t)=>(Lu(r,e,"access private method"),t);var Ul=(r,e,t,n)=>({set _(a){be(r,e,a,t)},get _(){return V(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Ro(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function pb(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Uu={exports:{}},ta={},Fu={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function gb(){if(Ng)return ke;Ng=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S(R,B,de){this.props=R,this.context=B,this.refs=E,this.updater=de||w}S.prototype.isReactComponent={},S.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},S.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=S.prototype;function P(R,B,de){this.props=R,this.context=B,this.refs=E,this.updater=de||w}var N=P.prototype=new D;N.constructor=P,_(N,S.prototype),N.isPureReactComponent=!0;var C=Array.isArray,z=Object.prototype.hasOwnProperty,F={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function I(R,B,de){var fe,we={},_e=null,Te=null;if(B!=null)for(fe in B.ref!==void 0&&(Te=B.ref),B.key!==void 0&&(_e=""+B.key),B)z.call(B,fe)&&!W.hasOwnProperty(fe)&&(we[fe]=B[fe]);var Ae=arguments.length-2;if(Ae===1)we.children=de;else if(1<Ae){for(var je=Array(Ae),Ue=0;Ue<Ae;Ue++)je[Ue]=arguments[Ue+2];we.children=je}if(R&&R.defaultProps)for(fe in Ae=R.defaultProps,Ae)we[fe]===void 0&&(we[fe]=Ae[fe]);return{$$typeof:r,type:R,key:_e,ref:Te,props:we,_owner:F.current}}function ie(R,B){return{$$typeof:r,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function J(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(de){return B[de]})}var he=/\/+/g;function Le(R,B){return typeof R=="object"&&R!==null&&R.key!=null?J(""+R.key):B.toString(36)}function ae(R,B,de,fe,we){var _e=typeof R;(_e==="undefined"||_e==="boolean")&&(R=null);var Te=!1;if(R===null)Te=!0;else switch(_e){case"string":case"number":Te=!0;break;case"object":switch(R.$$typeof){case r:case e:Te=!0}}if(Te)return Te=R,we=we(Te),R=fe===""?"."+Le(Te,0):fe,C(we)?(de="",R!=null&&(de=R.replace(he,"$&/")+"/"),ae(we,B,de,"",function(Ue){return Ue})):we!=null&&(ue(we)&&(we=ie(we,de+(!we.key||Te&&Te.key===we.key?"":(""+we.key).replace(he,"$&/")+"/")+R)),B.push(we)),1;if(Te=0,fe=fe===""?".":fe+":",C(R))for(var Ae=0;Ae<R.length;Ae++){_e=R[Ae];var je=fe+Le(_e,Ae);Te+=ae(_e,B,de,je,we)}else if(je=x(R),typeof je=="function")for(R=je.call(R),Ae=0;!(_e=R.next()).done;)_e=_e.value,je=fe+Le(_e,Ae++),Te+=ae(_e,B,de,je,we);else if(_e==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Te}function ee(R,B,de){if(R==null)return R;var fe=[],we=0;return ae(R,fe,"","",function(_e){return B.call(de,_e,we++)}),fe}function X(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(de){(R._status===0||R._status===-1)&&(R._status=1,R._result=de)},function(de){(R._status===0||R._status===-1)&&(R._status=2,R._result=de)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var te={current:null},H={transition:null},K={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:H,ReactCurrentOwner:F};function q(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:ee,forEach:function(R,B,de){ee(R,function(){B.apply(this,arguments)},de)},count:function(R){var B=0;return ee(R,function(){B++}),B},toArray:function(R){return ee(R,function(B){return B})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ke.Component=S,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=P,ke.StrictMode=n,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ke.act=q,ke.cloneElement=function(R,B,de){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var fe=_({},R.props),we=R.key,_e=R.ref,Te=R._owner;if(B!=null){if(B.ref!==void 0&&(_e=B.ref,Te=F.current),B.key!==void 0&&(we=""+B.key),R.type&&R.type.defaultProps)var Ae=R.type.defaultProps;for(je in B)z.call(B,je)&&!W.hasOwnProperty(je)&&(fe[je]=B[je]===void 0&&Ae!==void 0?Ae[je]:B[je])}var je=arguments.length-2;if(je===1)fe.children=de;else if(1<je){Ae=Array(je);for(var Ue=0;Ue<je;Ue++)Ae[Ue]=arguments[Ue+2];fe.children=Ae}return{$$typeof:r,type:R.type,key:we,ref:_e,props:fe,_owner:Te}},ke.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},ke.createElement=I,ke.createFactory=function(R){var B=I.bind(null,R);return B.type=R,B},ke.createRef=function(){return{current:null}},ke.forwardRef=function(R){return{$$typeof:u,render:R}},ke.isValidElement=ue,ke.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:X}},ke.memo=function(R,B){return{$$typeof:g,type:R,compare:B===void 0?null:B}},ke.startTransition=function(R){var B=H.transition;H.transition={};try{R()}finally{H.transition=B}},ke.unstable_act=q,ke.useCallback=function(R,B){return te.current.useCallback(R,B)},ke.useContext=function(R){return te.current.useContext(R)},ke.useDebugValue=function(){},ke.useDeferredValue=function(R){return te.current.useDeferredValue(R)},ke.useEffect=function(R,B){return te.current.useEffect(R,B)},ke.useId=function(){return te.current.useId()},ke.useImperativeHandle=function(R,B,de){return te.current.useImperativeHandle(R,B,de)},ke.useInsertionEffect=function(R,B){return te.current.useInsertionEffect(R,B)},ke.useLayoutEffect=function(R,B){return te.current.useLayoutEffect(R,B)},ke.useMemo=function(R,B){return te.current.useMemo(R,B)},ke.useReducer=function(R,B,de){return te.current.useReducer(R,B,de)},ke.useRef=function(R){return te.current.useRef(R)},ke.useState=function(R){return te.current.useState(R)},ke.useSyncExternalStore=function(R,B,de){return te.current.useSyncExternalStore(R,B,de)},ke.useTransition=function(){return te.current.useTransition()},ke.version="18.3.1",ke}var Rg;function qd(){return Rg||(Rg=1,Fu.exports=gb()),Fu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function mb(){if(jg)return ta;jg=1;var r=qd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,g){var m,y={},x=null,w=null;g!==void 0&&(x=""+g),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)n.call(f,m)&&!l.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:x,ref:w,props:y,_owner:a.current}}return ta.Fragment=t,ta.jsx=c,ta.jsxs=c,ta}var Mg;function vb(){return Mg||(Mg=1,Uu.exports=mb()),Uu.exports}var h=vb(),$=qd();const oo=Ro($);var Fl={},Hu={exports:{}},Tt={},zu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function yb(){return Ig||(Ig=1,function(r){function e(H,K){var q=H.length;H.push(K);e:for(;0<q;){var R=q-1>>>1,B=H[R];if(0<a(B,K))H[R]=K,H[q]=B,q=R;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var K=H[0],q=H.pop();if(q!==K){H[0]=q;e:for(var R=0,B=H.length,de=B>>>1;R<de;){var fe=2*(R+1)-1,we=H[fe],_e=fe+1,Te=H[_e];if(0>a(we,q))_e<B&&0>a(Te,we)?(H[R]=Te,H[_e]=q,R=_e):(H[R]=we,H[fe]=q,R=fe);else if(_e<B&&0>a(Te,q))H[R]=Te,H[_e]=q,R=_e;else break e}}return K}function a(H,K){var q=H.sortIndex-K.sortIndex;return q!==0?q:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();r.unstable_now=function(){return c.now()-u}}var f=[],g=[],m=1,y=null,x=3,w=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var K=t(g);K!==null;){if(K.callback===null)n(g);else if(K.startTime<=H)n(g),K.sortIndex=K.expirationTime,e(f,K);else break;K=t(g)}}function C(H){if(E=!1,N(H),!_)if(t(f)!==null)_=!0,X(z);else{var K=t(g);K!==null&&te(C,K.startTime-H)}}function z(H,K){_=!1,E&&(E=!1,D(I),I=-1),w=!0;var q=x;try{for(N(K),y=t(f);y!==null&&(!(y.expirationTime>K)||H&&!J());){var R=y.callback;if(typeof R=="function"){y.callback=null,x=y.priorityLevel;var B=R(y.expirationTime<=K);K=r.unstable_now(),typeof B=="function"?y.callback=B:y===t(f)&&n(f),N(K)}else n(f);y=t(f)}if(y!==null)var de=!0;else{var fe=t(g);fe!==null&&te(C,fe.startTime-K),de=!1}return de}finally{y=null,x=q,w=!1}}var F=!1,W=null,I=-1,ie=5,ue=-1;function J(){return!(r.unstable_now()-ue<ie)}function he(){if(W!==null){var H=r.unstable_now();ue=H;var K=!0;try{K=W(!0,H)}finally{K?Le():(F=!1,W=null)}}else F=!1}var Le;if(typeof P=="function")Le=function(){P(he)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ee=ae.port2;ae.port1.onmessage=he,Le=function(){ee.postMessage(null)}}else Le=function(){S(he,0)};function X(H){W=H,F||(F=!0,Le())}function te(H,K){I=S(function(){H(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){_||w||(_=!0,X(z))},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var q=x;x=K;try{return H()}finally{x=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=x;x=H;try{return K()}finally{x=q}},r.unstable_scheduleCallback=function(H,K,q){var R=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?R+q:R):q=R,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=q+B,H={id:m++,callback:K,priorityLevel:H,startTime:q,expirationTime:B,sortIndex:-1},q>R?(H.sortIndex=q,e(g,H),t(f)===null&&H===t(g)&&(E?(D(I),I=-1):E=!0,te(C,q-R))):(H.sortIndex=B,e(f,H),_||w||(_=!0,X(z))),H},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(H){var K=x;return function(){var q=x;x=K;try{return H.apply(this,arguments)}finally{x=q}}}}(Bu)),Bu}var Og;function wb(){return Og||(Og=1,zu.exports=yb()),zu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function xb(){if(Pg)return Tt;Pg=1;var r=qd(),e=wb();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function l(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(a[s]=i,s=0;s<i.length;s++)n.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function x(s){return f.call(y,s)?!0:f.call(m,s)?!1:g.test(s)?y[s]=!0:(m[s]=!0,!1)}function w(s,i,o,d){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,i,o,d){if(i===null||typeof i>"u"||w(s,i,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function E(s,i,o,d,p,v,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=v,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];S[i]=new E(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(D,P);S[i]=new E(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(D,P);S[i]=new E(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(D,P);S[i]=new E(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,i,o,d){var p=S.hasOwnProperty(i)?S[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,o,p,d)&&(o=null),d||p===null?x(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):p.mustUseProperty?s[p.propertyName]=o===null?p.type===3?!1:"":o:(i=p.attributeName,d=p.attributeNamespace,o===null?s.removeAttribute(i):(p=p.type,o=p===3||p===4&&o===!0?"":""+o,d?s.setAttributeNS(d,i,o):s.setAttribute(i,o))))}var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),H=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var q=Object.assign,R;function B(s){if(R===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+s}var de=!1;function fe(s,i){if(!s||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(L){var d=L}Reflect.construct(s,[],i)}else{try{i.call()}catch(L){d=L}s.call(i.prototype)}else{try{throw Error()}catch(L){d=L}s()}}catch(L){if(L&&d&&typeof L.stack=="string"){for(var p=L.stack.split(`
`),v=d.stack.split(`
`),b=p.length-1,k=v.length-1;1<=b&&0<=k&&p[b]!==v[k];)k--;for(;1<=b&&0<=k;b--,k--)if(p[b]!==v[k]){if(b!==1||k!==1)do if(b--,k--,0>k||p[b]!==v[k]){var T=`
`+p[b].replace(" at new "," at ");return s.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",s.displayName)),T}while(1<=b&&0<=k);break}}}finally{de=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?B(s):""}function we(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case W:return"Fragment";case F:return"Portal";case ie:return"Profiler";case I:return"StrictMode";case Le:return"Suspense";case ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case J:return(s.displayName||"Context")+".Consumer";case ue:return(s._context.displayName||"Context")+".Provider";case he:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ee:return i=s.displayName||null,i!==null?i:_e(s.type)||"Memo";case X:i=s._payload,s=s._init;try{return _e(s(i))}catch{}}return null}function Te(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ue(s){var i=je(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,v=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,v.call(this,b)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function jt(s){s._valueTracker||(s._valueTracker=Ue(s))}function Fr(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return s&&(d=je(s)?s.checked?"true":"false":s.value),s=d,s!==o?(i.setValue(s),!0):!1}function wr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Wo(s,i){var o=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??s._wrapperState.initialChecked})}function Pf(s,i){var o=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;o=Ae(i.value!=null?i.value:o),s._wrapperState={initialChecked:d,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Lf(s,i){i=i.checked,i!=null&&N(s,"checked",i,!1)}function Vo(s,i){Lf(s,i);var o=Ae(i.value),d=i.type;if(o!=null)d==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?qo(s,i.type,o):i.hasOwnProperty("defaultValue")&&qo(s,i.type,Ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Uf(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function qo(s,i,o){(i!=="number"||wr(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var mi=Array.isArray;function us(s,i,o,d){if(s=s.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=i.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&d&&(s[o].defaultSelected=!0)}else{for(o=""+Ae(o),i=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Go(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ff(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(mi(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Ae(o)}}function Hf(s,i){var o=Ae(i.value),d=Ae(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),d!=null&&(s.defaultValue=""+d)}function zf(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Bf(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Bf(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Na,$f=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,o,d,p)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Na.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function vi(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yw=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(s){yw.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),yi[i]=yi[s]})});function Wf(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||yi.hasOwnProperty(s)&&yi[s]?(""+i).trim():i+"px"}function Vf(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var d=o.indexOf("--")===0,p=Wf(o,i[o],d);o==="float"&&(o="cssFloat"),d?s.setProperty(o,p):s[o]=p}}var ww=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(s,i){if(i){if(ww[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ko(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function Jo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xo=null,ds=null,fs=null;function qf(s){if(s=Hi(s)){if(typeof Xo!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Xa(i),Xo(s.stateNode,s.type,i))}}function Gf(s){ds?fs?fs.push(s):fs=[s]:ds=s}function Yf(){if(ds){var s=ds,i=fs;if(fs=ds=null,qf(s),i)for(s=0;s<i.length;s++)qf(i[s])}}function Qf(s,i){return s(i)}function Kf(){}var ec=!1;function Zf(s,i,o){if(ec)return s(i,o);ec=!0;try{return Qf(s,i,o)}finally{ec=!1,(ds!==null||fs!==null)&&(Kf(),Yf())}}function wi(s,i){var o=s.stateNode;if(o===null)return null;var d=Xa(o);if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var tc=!1;if(u)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){tc=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{tc=!1}function xw(s,i,o,d,p,v,b,k,T){var L=Array.prototype.slice.call(arguments,3);try{i.apply(o,L)}catch(Y){this.onError(Y)}}var bi=!1,Ra=null,ja=!1,rc=null,bw={onError:function(s){bi=!0,Ra=s}};function Sw(s,i,o,d,p,v,b,k,T){bi=!1,Ra=null,xw.apply(bw,arguments)}function _w(s,i,o,d,p,v,b,k,T){if(Sw.apply(this,arguments),bi){if(bi){var L=Ra;bi=!1,Ra=null}else throw Error(t(198));ja||(ja=!0,rc=L)}}function An(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function Jf(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Xf(s){if(An(s)!==s)throw Error(t(188))}function Ew(s){var i=s.alternate;if(!i){if(i=An(s),i===null)throw Error(t(188));return i!==s?null:s}for(var o=s,d=i;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return Xf(p),s;if(v===d)return Xf(p),i;v=v.sibling}throw Error(t(188))}if(o.return!==d.return)o=p,d=v;else{for(var b=!1,k=p.child;k;){if(k===o){b=!0,o=p,d=v;break}if(k===d){b=!0,d=p,o=v;break}k=k.sibling}if(!b){for(k=v.child;k;){if(k===o){b=!0,o=v,d=p;break}if(k===d){b=!0,d=v,o=p;break}k=k.sibling}if(!b)throw Error(t(189))}}if(o.alternate!==d)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?s:i}function eh(s){return s=Ew(s),s!==null?th(s):null}function th(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=th(s);if(i!==null)return i;s=s.sibling}return null}var rh=e.unstable_scheduleCallback,nh=e.unstable_cancelCallback,kw=e.unstable_shouldYield,Cw=e.unstable_requestPaint,Je=e.unstable_now,Aw=e.unstable_getCurrentPriorityLevel,nc=e.unstable_ImmediatePriority,sh=e.unstable_UserBlockingPriority,Ma=e.unstable_NormalPriority,Dw=e.unstable_LowPriority,ih=e.unstable_IdlePriority,Ia=null,lr=null;function Tw(s){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ia,s,void 0,(s.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:jw,Nw=Math.log,Rw=Math.LN2;function jw(s){return s>>>=0,s===0?32:31-(Nw(s)/Rw|0)|0}var Oa=64,Pa=4194304;function Si(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function La(s,i){var o=s.pendingLanes;if(o===0)return 0;var d=0,p=s.suspendedLanes,v=s.pingedLanes,b=o&268435455;if(b!==0){var k=b&~p;k!==0?d=Si(k):(v&=b,v!==0&&(d=Si(v)))}else b=o&~p,b!==0?d=Si(b):v!==0&&(d=Si(v));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((d&4)!==0&&(d|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)o=31-Gt(i),p=1<<o,d|=s[o],i&=~p;return d}function Mw(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iw(s,i){for(var o=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,v=s.pendingLanes;0<v;){var b=31-Gt(v),k=1<<b,T=p[b];T===-1?((k&o)===0||(k&d)!==0)&&(p[b]=Mw(k,i)):T<=i&&(s.expiredLanes|=k),v&=~k}}function sc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ah(){var s=Oa;return Oa<<=1,(Oa&4194240)===0&&(Oa=64),s}function ic(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function _i(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Gt(i),s[i]=o}function Ow(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<o;){var p=31-Gt(o),v=1<<p;i[p]=0,d[p]=-1,s[p]=-1,o&=~v}}function ac(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var d=31-Gt(o),p=1<<d;p&i|s[d]&i&&(s[d]|=i),o&=~p}}var Pe=0;function lh(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var oh,lc,ch,uh,dh,oc=!1,Ua=[],Hr=null,zr=null,Br=null,Ei=new Map,ki=new Map,$r=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fh(s,i){switch(s){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Ei.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(i.pointerId)}}function Ci(s,i,o,d,p,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Hi(i),i!==null&&lc(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Lw(s,i,o,d,p){switch(i){case"focusin":return Hr=Ci(Hr,s,i,o,d,p),!0;case"dragenter":return zr=Ci(zr,s,i,o,d,p),!0;case"mouseover":return Br=Ci(Br,s,i,o,d,p),!0;case"pointerover":var v=p.pointerId;return Ei.set(v,Ci(Ei.get(v)||null,s,i,o,d,p)),!0;case"gotpointercapture":return v=p.pointerId,ki.set(v,Ci(ki.get(v)||null,s,i,o,d,p)),!0}return!1}function hh(s){var i=Dn(s.target);if(i!==null){var o=An(i);if(o!==null){if(i=o.tag,i===13){if(i=Jf(o),i!==null){s.blockedOn=i,dh(s.priority,function(){ch(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fa(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=uc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);Zo=d,o.target.dispatchEvent(d),Zo=null}else return i=Hi(o),i!==null&&lc(i),s.blockedOn=o,!1;i.shift()}return!0}function ph(s,i,o){Fa(s)&&o.delete(i)}function Uw(){oc=!1,Hr!==null&&Fa(Hr)&&(Hr=null),zr!==null&&Fa(zr)&&(zr=null),Br!==null&&Fa(Br)&&(Br=null),Ei.forEach(ph),ki.forEach(ph)}function Ai(s,i){s.blockedOn===i&&(s.blockedOn=null,oc||(oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uw)))}function Di(s){function i(p){return Ai(p,s)}if(0<Ua.length){Ai(Ua[0],s);for(var o=1;o<Ua.length;o++){var d=Ua[o];d.blockedOn===s&&(d.blockedOn=null)}}for(Hr!==null&&Ai(Hr,s),zr!==null&&Ai(zr,s),Br!==null&&Ai(Br,s),Ei.forEach(i),ki.forEach(i),o=0;o<$r.length;o++)d=$r[o],d.blockedOn===s&&(d.blockedOn=null);for(;0<$r.length&&(o=$r[0],o.blockedOn===null);)hh(o),o.blockedOn===null&&$r.shift()}var hs=C.ReactCurrentBatchConfig,Ha=!0;function Fw(s,i,o,d){var p=Pe,v=hs.transition;hs.transition=null;try{Pe=1,cc(s,i,o,d)}finally{Pe=p,hs.transition=v}}function Hw(s,i,o,d){var p=Pe,v=hs.transition;hs.transition=null;try{Pe=4,cc(s,i,o,d)}finally{Pe=p,hs.transition=v}}function cc(s,i,o,d){if(Ha){var p=uc(s,i,o,d);if(p===null)Ac(s,i,d,za,o),fh(s,d);else if(Lw(p,s,i,o,d))d.stopPropagation();else if(fh(s,d),i&4&&-1<Pw.indexOf(s)){for(;p!==null;){var v=Hi(p);if(v!==null&&oh(v),v=uc(s,i,o,d),v===null&&Ac(s,i,d,za,o),v===p)break;p=v}p!==null&&d.stopPropagation()}else Ac(s,i,d,null,o)}}var za=null;function uc(s,i,o,d){if(za=null,s=Jo(d),s=Dn(s),s!==null)if(i=An(s),i===null)s=null;else if(o=i.tag,o===13){if(s=Jf(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return za=s,null}function gh(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Aw()){case nc:return 1;case sh:return 4;case Ma:case Dw:return 16;case ih:return 536870912;default:return 16}default:return 16}}var Wr=null,dc=null,Ba=null;function mh(){if(Ba)return Ba;var s,i=dc,o=i.length,d,p="value"in Wr?Wr.value:Wr.textContent,v=p.length;for(s=0;s<o&&i[s]===p[s];s++);var b=o-s;for(d=1;d<=b&&i[o-d]===p[v-d];d++);return Ba=p.slice(s,1<d?1-d:void 0)}function $a(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Wa(){return!0}function vh(){return!1}function Mt(s){function i(o,d,p,v,b){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Wa:vh,this.isPropagationStopped=vh,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),i}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Mt(ps),Ti=q({},ps,{view:0,detail:0}),zw=Mt(Ti),hc,pc,Ni,Va=q({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ni&&(Ni&&s.type==="mousemove"?(hc=s.screenX-Ni.screenX,pc=s.screenY-Ni.screenY):pc=hc=0,Ni=s),hc)},movementY:function(s){return"movementY"in s?s.movementY:pc}}),yh=Mt(Va),Bw=q({},Va,{dataTransfer:0}),$w=Mt(Bw),Ww=q({},Ti,{relatedTarget:0}),gc=Mt(Ww),Vw=q({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),qw=Mt(Vw),Gw=q({},ps,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yw=Mt(Gw),Qw=q({},ps,{data:0}),wh=Mt(Qw),Kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Jw[s])?!!i[s]:!1}function mc(){return Xw}var ex=q({},Ti,{key:function(s){if(s.key){var i=Kw[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tx=Mt(ex),rx=q({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=Mt(rx),nx=q({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),sx=Mt(nx),ix=q({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),ax=Mt(ix),lx=q({},Va,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ox=Mt(lx),cx=[9,13,27,32],vc=u&&"CompositionEvent"in window,Ri=null;u&&"documentMode"in document&&(Ri=document.documentMode);var ux=u&&"TextEvent"in window&&!Ri,bh=u&&(!vc||Ri&&8<Ri&&11>=Ri),Sh=" ",_h=!1;function Eh(s,i){switch(s){case"keyup":return cx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var gs=!1;function dx(s,i){switch(s){case"compositionend":return kh(i);case"keypress":return i.which!==32?null:(_h=!0,Sh);case"textInput":return s=i.data,s===Sh&&_h?null:s;default:return null}}function fx(s,i){if(gs)return s==="compositionend"||!vc&&Eh(s,i)?(s=mh(),Ba=dc=Wr=null,gs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bh&&i.locale!=="ko"?null:i.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!hx[s.type]:i==="textarea"}function Ah(s,i,o,d){Gf(d),i=Ka(i,"onChange"),0<i.length&&(o=new fc("onChange","change",null,o,d),s.push({event:o,listeners:i}))}var ji=null,Mi=null;function px(s){Vh(s,0)}function qa(s){var i=xs(s);if(Fr(i))return s}function gx(s,i){if(s==="change")return i}var Dh=!1;if(u){var yc;if(u){var wc="oninput"in document;if(!wc){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),wc=typeof Th.oninput=="function"}yc=wc}else yc=!1;Dh=yc&&(!document.documentMode||9<document.documentMode)}function Nh(){ji&&(ji.detachEvent("onpropertychange",Rh),Mi=ji=null)}function Rh(s){if(s.propertyName==="value"&&qa(Mi)){var i=[];Ah(i,Mi,s,Jo(s)),Zf(px,i)}}function mx(s,i,o){s==="focusin"?(Nh(),ji=i,Mi=o,ji.attachEvent("onpropertychange",Rh)):s==="focusout"&&Nh()}function vx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qa(Mi)}function yx(s,i){if(s==="click")return qa(i)}function wx(s,i){if(s==="input"||s==="change")return qa(i)}function xx(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Yt=typeof Object.is=="function"?Object.is:xx;function Ii(s,i){if(Yt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!f.call(i,p)||!Yt(s[p],i[p]))return!1}return!0}function jh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Mh(s,i){var o=jh(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=i&&d>=i)return{node:o,offset:i-s};s=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jh(o)}}function Ih(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ih(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Oh(){for(var s=window,i=wr();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=wr(s.document)}return i}function xc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function bx(s){var i=Oh(),o=s.focusedElem,d=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Ih(o.ownerDocument.documentElement,o)){if(d!==null&&xc(o)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=o.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!s.extend&&v>d&&(p=d,d=v,v=p),p=Mh(o,v);var b=Mh(o,d);p&&b&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),v>d?(s.addRange(i),s.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Sx=u&&"documentMode"in document&&11>=document.documentMode,ms=null,bc=null,Oi=null,Sc=!1;function Ph(s,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sc||ms==null||ms!==wr(d)||(d=ms,"selectionStart"in d&&xc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oi&&Ii(Oi,d)||(Oi=d,d=Ka(bc,"onSelect"),0<d.length&&(i=new fc("onSelect","select",null,i,o),s.push({event:i,listeners:d}),i.target=ms)))}function Ga(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var vs={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},_c={},Lh={};u&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ya(s){if(_c[s])return _c[s];if(!vs[s])return s;var i=vs[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Lh)return _c[s]=i[o];return s}var Uh=Ya("animationend"),Fh=Ya("animationiteration"),Hh=Ya("animationstart"),zh=Ya("transitionend"),Bh=new Map,$h="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(s,i){Bh.set(s,i),l(i,[s])}for(var Ec=0;Ec<$h.length;Ec++){var kc=$h[Ec],_x=kc.toLowerCase(),Ex=kc[0].toUpperCase()+kc.slice(1);Vr(_x,"on"+Ex)}Vr(Uh,"onAnimationEnd"),Vr(Fh,"onAnimationIteration"),Vr(Hh,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(zh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Wh(s,i,o){var d=s.type||"unknown-event";s.currentTarget=o,_w(d,i,void 0,s),s.currentTarget=null}function Vh(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],p=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var b=d.length-1;0<=b;b--){var k=d[b],T=k.instance,L=k.currentTarget;if(k=k.listener,T!==v&&p.isPropagationStopped())break e;Wh(p,k,L),v=T}else for(b=0;b<d.length;b++){if(k=d[b],T=k.instance,L=k.currentTarget,k=k.listener,T!==v&&p.isPropagationStopped())break e;Wh(p,k,L),v=T}}}if(ja)throw s=rc,ja=!1,rc=null,s}function $e(s,i){var o=i[Mc];o===void 0&&(o=i[Mc]=new Set);var d=s+"__bubble";o.has(d)||(qh(i,s,2,!1),o.add(d))}function Cc(s,i,o){var d=0;i&&(d|=4),qh(o,s,d,i)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Li(s){if(!s[Qa]){s[Qa]=!0,n.forEach(function(o){o!=="selectionchange"&&(kx.has(o)||Cc(o,!1,s),Cc(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Qa]||(i[Qa]=!0,Cc("selectionchange",!1,i))}}function qh(s,i,o,d){switch(gh(i)){case 1:var p=Fw;break;case 4:p=Hw;break;default:p=cc}o=p.bind(null,i,o,s),p=void 0,!tc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,o,{capture:!0,passive:p}):s.addEventListener(i,o,!0):p!==void 0?s.addEventListener(i,o,{passive:p}):s.addEventListener(i,o,!1)}function Ac(s,i,o,d,p){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var k=d.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var T=b.tag;if((T===3||T===4)&&(T=b.stateNode.containerInfo,T===p||T.nodeType===8&&T.parentNode===p))return;b=b.return}for(;k!==null;){if(b=Dn(k),b===null)return;if(T=b.tag,T===5||T===6){d=v=b;continue e}k=k.parentNode}}d=d.return}Zf(function(){var L=v,Y=Jo(o),Q=[];e:{var G=Bh.get(s);if(G!==void 0){var re=fc,le=s;switch(s){case"keypress":if($a(o)===0)break e;case"keydown":case"keyup":re=tx;break;case"focusin":le="focus",re=gc;break;case"focusout":le="blur",re=gc;break;case"beforeblur":case"afterblur":re=gc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=$w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=sx;break;case Uh:case Fh:case Hh:re=qw;break;case zh:re=ax;break;case"scroll":re=zw;break;case"wheel":re=ox;break;case"copy":case"cut":case"paste":re=Yw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=xh}var oe=(i&4)!==0,Xe=!oe&&s==="scroll",M=oe?G!==null?G+"Capture":null:G;oe=[];for(var j=L,O;j!==null;){O=j;var Z=O.stateNode;if(O.tag===5&&Z!==null&&(O=Z,M!==null&&(Z=wi(j,M),Z!=null&&oe.push(Ui(j,Z,O)))),Xe)break;j=j.return}0<oe.length&&(G=new re(G,le,null,o,Y),Q.push({event:G,listeners:oe}))}}if((i&7)===0){e:{if(G=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",G&&o!==Zo&&(le=o.relatedTarget||o.fromElement)&&(Dn(le)||le[xr]))break e;if((re||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,re?(le=o.relatedTarget||o.toElement,re=L,le=le?Dn(le):null,le!==null&&(Xe=An(le),le!==Xe||le.tag!==5&&le.tag!==6)&&(le=null)):(re=null,le=L),re!==le)){if(oe=yh,Z="onMouseLeave",M="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(oe=xh,Z="onPointerLeave",M="onPointerEnter",j="pointer"),Xe=re==null?G:xs(re),O=le==null?G:xs(le),G=new oe(Z,j+"leave",re,o,Y),G.target=Xe,G.relatedTarget=O,Z=null,Dn(Y)===L&&(oe=new oe(M,j+"enter",le,o,Y),oe.target=O,oe.relatedTarget=Xe,Z=oe),Xe=Z,re&&le)t:{for(oe=re,M=le,j=0,O=oe;O;O=ys(O))j++;for(O=0,Z=M;Z;Z=ys(Z))O++;for(;0<j-O;)oe=ys(oe),j--;for(;0<O-j;)M=ys(M),O--;for(;j--;){if(oe===M||M!==null&&oe===M.alternate)break t;oe=ys(oe),M=ys(M)}oe=null}else oe=null;re!==null&&Gh(Q,G,re,oe,!1),le!==null&&Xe!==null&&Gh(Q,Xe,le,oe,!0)}}e:{if(G=L?xs(L):window,re=G.nodeName&&G.nodeName.toLowerCase(),re==="select"||re==="input"&&G.type==="file")var ce=gx;else if(Ch(G))if(Dh)ce=wx;else{ce=vx;var pe=mx}else(re=G.nodeName)&&re.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ce=yx);if(ce&&(ce=ce(s,L))){Ah(Q,ce,o,Y);break e}pe&&pe(s,G,L),s==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&qo(G,"number",G.value)}switch(pe=L?xs(L):window,s){case"focusin":(Ch(pe)||pe.contentEditable==="true")&&(ms=pe,bc=L,Oi=null);break;case"focusout":Oi=bc=ms=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Ph(Q,o,Y);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":Ph(Q,o,Y)}var ge;if(vc)e:{switch(s){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else gs?Eh(s,o)&&(ye="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(bh&&o.locale!=="ko"&&(gs||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&gs&&(ge=mh()):(Wr=Y,dc="value"in Wr?Wr.value:Wr.textContent,gs=!0)),pe=Ka(L,ye),0<pe.length&&(ye=new wh(ye,s,null,o,Y),Q.push({event:ye,listeners:pe}),ge?ye.data=ge:(ge=kh(o),ge!==null&&(ye.data=ge)))),(ge=ux?dx(s,o):fx(s,o))&&(L=Ka(L,"onBeforeInput"),0<L.length&&(Y=new wh("onBeforeInput","beforeinput",null,o,Y),Q.push({event:Y,listeners:L}),Y.data=ge))}Vh(Q,i)})}function Ui(s,i,o){return{instance:s,listener:i,currentTarget:o}}function Ka(s,i){for(var o=i+"Capture",d=[];s!==null;){var p=s,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=wi(s,o),v!=null&&d.unshift(Ui(s,v,p)),v=wi(s,i),v!=null&&d.push(Ui(s,v,p))),s=s.return}return d}function ys(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Gh(s,i,o,d,p){for(var v=i._reactName,b=[];o!==null&&o!==d;){var k=o,T=k.alternate,L=k.stateNode;if(T!==null&&T===d)break;k.tag===5&&L!==null&&(k=L,p?(T=wi(o,v),T!=null&&b.unshift(Ui(o,T,k))):p||(T=wi(o,v),T!=null&&b.push(Ui(o,T,k)))),o=o.return}b.length!==0&&s.push({event:i,listeners:b})}var Cx=/\r\n?/g,Ax=/\u0000|\uFFFD/g;function Yh(s){return(typeof s=="string"?s:""+s).replace(Cx,`
`).replace(Ax,"")}function Za(s,i,o){if(i=Yh(i),Yh(s)!==i&&o)throw Error(t(425))}function Ja(){}var Dc=null,Tc=null;function Nc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(s){return Qh.resolve(null).then(s).catch(Nx)}:Rc;function Nx(s){setTimeout(function(){throw s})}function jc(s,i){var o=i,d=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(d===0){s.removeChild(p),Di(i);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=p}while(o);Di(i)}function qr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Kh(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var ws=Math.random().toString(36).slice(2),or="__reactFiber$"+ws,Fi="__reactProps$"+ws,xr="__reactContainer$"+ws,Mc="__reactEvents$"+ws,Rx="__reactListeners$"+ws,jx="__reactHandles$"+ws;function Dn(s){var i=s[or];if(i)return i;for(var o=s.parentNode;o;){if(i=o[xr]||o[or]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=Kh(s);s!==null;){if(o=s[or])return o;s=Kh(s)}return i}s=o,o=s.parentNode}return null}function Hi(s){return s=s[or]||s[xr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Xa(s){return s[Fi]||null}var Ic=[],bs=-1;function Gr(s){return{current:s}}function We(s){0>bs||(s.current=Ic[bs],Ic[bs]=null,bs--)}function Fe(s,i){bs++,Ic[bs]=s.current,s.current=i}var Yr={},ut=Gr(Yr),Et=Gr(!1),Tn=Yr;function Ss(s,i){var o=s.type.contextTypes;if(!o)return Yr;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in o)p[v]=i[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function kt(s){return s=s.childContextTypes,s!=null}function el(){We(Et),We(ut)}function Zh(s,i,o){if(ut.current!==Yr)throw Error(t(168));Fe(ut,i),Fe(Et,o)}function Jh(s,i,o){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(t(108,Te(s)||"Unknown",p));return q({},o,d)}function tl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Yr,Tn=ut.current,Fe(ut,s),Fe(Et,Et.current),!0}function Xh(s,i,o){var d=s.stateNode;if(!d)throw Error(t(169));o?(s=Jh(s,i,Tn),d.__reactInternalMemoizedMergedChildContext=s,We(Et),We(ut),Fe(ut,s)):We(Et),Fe(Et,o)}var br=null,rl=!1,Oc=!1;function ep(s){br===null?br=[s]:br.push(s)}function Mx(s){rl=!0,ep(s)}function Qr(){if(!Oc&&br!==null){Oc=!0;var s=0,i=Pe;try{var o=br;for(Pe=1;s<o.length;s++){var d=o[s];do d=d(!0);while(d!==null)}br=null,rl=!1}catch(p){throw br!==null&&(br=br.slice(s+1)),rh(nc,Qr),p}finally{Pe=i,Oc=!1}}return null}var _s=[],Es=0,nl=null,sl=0,Ht=[],zt=0,Nn=null,Sr=1,_r="";function Rn(s,i){_s[Es++]=sl,_s[Es++]=nl,nl=s,sl=i}function tp(s,i,o){Ht[zt++]=Sr,Ht[zt++]=_r,Ht[zt++]=Nn,Nn=s;var d=Sr;s=_r;var p=32-Gt(d)-1;d&=~(1<<p),o+=1;var v=32-Gt(i)+p;if(30<v){var b=p-p%5;v=(d&(1<<b)-1).toString(32),d>>=b,p-=b,Sr=1<<32-Gt(i)+p|o<<p|d,_r=v+s}else Sr=1<<v|o<<p|d,_r=s}function Pc(s){s.return!==null&&(Rn(s,1),tp(s,1,0))}function Lc(s){for(;s===nl;)nl=_s[--Es],_s[Es]=null,sl=_s[--Es],_s[Es]=null;for(;s===Nn;)Nn=Ht[--zt],Ht[zt]=null,_r=Ht[--zt],Ht[zt]=null,Sr=Ht[--zt],Ht[zt]=null}var It=null,Ot=null,Ve=!1,Qt=null;function rp(s,i){var o=Vt(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function np(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,It=s,Ot=qr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,It=s,Ot=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=Nn!==null?{id:Sr,overflow:_r}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Vt(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,It=s,Ot=null,!0):!1;default:return!1}}function Uc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Fc(s){if(Ve){var i=Ot;if(i){var o=i;if(!np(s,i)){if(Uc(s))throw Error(t(418));i=qr(o.nextSibling);var d=It;i&&np(s,i)?rp(d,o):(s.flags=s.flags&-4097|2,Ve=!1,It=s)}}else{if(Uc(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ve=!1,It=s}}}function sp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;It=s}function il(s){if(s!==It)return!1;if(!Ve)return sp(s),Ve=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Nc(s.type,s.memoizedProps)),i&&(i=Ot)){if(Uc(s))throw ip(),Error(t(418));for(;i;)rp(s,i),i=qr(i.nextSibling)}if(sp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){Ot=qr(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}Ot=null}}else Ot=It?qr(s.stateNode.nextSibling):null;return!0}function ip(){for(var s=Ot;s;)s=qr(s.nextSibling)}function ks(){Ot=It=null,Ve=!1}function Hc(s){Qt===null?Qt=[s]:Qt.push(s)}var Ix=C.ReactCurrentBatchConfig;function zi(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var d=o.stateNode}if(!d)throw Error(t(147,s));var p=d,v=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(b){var k=p.refs;b===null?delete k[v]:k[v]=b},i._stringRef=v,i)}if(typeof s!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,s))}return s}function al(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function ap(s){var i=s._init;return i(s._payload)}function lp(s){function i(M,j){if(s){var O=M.deletions;O===null?(M.deletions=[j],M.flags|=16):O.push(j)}}function o(M,j){if(!s)return null;for(;j!==null;)i(M,j),j=j.sibling;return null}function d(M,j){for(M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function p(M,j){return M=nn(M,j),M.index=0,M.sibling=null,M}function v(M,j,O){return M.index=O,s?(O=M.alternate,O!==null?(O=O.index,O<j?(M.flags|=2,j):O):(M.flags|=2,j)):(M.flags|=1048576,j)}function b(M){return s&&M.alternate===null&&(M.flags|=2),M}function k(M,j,O,Z){return j===null||j.tag!==6?(j=Ru(O,M.mode,Z),j.return=M,j):(j=p(j,O),j.return=M,j)}function T(M,j,O,Z){var ce=O.type;return ce===W?Y(M,j,O.props.children,Z,O.key):j!==null&&(j.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===X&&ap(ce)===j.type)?(Z=p(j,O.props),Z.ref=zi(M,j,O),Z.return=M,Z):(Z=Nl(O.type,O.key,O.props,null,M.mode,Z),Z.ref=zi(M,j,O),Z.return=M,Z)}function L(M,j,O,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==O.containerInfo||j.stateNode.implementation!==O.implementation?(j=ju(O,M.mode,Z),j.return=M,j):(j=p(j,O.children||[]),j.return=M,j)}function Y(M,j,O,Z,ce){return j===null||j.tag!==7?(j=Fn(O,M.mode,Z,ce),j.return=M,j):(j=p(j,O),j.return=M,j)}function Q(M,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Ru(""+j,M.mode,O),j.return=M,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case z:return O=Nl(j.type,j.key,j.props,null,M.mode,O),O.ref=zi(M,null,j),O.return=M,O;case F:return j=ju(j,M.mode,O),j.return=M,j;case X:var Z=j._init;return Q(M,Z(j._payload),O)}if(mi(j)||K(j))return j=Fn(j,M.mode,O,null),j.return=M,j;al(M,j)}return null}function G(M,j,O,Z){var ce=j!==null?j.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ce!==null?null:k(M,j,""+O,Z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return O.key===ce?T(M,j,O,Z):null;case F:return O.key===ce?L(M,j,O,Z):null;case X:return ce=O._init,G(M,j,ce(O._payload),Z)}if(mi(O)||K(O))return ce!==null?null:Y(M,j,O,Z,null);al(M,O)}return null}function re(M,j,O,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(O)||null,k(j,M,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case z:return M=M.get(Z.key===null?O:Z.key)||null,T(j,M,Z,ce);case F:return M=M.get(Z.key===null?O:Z.key)||null,L(j,M,Z,ce);case X:var pe=Z._init;return re(M,j,O,pe(Z._payload),ce)}if(mi(Z)||K(Z))return M=M.get(O)||null,Y(j,M,Z,ce,null);al(j,Z)}return null}function le(M,j,O,Z){for(var ce=null,pe=null,ge=j,ye=j=0,it=null;ge!==null&&ye<O.length;ye++){ge.index>ye?(it=ge,ge=null):it=ge.sibling;var Me=G(M,ge,O[ye],Z);if(Me===null){ge===null&&(ge=it);break}s&&ge&&Me.alternate===null&&i(M,ge),j=v(Me,j,ye),pe===null?ce=Me:pe.sibling=Me,pe=Me,ge=it}if(ye===O.length)return o(M,ge),Ve&&Rn(M,ye),ce;if(ge===null){for(;ye<O.length;ye++)ge=Q(M,O[ye],Z),ge!==null&&(j=v(ge,j,ye),pe===null?ce=ge:pe.sibling=ge,pe=ge);return Ve&&Rn(M,ye),ce}for(ge=d(M,ge);ye<O.length;ye++)it=re(ge,M,ye,O[ye],Z),it!==null&&(s&&it.alternate!==null&&ge.delete(it.key===null?ye:it.key),j=v(it,j,ye),pe===null?ce=it:pe.sibling=it,pe=it);return s&&ge.forEach(function(sn){return i(M,sn)}),Ve&&Rn(M,ye),ce}function oe(M,j,O,Z){var ce=K(O);if(typeof ce!="function")throw Error(t(150));if(O=ce.call(O),O==null)throw Error(t(151));for(var pe=ce=null,ge=j,ye=j=0,it=null,Me=O.next();ge!==null&&!Me.done;ye++,Me=O.next()){ge.index>ye?(it=ge,ge=null):it=ge.sibling;var sn=G(M,ge,Me.value,Z);if(sn===null){ge===null&&(ge=it);break}s&&ge&&sn.alternate===null&&i(M,ge),j=v(sn,j,ye),pe===null?ce=sn:pe.sibling=sn,pe=sn,ge=it}if(Me.done)return o(M,ge),Ve&&Rn(M,ye),ce;if(ge===null){for(;!Me.done;ye++,Me=O.next())Me=Q(M,Me.value,Z),Me!==null&&(j=v(Me,j,ye),pe===null?ce=Me:pe.sibling=Me,pe=Me);return Ve&&Rn(M,ye),ce}for(ge=d(M,ge);!Me.done;ye++,Me=O.next())Me=re(ge,M,ye,Me.value,Z),Me!==null&&(s&&Me.alternate!==null&&ge.delete(Me.key===null?ye:Me.key),j=v(Me,j,ye),pe===null?ce=Me:pe.sibling=Me,pe=Me);return s&&ge.forEach(function(hb){return i(M,hb)}),Ve&&Rn(M,ye),ce}function Xe(M,j,O,Z){if(typeof O=="object"&&O!==null&&O.type===W&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case z:e:{for(var ce=O.key,pe=j;pe!==null;){if(pe.key===ce){if(ce=O.type,ce===W){if(pe.tag===7){o(M,pe.sibling),j=p(pe,O.props.children),j.return=M,M=j;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===X&&ap(ce)===pe.type){o(M,pe.sibling),j=p(pe,O.props),j.ref=zi(M,pe,O),j.return=M,M=j;break e}o(M,pe);break}else i(M,pe);pe=pe.sibling}O.type===W?(j=Fn(O.props.children,M.mode,Z,O.key),j.return=M,M=j):(Z=Nl(O.type,O.key,O.props,null,M.mode,Z),Z.ref=zi(M,j,O),Z.return=M,M=Z)}return b(M);case F:e:{for(pe=O.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===O.containerInfo&&j.stateNode.implementation===O.implementation){o(M,j.sibling),j=p(j,O.children||[]),j.return=M,M=j;break e}else{o(M,j);break}else i(M,j);j=j.sibling}j=ju(O,M.mode,Z),j.return=M,M=j}return b(M);case X:return pe=O._init,Xe(M,j,pe(O._payload),Z)}if(mi(O))return le(M,j,O,Z);if(K(O))return oe(M,j,O,Z);al(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,j!==null&&j.tag===6?(o(M,j.sibling),j=p(j,O),j.return=M,M=j):(o(M,j),j=Ru(O,M.mode,Z),j.return=M,M=j),b(M)):o(M,j)}return Xe}var Cs=lp(!0),op=lp(!1),ll=Gr(null),ol=null,As=null,zc=null;function Bc(){zc=As=ol=null}function $c(s){var i=ll.current;We(ll),s._currentValue=i}function Wc(s,i,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===o)break;s=s.return}}function Ds(s,i){ol=s,zc=As=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Ct=!0),s.firstContext=null)}function Bt(s){var i=s._currentValue;if(zc!==s)if(s={context:s,memoizedValue:i,next:null},As===null){if(ol===null)throw Error(t(308));As=s,ol.dependencies={lanes:0,firstContext:s}}else As=As.next=s;return i}var jn=null;function Vc(s){jn===null?jn=[s]:jn.push(s)}function cp(s,i,o,d){var p=i.interleaved;return p===null?(o.next=o,Vc(i)):(o.next=p.next,p.next=o),i.interleaved=o,Er(s,d)}function Er(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var Kr=!1;function qc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function up(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function kr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(s,i,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,Er(s,o)}return p=d.interleaved,p===null?(i.next=i,Vc(d)):(i.next=p.next,p.next=i),d.interleaved=i,Er(s,o)}function cl(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,o|=d,i.lanes=o,ac(s,o)}}function dp(s,i){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?p=v=b:v=v.next=b,o=o.next}while(o!==null);v===null?p=v=i:v=v.next=i}else p=v=i;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function ul(s,i,o,d){var p=s.updateQueue;Kr=!1;var v=p.firstBaseUpdate,b=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var T=k,L=T.next;T.next=null,b===null?v=L:b.next=L,b=T;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,k=Y.lastBaseUpdate,k!==b&&(k===null?Y.firstBaseUpdate=L:k.next=L,Y.lastBaseUpdate=T))}if(v!==null){var Q=p.baseState;b=0,Y=L=T=null,k=v;do{var G=k.lane,re=k.eventTime;if((d&G)===G){Y!==null&&(Y=Y.next={eventTime:re,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var le=s,oe=k;switch(G=i,re=o,oe.tag){case 1:if(le=oe.payload,typeof le=="function"){Q=le.call(re,Q,G);break e}Q=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=oe.payload,G=typeof le=="function"?le.call(re,Q,G):le,G==null)break e;Q=q({},Q,G);break e;case 2:Kr=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,G=p.effects,G===null?p.effects=[k]:G.push(k))}else re={eventTime:re,lane:G,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(L=Y=re,T=Q):Y=Y.next=re,b|=G;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;G=k,k=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);if(Y===null&&(T=Q),p.baseState=T,p.firstBaseUpdate=L,p.lastBaseUpdate=Y,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);On|=b,s.lanes=b,s.memoizedState=Q}}function fp(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=o,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Bi={},cr=Gr(Bi),$i=Gr(Bi),Wi=Gr(Bi);function Mn(s){if(s===Bi)throw Error(t(174));return s}function Gc(s,i){switch(Fe(Wi,i),Fe($i,s),Fe(cr,Bi),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Yo(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Yo(i,s)}We(cr),Fe(cr,i)}function Ts(){We(cr),We($i),We(Wi)}function hp(s){Mn(Wi.current);var i=Mn(cr.current),o=Yo(i,s.type);i!==o&&(Fe($i,s),Fe(cr,o))}function Yc(s){$i.current===s&&(We(cr),We($i))}var Ge=Gr(0);function dl(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qc=[];function Kc(){for(var s=0;s<Qc.length;s++)Qc[s]._workInProgressVersionPrimary=null;Qc.length=0}var fl=C.ReactCurrentDispatcher,Zc=C.ReactCurrentBatchConfig,In=0,Ye=null,tt=null,nt=null,hl=!1,Vi=!1,qi=0,Ox=0;function dt(){throw Error(t(321))}function Jc(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Yt(s[o],i[o]))return!1;return!0}function Xc(s,i,o,d,p,v){if(In=v,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,fl.current=s===null||s.memoizedState===null?Fx:Hx,s=o(d,p),Vi){v=0;do{if(Vi=!1,qi=0,25<=v)throw Error(t(301));v+=1,nt=tt=null,i.updateQueue=null,fl.current=zx,s=o(d,p)}while(Vi)}if(fl.current=ml,i=tt!==null&&tt.next!==null,In=0,nt=tt=Ye=null,hl=!1,i)throw Error(t(300));return s}function eu(){var s=qi!==0;return qi=0,s}function ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ye.memoizedState=nt=s:nt=nt.next=s,nt}function $t(){if(tt===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var i=nt===null?Ye.memoizedState:nt.next;if(i!==null)nt=i,tt=s;else{if(s===null)throw Error(t(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},nt===null?Ye.memoizedState=nt=s:nt=nt.next=s}return nt}function Gi(s,i){return typeof i=="function"?i(s):i}function tu(s){var i=$t(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=s;var d=tt,p=d.baseQueue,v=o.pending;if(v!==null){if(p!==null){var b=p.next;p.next=v.next,v.next=b}d.baseQueue=p=v,o.pending=null}if(p!==null){v=p.next,d=d.baseState;var k=b=null,T=null,L=v;do{var Y=L.lane;if((In&Y)===Y)T!==null&&(T=T.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),d=L.hasEagerState?L.eagerState:s(d,L.action);else{var Q={lane:Y,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};T===null?(k=T=Q,b=d):T=T.next=Q,Ye.lanes|=Y,On|=Y}L=L.next}while(L!==null&&L!==v);T===null?b=d:T.next=k,Yt(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseState=b,i.baseQueue=T,o.lastRenderedState=d}if(s=o.interleaved,s!==null){p=s;do v=p.lane,Ye.lanes|=v,On|=v,p=p.next;while(p!==s)}else p===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function ru(s){var i=$t(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=s;var d=o.dispatch,p=o.pending,v=i.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do v=s(v,b.action),b=b.next;while(b!==p);Yt(v,i.memoizedState)||(Ct=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,d]}function pp(){}function gp(s,i){var o=Ye,d=$t(),p=i(),v=!Yt(d.memoizedState,p);if(v&&(d.memoizedState=p,Ct=!0),d=d.queue,nu(yp.bind(null,o,d,s),[s]),d.getSnapshot!==i||v||nt!==null&&nt.memoizedState.tag&1){if(o.flags|=2048,Yi(9,vp.bind(null,o,d,p,i),void 0,null),st===null)throw Error(t(349));(In&30)!==0||mp(o,i,p)}return p}function mp(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function vp(s,i,o,d){i.value=o,i.getSnapshot=d,wp(i)&&xp(s)}function yp(s,i,o){return o(function(){wp(i)&&xp(s)})}function wp(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Yt(s,o)}catch{return!0}}function xp(s){var i=Er(s,1);i!==null&&Xt(i,s,1,-1)}function bp(s){var i=ur();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},i.queue=s,s=s.dispatch=Ux.bind(null,Ye,s),[i.memoizedState,s]}function Yi(s,i,o,d){return s={tag:s,create:i,destroy:o,deps:d,next:null},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,i.lastEffect=s)),s}function Sp(){return $t().memoizedState}function pl(s,i,o,d){var p=ur();Ye.flags|=s,p.memoizedState=Yi(1|i,o,void 0,d===void 0?null:d)}function gl(s,i,o,d){var p=$t();d=d===void 0?null:d;var v=void 0;if(tt!==null){var b=tt.memoizedState;if(v=b.destroy,d!==null&&Jc(d,b.deps)){p.memoizedState=Yi(i,o,v,d);return}}Ye.flags|=s,p.memoizedState=Yi(1|i,o,v,d)}function _p(s,i){return pl(8390656,8,s,i)}function nu(s,i){return gl(2048,8,s,i)}function Ep(s,i){return gl(4,2,s,i)}function kp(s,i){return gl(4,4,s,i)}function Cp(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Ap(s,i,o){return o=o!=null?o.concat([s]):null,gl(4,4,Cp.bind(null,i,s),o)}function su(){}function Dp(s,i){var o=$t();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&Jc(i,d[1])?d[0]:(o.memoizedState=[s,i],s)}function Tp(s,i){var o=$t();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&Jc(i,d[1])?d[0]:(s=s(),o.memoizedState=[s,i],s)}function Np(s,i,o){return(In&21)===0?(s.baseState&&(s.baseState=!1,Ct=!0),s.memoizedState=o):(Yt(o,i)||(o=ah(),Ye.lanes|=o,On|=o,s.baseState=!0),i)}function Px(s,i){var o=Pe;Pe=o!==0&&4>o?o:4,s(!0);var d=Zc.transition;Zc.transition={};try{s(!1),i()}finally{Pe=o,Zc.transition=d}}function Rp(){return $t().memoizedState}function Lx(s,i,o){var d=tn(s);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},jp(s))Mp(i,o);else if(o=cp(s,i,o,d),o!==null){var p=xt();Xt(o,s,d,p),Ip(o,i,d)}}function Ux(s,i,o){var d=tn(s),p={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(jp(s))Mp(i,p);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var b=i.lastRenderedState,k=v(b,o);if(p.hasEagerState=!0,p.eagerState=k,Yt(k,b)){var T=i.interleaved;T===null?(p.next=p,Vc(i)):(p.next=T.next,T.next=p),i.interleaved=p;return}}catch{}finally{}o=cp(s,i,p,d),o!==null&&(p=xt(),Xt(o,s,d,p),Ip(o,i,d))}}function jp(s){var i=s.alternate;return s===Ye||i!==null&&i===Ye}function Mp(s,i){Vi=hl=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Ip(s,i,o){if((o&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,o|=d,i.lanes=o,ac(s,o)}}var ml={readContext:Bt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Fx={readContext:Bt,useCallback:function(s,i){return ur().memoizedState=[s,i===void 0?null:i],s},useContext:Bt,useEffect:_p,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,pl(4194308,4,Cp.bind(null,i,s),o)},useLayoutEffect:function(s,i){return pl(4194308,4,s,i)},useInsertionEffect:function(s,i){return pl(4,2,s,i)},useMemo:function(s,i){var o=ur();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var d=ur();return i=o!==void 0?o(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=Lx.bind(null,Ye,s),[d.memoizedState,s]},useRef:function(s){var i=ur();return s={current:s},i.memoizedState=s},useState:bp,useDebugValue:su,useDeferredValue:function(s){return ur().memoizedState=s},useTransition:function(){var s=bp(!1),i=s[0];return s=Px.bind(null,s[1]),ur().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var d=Ye,p=ur();if(Ve){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),st===null)throw Error(t(349));(In&30)!==0||mp(d,i,o)}p.memoizedState=o;var v={value:o,getSnapshot:i};return p.queue=v,_p(yp.bind(null,d,v,s),[s]),d.flags|=2048,Yi(9,vp.bind(null,d,v,o,i),void 0,null),o},useId:function(){var s=ur(),i=st.identifierPrefix;if(Ve){var o=_r,d=Sr;o=(d&~(1<<32-Gt(d)-1)).toString(32)+o,i=":"+i+"R"+o,o=qi++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Ox++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Hx={readContext:Bt,useCallback:Dp,useContext:Bt,useEffect:nu,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:kp,useMemo:Tp,useReducer:tu,useRef:Sp,useState:function(){return tu(Gi)},useDebugValue:su,useDeferredValue:function(s){var i=$t();return Np(i,tt.memoizedState,s)},useTransition:function(){var s=tu(Gi)[0],i=$t().memoizedState;return[s,i]},useMutableSource:pp,useSyncExternalStore:gp,useId:Rp,unstable_isNewReconciler:!1},zx={readContext:Bt,useCallback:Dp,useContext:Bt,useEffect:nu,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:kp,useMemo:Tp,useReducer:ru,useRef:Sp,useState:function(){return ru(Gi)},useDebugValue:su,useDeferredValue:function(s){var i=$t();return tt===null?i.memoizedState=s:Np(i,tt.memoizedState,s)},useTransition:function(){var s=ru(Gi)[0],i=$t().memoizedState;return[s,i]},useMutableSource:pp,useSyncExternalStore:gp,useId:Rp,unstable_isNewReconciler:!1};function Kt(s,i){if(s&&s.defaultProps){i=q({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}function iu(s,i,o,d){i=s.memoizedState,o=o(d,i),o=o==null?i:q({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var vl={isMounted:function(s){return(s=s._reactInternals)?An(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var d=xt(),p=tn(s),v=kr(d,p);v.payload=i,o!=null&&(v.callback=o),i=Zr(s,v,p),i!==null&&(Xt(i,s,p,d),cl(i,s,p))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var d=xt(),p=tn(s),v=kr(d,p);v.tag=1,v.payload=i,o!=null&&(v.callback=o),i=Zr(s,v,p),i!==null&&(Xt(i,s,p,d),cl(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=xt(),d=tn(s),p=kr(o,d);p.tag=2,i!=null&&(p.callback=i),i=Zr(s,p,d),i!==null&&(Xt(i,s,d,o),cl(i,s,d))}};function Op(s,i,o,d,p,v,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,b):i.prototype&&i.prototype.isPureReactComponent?!Ii(o,d)||!Ii(p,v):!0}function Pp(s,i,o){var d=!1,p=Yr,v=i.contextType;return typeof v=="object"&&v!==null?v=Bt(v):(p=kt(i)?Tn:ut.current,d=i.contextTypes,v=(d=d!=null)?Ss(s,p):Yr),i=new i(o,v),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vl,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=v),i}function Lp(s,i,o,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==s&&vl.enqueueReplaceState(i,i.state,null)}function au(s,i,o,d){var p=s.stateNode;p.props=o,p.state=s.memoizedState,p.refs={},qc(s);var v=i.contextType;typeof v=="object"&&v!==null?p.context=Bt(v):(v=kt(i)?Tn:ut.current,p.context=Ss(s,v)),p.state=s.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(iu(s,i,v,o),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&vl.enqueueReplaceState(p,p.state,null),ul(s,o,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Ns(s,i){try{var o="",d=i;do o+=we(d),d=d.return;while(d);var p=o}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:i,stack:p,digest:null}}function lu(s,i,o){return{value:s,source:null,stack:o??null,digest:i??null}}function ou(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Bx=typeof WeakMap=="function"?WeakMap:Map;function Up(s,i,o){o=kr(-1,o),o.tag=3,o.payload={element:null};var d=i.value;return o.callback=function(){El||(El=!0,_u=d),ou(s,i)},o}function Fp(s,i,o){o=kr(-1,o),o.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;o.payload=function(){return d(p)},o.callback=function(){ou(s,i)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){ou(s,i),typeof d!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),o}function Hp(s,i,o){var d=s.pingCache;if(d===null){d=s.pingCache=new Bx;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(o)||(p.add(o),s=rb.bind(null,s,i,o),i.then(s,s))}function zp(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Bp(s,i,o,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=kr(-1,1),i.tag=2,Zr(o,i,1))),o.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var $x=C.ReactCurrentOwner,Ct=!1;function wt(s,i,o,d){i.child=s===null?op(i,null,o,d):Cs(i,s.child,o,d)}function $p(s,i,o,d,p){o=o.render;var v=i.ref;return Ds(i,p),d=Xc(s,i,o,d,v,p),o=eu(),s!==null&&!Ct?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Cr(s,i,p)):(Ve&&o&&Pc(i),i.flags|=1,wt(s,i,d,p),i.child)}function Wp(s,i,o,d,p){if(s===null){var v=o.type;return typeof v=="function"&&!Nu(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=v,Vp(s,i,v,d,p)):(s=Nl(o.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,(s.lanes&p)===0){var b=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ii,o(b,d)&&s.ref===i.ref)return Cr(s,i,p)}return i.flags|=1,s=nn(v,d),s.ref=i.ref,s.return=i,i.child=s}function Vp(s,i,o,d,p){if(s!==null){var v=s.memoizedProps;if(Ii(v,d)&&s.ref===i.ref)if(Ct=!1,i.pendingProps=d=v,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Ct=!0);else return i.lanes=s.lanes,Cr(s,i,p)}return cu(s,i,o,d,p)}function qp(s,i,o){var d=i.pendingProps,p=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(js,Pt),Pt|=o;else{if((o&1073741824)===0)return s=v!==null?v.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Fe(js,Pt),Pt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:o,Fe(js,Pt),Pt|=d}else v!==null?(d=v.baseLanes|o,i.memoizedState=null):d=o,Fe(js,Pt),Pt|=d;return wt(s,i,p,o),i.child}function Gp(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function cu(s,i,o,d,p){var v=kt(o)?Tn:ut.current;return v=Ss(i,v),Ds(i,p),o=Xc(s,i,o,d,v,p),d=eu(),s!==null&&!Ct?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Cr(s,i,p)):(Ve&&d&&Pc(i),i.flags|=1,wt(s,i,o,p),i.child)}function Yp(s,i,o,d,p){if(kt(o)){var v=!0;tl(i)}else v=!1;if(Ds(i,p),i.stateNode===null)wl(s,i),Pp(i,o,d),au(i,o,d,p),d=!0;else if(s===null){var b=i.stateNode,k=i.memoizedProps;b.props=k;var T=b.context,L=o.contextType;typeof L=="object"&&L!==null?L=Bt(L):(L=kt(o)?Tn:ut.current,L=Ss(i,L));var Y=o.getDerivedStateFromProps,Q=typeof Y=="function"||typeof b.getSnapshotBeforeUpdate=="function";Q||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==d||T!==L)&&Lp(i,b,d,L),Kr=!1;var G=i.memoizedState;b.state=G,ul(i,d,b,p),T=i.memoizedState,k!==d||G!==T||Et.current||Kr?(typeof Y=="function"&&(iu(i,o,Y,d),T=i.memoizedState),(k=Kr||Op(i,o,k,d,G,T,L))?(Q||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=T),b.props=d,b.state=T,b.context=L,d=k):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,up(s,i),k=i.memoizedProps,L=i.type===i.elementType?k:Kt(i.type,k),b.props=L,Q=i.pendingProps,G=b.context,T=o.contextType,typeof T=="object"&&T!==null?T=Bt(T):(T=kt(o)?Tn:ut.current,T=Ss(i,T));var re=o.getDerivedStateFromProps;(Y=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==Q||G!==T)&&Lp(i,b,d,T),Kr=!1,G=i.memoizedState,b.state=G,ul(i,d,b,p);var le=i.memoizedState;k!==Q||G!==le||Et.current||Kr?(typeof re=="function"&&(iu(i,o,re,d),le=i.memoizedState),(L=Kr||Op(i,o,L,d,G,le,T)||!1)?(Y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,le,T),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,le,T)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&G===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&G===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=le),b.props=d,b.state=le,b.context=T,d=L):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&G===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&G===s.memoizedState||(i.flags|=1024),d=!1)}return uu(s,i,o,d,v,p)}function uu(s,i,o,d,p,v){Gp(s,i);var b=(i.flags&128)!==0;if(!d&&!b)return p&&Xh(i,o,!1),Cr(s,i,v);d=i.stateNode,$x.current=i;var k=b&&typeof o.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&b?(i.child=Cs(i,s.child,null,v),i.child=Cs(i,null,k,v)):wt(s,i,k,v),i.memoizedState=d.state,p&&Xh(i,o,!0),i.child}function Qp(s){var i=s.stateNode;i.pendingContext?Zh(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Zh(s,i.context,!1),Gc(s,i.containerInfo)}function Kp(s,i,o,d,p){return ks(),Hc(p),i.flags|=256,wt(s,i,o,d),i.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(s){return{baseLanes:s,cachePool:null,transitions:null}}function Zp(s,i,o){var d=i.pendingProps,p=Ge.current,v=!1,b=(i.flags&128)!==0,k;if((k=b)||(k=s!==null&&s.memoizedState===null?!1:(p&2)!==0),k?(v=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Fe(Ge,p&1),s===null)return Fc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=d.children,s=d.fallback,v?(d=i.mode,v=i.child,b={mode:"hidden",children:b},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Rl(b,d,0,null),s=Fn(s,d,o,null),v.return=i,s.return=i,v.sibling=s,i.child=v,i.child.memoizedState=fu(o),i.memoizedState=du,s):hu(i,b));if(p=s.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return Wx(s,i,b,d,k,p,o);if(v){v=d.fallback,b=i.mode,p=s.child,k=p.sibling;var T={mode:"hidden",children:d.children};return(b&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=T,i.deletions=null):(d=nn(p,T),d.subtreeFlags=p.subtreeFlags&14680064),k!==null?v=nn(k,v):(v=Fn(v,b,o,null),v.flags|=2),v.return=i,d.return=i,d.sibling=v,i.child=d,d=v,v=i.child,b=s.child.memoizedState,b=b===null?fu(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=s.childLanes&~o,i.memoizedState=du,d}return v=s.child,s=v.sibling,d=nn(v,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=o),d.return=i,d.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=d,i.memoizedState=null,d}function hu(s,i){return i=Rl({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function yl(s,i,o,d){return d!==null&&Hc(d),Cs(i,s.child,null,o),s=hu(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Wx(s,i,o,d,p,v,b){if(o)return i.flags&256?(i.flags&=-257,d=lu(Error(t(422))),yl(s,i,b,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(v=d.fallback,p=i.mode,d=Rl({mode:"visible",children:d.children},p,0,null),v=Fn(v,p,b,null),v.flags|=2,d.return=i,v.return=i,d.sibling=v,i.child=d,(i.mode&1)!==0&&Cs(i,s.child,null,b),i.child.memoizedState=fu(b),i.memoizedState=du,v);if((i.mode&1)===0)return yl(s,i,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(t(419)),d=lu(v,d,void 0),yl(s,i,b,d)}if(k=(b&s.childLanes)!==0,Ct||k){if(d=st,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Er(s,p),Xt(d,s,p,-1))}return Tu(),d=lu(Error(t(421))),yl(s,i,b,d)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=nb.bind(null,s),p._reactRetry=i,null):(s=v.treeContext,Ot=qr(p.nextSibling),It=i,Ve=!0,Qt=null,s!==null&&(Ht[zt++]=Sr,Ht[zt++]=_r,Ht[zt++]=Nn,Sr=s.id,_r=s.overflow,Nn=i),i=hu(i,d.children),i.flags|=4096,i)}function Jp(s,i,o){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Wc(s.return,i,o)}function pu(s,i,o,d,p){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=o,v.tailMode=p)}function Xp(s,i,o){var d=i.pendingProps,p=d.revealOrder,v=d.tail;if(wt(s,i,d.children,o),d=Ge.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Jp(s,o,i);else if(s.tag===19)Jp(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Fe(Ge,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(o=i.child,p=null;o!==null;)s=o.alternate,s!==null&&dl(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),pu(i,!1,p,o,v);break;case"backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&dl(s)===null){i.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}pu(i,!0,o,null,v);break;case"together":pu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wl(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Cr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),On|=i.lanes,(o&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,o=nn(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=nn(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function Vx(s,i,o){switch(i.tag){case 3:Qp(i),ks();break;case 5:hp(i);break;case 1:kt(i.type)&&tl(i);break;case 4:Gc(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Fe(ll,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Fe(Ge,Ge.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?Zp(s,i,o):(Fe(Ge,Ge.current&1),s=Cr(s,i,o),s!==null?s.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(d=(o&i.childLanes)!==0,(s.flags&128)!==0){if(d)return Xp(s,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Fe(Ge,Ge.current),d)break;return null;case 22:case 23:return i.lanes=0,qp(s,i,o)}return Cr(s,i,o)}var eg,gu,tg,rg;eg=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},gu=function(){},tg=function(s,i,o,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,Mn(cr.current);var v=null;switch(o){case"input":p=Wo(s,p),d=Wo(s,d),v=[];break;case"select":p=q({},p,{value:void 0}),d=q({},d,{value:void 0}),v=[];break;case"textarea":p=Go(s,p),d=Go(s,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Ja)}Qo(o,d);var b;o=null;for(L in p)if(!d.hasOwnProperty(L)&&p.hasOwnProperty(L)&&p[L]!=null)if(L==="style"){var k=p[L];for(b in k)k.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?v||(v=[]):(v=v||[]).push(L,null));for(L in d){var T=d[L];if(k=p!=null?p[L]:void 0,d.hasOwnProperty(L)&&T!==k&&(T!=null||k!=null))if(L==="style")if(k){for(b in k)!k.hasOwnProperty(b)||T&&T.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in T)T.hasOwnProperty(b)&&k[b]!==T[b]&&(o||(o={}),o[b]=T[b])}else o||(v||(v=[]),v.push(L,o)),o=T;else L==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,k=k?k.__html:void 0,T!=null&&k!==T&&(v=v||[]).push(L,T)):L==="children"?typeof T!="string"&&typeof T!="number"||(v=v||[]).push(L,""+T):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(T!=null&&L==="onScroll"&&$e("scroll",s),v||k===T||(v=[])):(v=v||[]).push(L,T))}o&&(v=v||[]).push("style",o);var L=v;(i.updateQueue=L)&&(i.flags|=4)}},rg=function(s,i,o,d){o!==d&&(i.flags|=4)};function Qi(s,i){if(!Ve)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ft(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(i)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=o,i}function qx(s,i,o){var d=i.pendingProps;switch(Lc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return kt(i.type)&&el(),ft(i),null;case 3:return d=i.stateNode,Ts(),We(Et),We(ut),Kc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(il(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qt!==null&&(Cu(Qt),Qt=null))),gu(s,i),ft(i),null;case 5:Yc(i);var p=Mn(Wi.current);if(o=i.type,s!==null&&i.stateNode!=null)tg(s,i,o,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return ft(i),null}if(s=Mn(cr.current),il(i)){d=i.stateNode,o=i.type;var v=i.memoizedProps;switch(d[or]=i,d[Fi]=v,s=(i.mode&1)!==0,o){case"dialog":$e("cancel",d),$e("close",d);break;case"iframe":case"object":case"embed":$e("load",d);break;case"video":case"audio":for(p=0;p<Pi.length;p++)$e(Pi[p],d);break;case"source":$e("error",d);break;case"img":case"image":case"link":$e("error",d),$e("load",d);break;case"details":$e("toggle",d);break;case"input":Pf(d,v),$e("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},$e("invalid",d);break;case"textarea":Ff(d,v),$e("invalid",d)}Qo(o,v),p=null;for(var b in v)if(v.hasOwnProperty(b)){var k=v[b];b==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&Za(d.textContent,k,s),p=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&Za(d.textContent,k,s),p=["children",""+k]):a.hasOwnProperty(b)&&k!=null&&b==="onScroll"&&$e("scroll",d)}switch(o){case"input":jt(d),Uf(d,v,!0);break;case"textarea":jt(d),zf(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Ja)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Bf(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=b.createElement(o,{is:d.is}):(s=b.createElement(o),o==="select"&&(b=s,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):s=b.createElementNS(s,o),s[or]=i,s[Fi]=d,eg(s,i,!1,!1),i.stateNode=s;e:{switch(b=Ko(o,d),o){case"dialog":$e("cancel",s),$e("close",s),p=d;break;case"iframe":case"object":case"embed":$e("load",s),p=d;break;case"video":case"audio":for(p=0;p<Pi.length;p++)$e(Pi[p],s);p=d;break;case"source":$e("error",s),p=d;break;case"img":case"image":case"link":$e("error",s),$e("load",s),p=d;break;case"details":$e("toggle",s),p=d;break;case"input":Pf(s,d),p=Wo(s,d),$e("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=q({},d,{value:void 0}),$e("invalid",s);break;case"textarea":Ff(s,d),p=Go(s,d),$e("invalid",s);break;default:p=d}Qo(o,p),k=p;for(v in k)if(k.hasOwnProperty(v)){var T=k[v];v==="style"?Vf(s,T):v==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&$f(s,T)):v==="children"?typeof T=="string"?(o!=="textarea"||T!=="")&&vi(s,T):typeof T=="number"&&vi(s,""+T):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?T!=null&&v==="onScroll"&&$e("scroll",s):T!=null&&N(s,v,T,b))}switch(o){case"input":jt(s),Uf(s,d,!1);break;case"textarea":jt(s),zf(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ae(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?us(s,!!d.multiple,v,!1):d.defaultValue!=null&&us(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Ja)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ft(i),null;case 6:if(s&&i.stateNode!=null)rg(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(o=Mn(Wi.current),Mn(cr.current),il(i)){if(d=i.stateNode,o=i.memoizedProps,d[or]=i,(v=d.nodeValue!==o)&&(s=It,s!==null))switch(s.tag){case 3:Za(d.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Za(d.nodeValue,o,(s.mode&1)!==0)}v&&(i.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[or]=i,i.stateNode=d}return ft(i),null;case 13:if(We(Ge),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ve&&Ot!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ip(),ks(),i.flags|=98560,v=!1;else if(v=il(i),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[or]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),v=!1}else Qt!==null&&(Cu(Qt),Qt=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ge.current&1)!==0?rt===0&&(rt=3):Tu())),i.updateQueue!==null&&(i.flags|=4),ft(i),null);case 4:return Ts(),gu(s,i),s===null&&Li(i.stateNode.containerInfo),ft(i),null;case 10:return $c(i.type._context),ft(i),null;case 17:return kt(i.type)&&el(),ft(i),null;case 19:if(We(Ge),v=i.memoizedState,v===null)return ft(i),null;if(d=(i.flags&128)!==0,b=v.rendering,b===null)if(d)Qi(v,!1);else{if(rt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(b=dl(s),b!==null){for(i.flags|=128,Qi(v,!1),d=b.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=o,o=i.child;o!==null;)v=o,s=d,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,s=b.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return Fe(Ge,Ge.current&1|2),i.child}s=s.sibling}v.tail!==null&&Je()>Ms&&(i.flags|=128,d=!0,Qi(v,!1),i.lanes=4194304)}else{if(!d)if(s=dl(b),s!==null){if(i.flags|=128,d=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Qi(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ve)return ft(i),null}else 2*Je()-v.renderingStartTime>Ms&&o!==1073741824&&(i.flags|=128,d=!0,Qi(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(o=v.last,o!==null?o.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Je(),i.sibling=null,o=Ge.current,Fe(Ge,d?o&1|2:o&1),i):(ft(i),null);case 22:case 23:return Du(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Pt&1073741824)!==0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Gx(s,i){switch(Lc(i),i.tag){case 1:return kt(i.type)&&el(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ts(),We(Et),We(ut),Kc(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Yc(i),null;case 13:if(We(Ge),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ks()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return We(Ge),null;case 4:return Ts(),null;case 10:return $c(i.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var xl=!1,ht=!1,Yx=typeof WeakSet=="function"?WeakSet:Set,se=null;function Rs(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){Ke(s,i,d)}else o.current=null}function mu(s,i,o){try{o()}catch(d){Ke(s,i,d)}}var ng=!1;function Qx(s,i){if(Dc=Ha,s=Oh(),xc(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var b=0,k=-1,T=-1,L=0,Y=0,Q=s,G=null;t:for(;;){for(var re;Q!==o||p!==0&&Q.nodeType!==3||(k=b+p),Q!==v||d!==0&&Q.nodeType!==3||(T=b+d),Q.nodeType===3&&(b+=Q.nodeValue.length),(re=Q.firstChild)!==null;)G=Q,Q=re;for(;;){if(Q===s)break t;if(G===o&&++L===p&&(k=b),G===v&&++Y===d&&(T=b),(re=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=re}o=k===-1||T===-1?null:{start:k,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tc={focusedElem:s,selectionRange:o},Ha=!1,se=i;se!==null;)if(i=se,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,se=s;else for(;se!==null;){i=se;try{var le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var oe=le.memoizedProps,Xe=le.memoizedState,M=i.stateNode,j=M.getSnapshotBeforeUpdate(i.elementType===i.type?oe:Kt(i.type,oe),Xe);M.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var O=i.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){Ke(i,i.return,Z)}if(s=i.sibling,s!==null){s.return=i.return,se=s;break}se=i.return}return le=ng,ng=!1,le}function Ki(s,i,o){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var v=p.destroy;p.destroy=void 0,v!==void 0&&mu(i,o,v)}p=p.next}while(p!==d)}}function bl(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var d=o.create;o.destroy=d()}o=o.next}while(o!==i)}}function vu(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function sg(s){var i=s.alternate;i!==null&&(s.alternate=null,sg(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[or],delete i[Fi],delete i[Mc],delete i[Rx],delete i[jx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ig(s){return s.tag===5||s.tag===3||s.tag===4}function ag(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ig(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yu(s,i,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ja));else if(d!==4&&(s=s.child,s!==null))for(yu(s,i,o),s=s.sibling;s!==null;)yu(s,i,o),s=s.sibling}function wu(s,i,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(wu(s,i,o),s=s.sibling;s!==null;)wu(s,i,o),s=s.sibling}var ot=null,Zt=!1;function Jr(s,i,o){for(o=o.child;o!==null;)lg(s,i,o),o=o.sibling}function lg(s,i,o){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ia,o)}catch{}switch(o.tag){case 5:ht||Rs(o,i);case 6:var d=ot,p=Zt;ot=null,Jr(s,i,o),ot=d,Zt=p,ot!==null&&(Zt?(s=ot,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):ot.removeChild(o.stateNode));break;case 18:ot!==null&&(Zt?(s=ot,o=o.stateNode,s.nodeType===8?jc(s.parentNode,o):s.nodeType===1&&jc(s,o),Di(s)):jc(ot,o.stateNode));break;case 4:d=ot,p=Zt,ot=o.stateNode.containerInfo,Zt=!0,Jr(s,i,o),ot=d,Zt=p;break;case 0:case 11:case 14:case 15:if(!ht&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&mu(o,i,b),p=p.next}while(p!==d)}Jr(s,i,o);break;case 1:if(!ht&&(Rs(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(k){Ke(o,i,k)}Jr(s,i,o);break;case 21:Jr(s,i,o);break;case 22:o.mode&1?(ht=(d=ht)||o.memoizedState!==null,Jr(s,i,o),ht=d):Jr(s,i,o);break;default:Jr(s,i,o)}}function og(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new Yx),i.forEach(function(d){var p=sb.bind(null,s,d);o.has(d)||(o.add(d),d.then(p,p))})}}function Jt(s,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];try{var v=s,b=i,k=b;e:for(;k!==null;){switch(k.tag){case 5:ot=k.stateNode,Zt=!1;break e;case 3:ot=k.stateNode.containerInfo,Zt=!0;break e;case 4:ot=k.stateNode.containerInfo,Zt=!0;break e}k=k.return}if(ot===null)throw Error(t(160));lg(v,b,p),ot=null,Zt=!1;var T=p.alternate;T!==null&&(T.return=null),p.return=null}catch(L){Ke(p,i,L)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)cg(i,s),i=i.sibling}function cg(s,i){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Jt(i,s),dr(s),d&4){try{Ki(3,s,s.return),bl(3,s)}catch(oe){Ke(s,s.return,oe)}try{Ki(5,s,s.return)}catch(oe){Ke(s,s.return,oe)}}break;case 1:Jt(i,s),dr(s),d&512&&o!==null&&Rs(o,o.return);break;case 5:if(Jt(i,s),dr(s),d&512&&o!==null&&Rs(o,o.return),s.flags&32){var p=s.stateNode;try{vi(p,"")}catch(oe){Ke(s,s.return,oe)}}if(d&4&&(p=s.stateNode,p!=null)){var v=s.memoizedProps,b=o!==null?o.memoizedProps:v,k=s.type,T=s.updateQueue;if(s.updateQueue=null,T!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&Lf(p,v),Ko(k,b);var L=Ko(k,v);for(b=0;b<T.length;b+=2){var Y=T[b],Q=T[b+1];Y==="style"?Vf(p,Q):Y==="dangerouslySetInnerHTML"?$f(p,Q):Y==="children"?vi(p,Q):N(p,Y,Q,L)}switch(k){case"input":Vo(p,v);break;case"textarea":Hf(p,v);break;case"select":var G=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var re=v.value;re!=null?us(p,!!v.multiple,re,!1):G!==!!v.multiple&&(v.defaultValue!=null?us(p,!!v.multiple,v.defaultValue,!0):us(p,!!v.multiple,v.multiple?[]:"",!1))}p[Fi]=v}catch(oe){Ke(s,s.return,oe)}}break;case 6:if(Jt(i,s),dr(s),d&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,v=s.memoizedProps;try{p.nodeValue=v}catch(oe){Ke(s,s.return,oe)}}break;case 3:if(Jt(i,s),dr(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Di(i.containerInfo)}catch(oe){Ke(s,s.return,oe)}break;case 4:Jt(i,s),dr(s);break;case 13:Jt(i,s),dr(s),p=s.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Su=Je())),d&4&&og(s);break;case 22:if(Y=o!==null&&o.memoizedState!==null,s.mode&1?(ht=(L=ht)||Y,Jt(i,s),ht=L):Jt(i,s),dr(s),d&8192){if(L=s.memoizedState!==null,(s.stateNode.isHidden=L)&&!Y&&(s.mode&1)!==0)for(se=s,Y=s.child;Y!==null;){for(Q=se=Y;se!==null;){switch(G=se,re=G.child,G.tag){case 0:case 11:case 14:case 15:Ki(4,G,G.return);break;case 1:Rs(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){d=G,o=G.return;try{i=d,le.props=i.memoizedProps,le.state=i.memoizedState,le.componentWillUnmount()}catch(oe){Ke(d,o,oe)}}break;case 5:Rs(G,G.return);break;case 22:if(G.memoizedState!==null){fg(Q);continue}}re!==null?(re.return=G,se=re):fg(Q)}Y=Y.sibling}e:for(Y=null,Q=s;;){if(Q.tag===5){if(Y===null){Y=Q;try{p=Q.stateNode,L?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=Q.stateNode,T=Q.memoizedProps.style,b=T!=null&&T.hasOwnProperty("display")?T.display:null,k.style.display=Wf("display",b))}catch(oe){Ke(s,s.return,oe)}}}else if(Q.tag===6){if(Y===null)try{Q.stateNode.nodeValue=L?"":Q.memoizedProps}catch(oe){Ke(s,s.return,oe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===s)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===s)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===s)break e;Y===Q&&(Y=null),Q=Q.return}Y===Q&&(Y=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Jt(i,s),dr(s),d&4&&og(s);break;case 21:break;default:Jt(i,s),dr(s)}}function dr(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(ig(o)){var d=o;break e}o=o.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(vi(p,""),d.flags&=-33);var v=ag(s);wu(s,v,p);break;case 3:case 4:var b=d.stateNode.containerInfo,k=ag(s);yu(s,k,b);break;default:throw Error(t(161))}}catch(T){Ke(s,s.return,T)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Kx(s,i,o){se=s,ug(s)}function ug(s,i,o){for(var d=(s.mode&1)!==0;se!==null;){var p=se,v=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||xl;if(!b){var k=p.alternate,T=k!==null&&k.memoizedState!==null||ht;k=xl;var L=ht;if(xl=b,(ht=T)&&!L)for(se=p;se!==null;)b=se,T=b.child,b.tag===22&&b.memoizedState!==null?hg(p):T!==null?(T.return=b,se=T):hg(p);for(;v!==null;)se=v,ug(v),v=v.sibling;se=p,xl=k,ht=L}dg(s)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,se=v):dg(s)}}function dg(s){for(;se!==null;){var i=se;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ht||bl(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!ht)if(o===null)d.componentDidMount();else{var p=i.elementType===i.type?o.memoizedProps:Kt(i.type,o.memoizedProps);d.componentDidUpdate(p,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&fp(i,v,d);break;case 3:var b=i.updateQueue;if(b!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}fp(i,b,o)}break;case 5:var k=i.stateNode;if(o===null&&i.flags&4){o=k;var T=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&o.focus();break;case"img":T.src&&(o.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var L=i.alternate;if(L!==null){var Y=L.memoizedState;if(Y!==null){var Q=Y.dehydrated;Q!==null&&Di(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ht||i.flags&512&&vu(i)}catch(G){Ke(i,i.return,G)}}if(i===s){se=null;break}if(o=i.sibling,o!==null){o.return=i.return,se=o;break}se=i.return}}function fg(s){for(;se!==null;){var i=se;if(i===s){se=null;break}var o=i.sibling;if(o!==null){o.return=i.return,se=o;break}se=i.return}}function hg(s){for(;se!==null;){var i=se;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{bl(4,i)}catch(T){Ke(i,o,T)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(T){Ke(i,p,T)}}var v=i.return;try{vu(i)}catch(T){Ke(i,v,T)}break;case 5:var b=i.return;try{vu(i)}catch(T){Ke(i,b,T)}}}catch(T){Ke(i,i.return,T)}if(i===s){se=null;break}var k=i.sibling;if(k!==null){k.return=i.return,se=k;break}se=i.return}}var Zx=Math.ceil,Sl=C.ReactCurrentDispatcher,xu=C.ReactCurrentOwner,Wt=C.ReactCurrentBatchConfig,Re=0,st=null,et=null,ct=0,Pt=0,js=Gr(0),rt=0,Zi=null,On=0,_l=0,bu=0,Ji=null,At=null,Su=0,Ms=1/0,Ar=null,El=!1,_u=null,Xr=null,kl=!1,en=null,Cl=0,Xi=0,Eu=null,Al=-1,Dl=0;function xt(){return(Re&6)!==0?Je():Al!==-1?Al:Al=Je()}function tn(s){return(s.mode&1)===0?1:(Re&2)!==0&&ct!==0?ct&-ct:Ix.transition!==null?(Dl===0&&(Dl=ah()),Dl):(s=Pe,s!==0||(s=window.event,s=s===void 0?16:gh(s.type)),s)}function Xt(s,i,o,d){if(50<Xi)throw Xi=0,Eu=null,Error(t(185));_i(s,o,d),((Re&2)===0||s!==st)&&(s===st&&((Re&2)===0&&(_l|=o),rt===4&&rn(s,ct)),Dt(s,d),o===1&&Re===0&&(i.mode&1)===0&&(Ms=Je()+500,rl&&Qr()))}function Dt(s,i){var o=s.callbackNode;Iw(s,i);var d=La(s,s===st?ct:0);if(d===0)o!==null&&nh(o),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(o!=null&&nh(o),i===1)s.tag===0?Mx(gg.bind(null,s)):ep(gg.bind(null,s)),Tx(function(){(Re&6)===0&&Qr()}),o=null;else{switch(lh(d)){case 1:o=nc;break;case 4:o=sh;break;case 16:o=Ma;break;case 536870912:o=ih;break;default:o=Ma}o=_g(o,pg.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function pg(s,i){if(Al=-1,Dl=0,(Re&6)!==0)throw Error(t(327));var o=s.callbackNode;if(Is()&&s.callbackNode!==o)return null;var d=La(s,s===st?ct:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Tl(s,d);else{i=d;var p=Re;Re|=2;var v=vg();(st!==s||ct!==i)&&(Ar=null,Ms=Je()+500,Ln(s,i));do try{eb();break}catch(k){mg(s,k)}while(!0);Bc(),Sl.current=v,Re=p,et!==null?i=0:(st=null,ct=0,i=rt)}if(i!==0){if(i===2&&(p=sc(s),p!==0&&(d=p,i=ku(s,p))),i===1)throw o=Zi,Ln(s,0),rn(s,d),Dt(s,Je()),o;if(i===6)rn(s,d);else{if(p=s.current.alternate,(d&30)===0&&!Jx(p)&&(i=Tl(s,d),i===2&&(v=sc(s),v!==0&&(d=v,i=ku(s,v))),i===1))throw o=Zi,Ln(s,0),rn(s,d),Dt(s,Je()),o;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:Un(s,At,Ar);break;case 3:if(rn(s,d),(d&130023424)===d&&(i=Su+500-Je(),10<i)){if(La(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){xt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Rc(Un.bind(null,s,At,Ar),i);break}Un(s,At,Ar);break;case 4:if(rn(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var b=31-Gt(d);v=1<<b,b=i[b],b>p&&(p=b),d&=~v}if(d=p,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Zx(d/1960))-d,10<d){s.timeoutHandle=Rc(Un.bind(null,s,At,Ar),d);break}Un(s,At,Ar);break;case 5:Un(s,At,Ar);break;default:throw Error(t(329))}}}return Dt(s,Je()),s.callbackNode===o?pg.bind(null,s):null}function ku(s,i){var o=Ji;return s.current.memoizedState.isDehydrated&&(Ln(s,i).flags|=256),s=Tl(s,i),s!==2&&(i=At,At=o,i!==null&&Cu(i)),s}function Cu(s){At===null?At=s:At.push.apply(At,s)}function Jx(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var p=o[d],v=p.getSnapshot;p=p.value;try{if(!Yt(v(),p))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rn(s,i){for(i&=~bu,i&=~_l,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-Gt(i),d=1<<o;s[o]=-1,i&=~d}}function gg(s){if((Re&6)!==0)throw Error(t(327));Is();var i=La(s,0);if((i&1)===0)return Dt(s,Je()),null;var o=Tl(s,i);if(s.tag!==0&&o===2){var d=sc(s);d!==0&&(i=d,o=ku(s,d))}if(o===1)throw o=Zi,Ln(s,0),rn(s,i),Dt(s,Je()),o;if(o===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Un(s,At,Ar),Dt(s,Je()),null}function Au(s,i){var o=Re;Re|=1;try{return s(i)}finally{Re=o,Re===0&&(Ms=Je()+500,rl&&Qr())}}function Pn(s){en!==null&&en.tag===0&&(Re&6)===0&&Is();var i=Re;Re|=1;var o=Wt.transition,d=Pe;try{if(Wt.transition=null,Pe=1,s)return s()}finally{Pe=d,Wt.transition=o,Re=i,(Re&6)===0&&Qr()}}function Du(){Pt=js.current,We(js)}function Ln(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,Dx(o)),et!==null)for(o=et.return;o!==null;){var d=o;switch(Lc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&el();break;case 3:Ts(),We(Et),We(ut),Kc();break;case 5:Yc(d);break;case 4:Ts();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:$c(d.type._context);break;case 22:case 23:Du()}o=o.return}if(st=s,et=s=nn(s.current,null),ct=Pt=i,rt=0,Zi=null,bu=_l=On=0,At=Ji=null,jn!==null){for(i=0;i<jn.length;i++)if(o=jn[i],d=o.interleaved,d!==null){o.interleaved=null;var p=d.next,v=o.pending;if(v!==null){var b=v.next;v.next=p,d.next=b}o.pending=d}jn=null}return s}function mg(s,i){do{var o=et;try{if(Bc(),fl.current=ml,hl){for(var d=Ye.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}hl=!1}if(In=0,nt=tt=Ye=null,Vi=!1,qi=0,xu.current=null,o===null||o.return===null){rt=1,Zi=i,et=null;break}e:{var v=s,b=o.return,k=o,T=i;if(i=ct,k.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var L=T,Y=k,Q=Y.tag;if((Y.mode&1)===0&&(Q===0||Q===11||Q===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var re=zp(b);if(re!==null){re.flags&=-257,Bp(re,b,k,v,i),re.mode&1&&Hp(v,L,i),i=re,T=L;var le=i.updateQueue;if(le===null){var oe=new Set;oe.add(T),i.updateQueue=oe}else le.add(T);break e}else{if((i&1)===0){Hp(v,L,i),Tu();break e}T=Error(t(426))}}else if(Ve&&k.mode&1){var Xe=zp(b);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Bp(Xe,b,k,v,i),Hc(Ns(T,k));break e}}v=T=Ns(T,k),rt!==4&&(rt=2),Ji===null?Ji=[v]:Ji.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var M=Up(v,T,i);dp(v,M);break e;case 1:k=T;var j=v.type,O=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Xr===null||!Xr.has(O)))){v.flags|=65536,i&=-i,v.lanes|=i;var Z=Fp(v,k,i);dp(v,Z);break e}}v=v.return}while(v!==null)}wg(o)}catch(ce){i=ce,et===o&&o!==null&&(et=o=o.return);continue}break}while(!0)}function vg(){var s=Sl.current;return Sl.current=ml,s===null?ml:s}function Tu(){(rt===0||rt===3||rt===2)&&(rt=4),st===null||(On&268435455)===0&&(_l&268435455)===0||rn(st,ct)}function Tl(s,i){var o=Re;Re|=2;var d=vg();(st!==s||ct!==i)&&(Ar=null,Ln(s,i));do try{Xx();break}catch(p){mg(s,p)}while(!0);if(Bc(),Re=o,Sl.current=d,et!==null)throw Error(t(261));return st=null,ct=0,rt}function Xx(){for(;et!==null;)yg(et)}function eb(){for(;et!==null&&!kw();)yg(et)}function yg(s){var i=Sg(s.alternate,s,Pt);s.memoizedProps=s.pendingProps,i===null?wg(s):et=i,xu.current=null}function wg(s){var i=s;do{var o=i.alternate;if(s=i.return,(i.flags&32768)===0){if(o=qx(o,i,Pt),o!==null){et=o;return}}else{if(o=Gx(o,i),o!==null){o.flags&=32767,et=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{rt=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=s}while(i!==null);rt===0&&(rt=5)}function Un(s,i,o){var d=Pe,p=Wt.transition;try{Wt.transition=null,Pe=1,tb(s,i,o,d)}finally{Wt.transition=p,Pe=d}return null}function tb(s,i,o,d){do Is();while(en!==null);if((Re&6)!==0)throw Error(t(327));o=s.finishedWork;var p=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=o.lanes|o.childLanes;if(Ow(s,v),s===st&&(et=st=null,ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||kl||(kl=!0,_g(Ma,function(){return Is(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=Wt.transition,Wt.transition=null;var b=Pe;Pe=1;var k=Re;Re|=4,xu.current=null,Qx(s,o),cg(o,s),bx(Tc),Ha=!!Dc,Tc=Dc=null,s.current=o,Kx(o),Cw(),Re=k,Pe=b,Wt.transition=v}else s.current=o;if(kl&&(kl=!1,en=s,Cl=p),v=s.pendingLanes,v===0&&(Xr=null),Tw(o.stateNode),Dt(s,Je()),i!==null)for(d=s.onRecoverableError,o=0;o<i.length;o++)p=i[o],d(p.value,{componentStack:p.stack,digest:p.digest});if(El)throw El=!1,s=_u,_u=null,s;return(Cl&1)!==0&&s.tag!==0&&Is(),v=s.pendingLanes,(v&1)!==0?s===Eu?Xi++:(Xi=0,Eu=s):Xi=0,Qr(),null}function Is(){if(en!==null){var s=lh(Cl),i=Wt.transition,o=Pe;try{if(Wt.transition=null,Pe=16>s?16:s,en===null)var d=!1;else{if(s=en,en=null,Cl=0,(Re&6)!==0)throw Error(t(331));var p=Re;for(Re|=4,se=s.current;se!==null;){var v=se,b=v.child;if((se.flags&16)!==0){var k=v.deletions;if(k!==null){for(var T=0;T<k.length;T++){var L=k[T];for(se=L;se!==null;){var Y=se;switch(Y.tag){case 0:case 11:case 15:Ki(8,Y,v)}var Q=Y.child;if(Q!==null)Q.return=Y,se=Q;else for(;se!==null;){Y=se;var G=Y.sibling,re=Y.return;if(sg(Y),Y===L){se=null;break}if(G!==null){G.return=re,se=G;break}se=re}}}var le=v.alternate;if(le!==null){var oe=le.child;if(oe!==null){le.child=null;do{var Xe=oe.sibling;oe.sibling=null,oe=Xe}while(oe!==null)}}se=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,se=b;else e:for(;se!==null;){if(v=se,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ki(9,v,v.return)}var M=v.sibling;if(M!==null){M.return=v.return,se=M;break e}se=v.return}}var j=s.current;for(se=j;se!==null;){b=se;var O=b.child;if((b.subtreeFlags&2064)!==0&&O!==null)O.return=b,se=O;else e:for(b=j;se!==null;){if(k=se,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:bl(9,k)}}catch(ce){Ke(k,k.return,ce)}if(k===b){se=null;break e}var Z=k.sibling;if(Z!==null){Z.return=k.return,se=Z;break e}se=k.return}}if(Re=p,Qr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ia,s)}catch{}d=!0}return d}finally{Pe=o,Wt.transition=i}}return!1}function xg(s,i,o){i=Ns(o,i),i=Up(s,i,1),s=Zr(s,i,1),i=xt(),s!==null&&(_i(s,1,i),Dt(s,i))}function Ke(s,i,o){if(s.tag===3)xg(s,s,o);else for(;i!==null;){if(i.tag===3){xg(i,s,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))){s=Ns(o,s),s=Fp(i,s,1),i=Zr(i,s,1),s=xt(),i!==null&&(_i(i,1,s),Dt(i,s));break}}i=i.return}}function rb(s,i,o){var d=s.pingCache;d!==null&&d.delete(i),i=xt(),s.pingedLanes|=s.suspendedLanes&o,st===s&&(ct&o)===o&&(rt===4||rt===3&&(ct&130023424)===ct&&500>Je()-Su?Ln(s,0):bu|=o),Dt(s,i)}function bg(s,i){i===0&&((s.mode&1)===0?i=1:(i=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var o=xt();s=Er(s,i),s!==null&&(_i(s,i,o),Dt(s,o))}function nb(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),bg(s,o)}function sb(s,i){var o=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),bg(s,o)}var Sg;Sg=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Et.current)Ct=!0;else{if((s.lanes&o)===0&&(i.flags&128)===0)return Ct=!1,Vx(s,i,o);Ct=(s.flags&131072)!==0}else Ct=!1,Ve&&(i.flags&1048576)!==0&&tp(i,sl,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;wl(s,i),s=i.pendingProps;var p=Ss(i,ut.current);Ds(i,o),p=Xc(null,i,d,s,p,o);var v=eu();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,kt(d)?(v=!0,tl(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,qc(i),p.updater=vl,i.stateNode=p,p._reactInternals=i,au(i,d,s,o),i=uu(null,i,d,!0,v,o)):(i.tag=0,Ve&&v&&Pc(i),wt(null,i,p,o),i=i.child),i;case 16:d=i.elementType;e:{switch(wl(s,i),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=ab(d),s=Kt(d,s),p){case 0:i=cu(null,i,d,s,o);break e;case 1:i=Yp(null,i,d,s,o);break e;case 11:i=$p(null,i,d,s,o);break e;case 14:i=Wp(null,i,d,Kt(d.type,s),o);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Kt(d,p),cu(s,i,d,p,o);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Kt(d,p),Yp(s,i,d,p,o);case 3:e:{if(Qp(i),s===null)throw Error(t(387));d=i.pendingProps,v=i.memoizedState,p=v.element,up(s,i),ul(i,d,null,o);var b=i.memoizedState;if(d=b.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=Ns(Error(t(423)),i),i=Kp(s,i,d,o,p);break e}else if(d!==p){p=Ns(Error(t(424)),i),i=Kp(s,i,d,o,p);break e}else for(Ot=qr(i.stateNode.containerInfo.firstChild),It=i,Ve=!0,Qt=null,o=op(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ks(),d===p){i=Cr(s,i,o);break e}wt(s,i,d,o)}i=i.child}return i;case 5:return hp(i),s===null&&Fc(i),d=i.type,p=i.pendingProps,v=s!==null?s.memoizedProps:null,b=p.children,Nc(d,p)?b=null:v!==null&&Nc(d,v)&&(i.flags|=32),Gp(s,i),wt(s,i,b,o),i.child;case 6:return s===null&&Fc(i),null;case 13:return Zp(s,i,o);case 4:return Gc(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=Cs(i,null,d,o):wt(s,i,d,o),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Kt(d,p),$p(s,i,d,p,o);case 7:return wt(s,i,i.pendingProps,o),i.child;case 8:return wt(s,i,i.pendingProps.children,o),i.child;case 12:return wt(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,v=i.memoizedProps,b=p.value,Fe(ll,d._currentValue),d._currentValue=b,v!==null)if(Yt(v.value,b)){if(v.children===p.children&&!Et.current){i=Cr(s,i,o);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var k=v.dependencies;if(k!==null){b=v.child;for(var T=k.firstContext;T!==null;){if(T.context===d){if(v.tag===1){T=kr(-1,o&-o),T.tag=2;var L=v.updateQueue;if(L!==null){L=L.shared;var Y=L.pending;Y===null?T.next=T:(T.next=Y.next,Y.next=T),L.pending=T}}v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),Wc(v.return,o,i),k.lanes|=o;break}T=T.next}}else if(v.tag===10)b=v.type===i.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(t(341));b.lanes|=o,k=b.alternate,k!==null&&(k.lanes|=o),Wc(b,o,i),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}wt(s,i,p.children,o),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Ds(i,o),p=Bt(p),d=d(p),i.flags|=1,wt(s,i,d,o),i.child;case 14:return d=i.type,p=Kt(d,i.pendingProps),p=Kt(d.type,p),Wp(s,i,d,p,o);case 15:return Vp(s,i,i.type,i.pendingProps,o);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Kt(d,p),wl(s,i),i.tag=1,kt(d)?(s=!0,tl(i)):s=!1,Ds(i,o),Pp(i,d,p),au(i,d,p,o),uu(null,i,d,!0,s,o);case 19:return Xp(s,i,o);case 22:return qp(s,i,o)}throw Error(t(156,i.tag))};function _g(s,i){return rh(s,i)}function ib(s,i,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(s,i,o,d){return new ib(s,i,o,d)}function Nu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ab(s){if(typeof s=="function")return Nu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===he)return 11;if(s===ee)return 14}return 2}function nn(s,i){var o=s.alternate;return o===null?(o=Vt(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function Nl(s,i,o,d,p,v){var b=2;if(d=s,typeof s=="function")Nu(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case W:return Fn(o.children,p,v,i);case I:b=8,p|=8;break;case ie:return s=Vt(12,o,i,p|2),s.elementType=ie,s.lanes=v,s;case Le:return s=Vt(13,o,i,p),s.elementType=Le,s.lanes=v,s;case ae:return s=Vt(19,o,i,p),s.elementType=ae,s.lanes=v,s;case te:return Rl(o,p,v,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ue:b=10;break e;case J:b=9;break e;case he:b=11;break e;case ee:b=14;break e;case X:b=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Vt(b,o,i,p),i.elementType=s,i.type=d,i.lanes=v,i}function Fn(s,i,o,d){return s=Vt(7,s,d,i),s.lanes=o,s}function Rl(s,i,o,d){return s=Vt(22,s,d,i),s.elementType=te,s.lanes=o,s.stateNode={isHidden:!1},s}function Ru(s,i,o){return s=Vt(6,s,null,i),s.lanes=o,s}function ju(s,i,o){return i=Vt(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function lb(s,i,o,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Mu(s,i,o,d,p,v,b,k,T){return s=new lb(s,i,o,k,T),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Vt(3,null,null,i),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(v),s}function ob(s,i,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:s,containerInfo:i,implementation:o}}function Eg(s){if(!s)return Yr;s=s._reactInternals;e:{if(An(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(kt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var o=s.type;if(kt(o))return Jh(s,o,i)}return i}function kg(s,i,o,d,p,v,b,k,T){return s=Mu(o,d,!0,s,p,v,b,k,T),s.context=Eg(null),o=s.current,d=xt(),p=tn(o),v=kr(d,p),v.callback=i??null,Zr(o,v,p),s.current.lanes=p,_i(s,p,d),Dt(s,d),s}function jl(s,i,o,d){var p=i.current,v=xt(),b=tn(p);return o=Eg(o),i.context===null?i.context=o:i.pendingContext=o,i=kr(v,b),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Zr(p,i,b),s!==null&&(Xt(s,p,b,v),cl(s,p,b)),b}function Ml(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cg(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Iu(s,i){Cg(s,i),(s=s.alternate)&&Cg(s,i)}function cb(){return null}var Ag=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ou(s){this._internalRoot=s}Il.prototype.render=Ou.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));jl(s,i,null,null)},Il.prototype.unmount=Ou.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Pn(function(){jl(null,s,null,null)}),i[xr]=null}};function Il(s){this._internalRoot=s}Il.prototype.unstable_scheduleHydration=function(s){if(s){var i=uh();s={blockedOn:null,target:s,priority:i};for(var o=0;o<$r.length&&i!==0&&i<$r[o].priority;o++);$r.splice(o,0,s),o===0&&hh(s)}};function Pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Dg(){}function ub(s,i,o,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var L=Ml(b);v.call(L)}}var b=kg(i,d,s,0,null,!1,!1,"",Dg);return s._reactRootContainer=b,s[xr]=b.current,Li(s.nodeType===8?s.parentNode:s),Pn(),b}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var k=d;d=function(){var L=Ml(T);k.call(L)}}var T=Mu(s,0,!1,null,null,!1,!1,"",Dg);return s._reactRootContainer=T,s[xr]=T.current,Li(s.nodeType===8?s.parentNode:s),Pn(function(){jl(i,T,o,d)}),T}function Pl(s,i,o,d,p){var v=o._reactRootContainer;if(v){var b=v;if(typeof p=="function"){var k=p;p=function(){var T=Ml(b);k.call(T)}}jl(i,b,s,p)}else b=ub(o,i,s,p,d);return Ml(b)}oh=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=Si(i.pendingLanes);o!==0&&(ac(i,o|1),Dt(i,Je()),(Re&6)===0&&(Ms=Je()+500,Qr()))}break;case 13:Pn(function(){var d=Er(s,1);if(d!==null){var p=xt();Xt(d,s,1,p)}}),Iu(s,1)}},lc=function(s){if(s.tag===13){var i=Er(s,134217728);if(i!==null){var o=xt();Xt(i,s,134217728,o)}Iu(s,134217728)}},ch=function(s){if(s.tag===13){var i=tn(s),o=Er(s,i);if(o!==null){var d=xt();Xt(o,s,i,d)}Iu(s,i)}},uh=function(){return Pe},dh=function(s,i){var o=Pe;try{return Pe=s,i()}finally{Pe=o}},Xo=function(s,i,o){switch(i){case"input":if(Vo(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==s&&d.form===s.form){var p=Xa(d);if(!p)throw Error(t(90));Fr(d),Vo(d,p)}}}break;case"textarea":Hf(s,o);break;case"select":i=o.value,i!=null&&us(s,!!o.multiple,i,!1)}},Qf=Au,Kf=Pn;var db={usingClientEntryPoint:!1,Events:[Hi,xs,Xa,Gf,Yf,Au]},ea={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fb={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=eh(s),s===null?null:s.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{Ia=Ll.inject(fb),lr=Ll}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=db,Tt.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(i))throw Error(t(200));return ob(s,i,null,o)},Tt.createRoot=function(s,i){if(!Pu(s))throw Error(t(299));var o=!1,d="",p=Ag;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Mu(s,1,!1,null,null,o,!1,d,p),s[xr]=i.current,Li(s.nodeType===8?s.parentNode:s),new Ou(i)},Tt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=eh(i),s=s===null?null:s.stateNode,s},Tt.flushSync=function(s){return Pn(s)},Tt.hydrate=function(s,i,o){if(!Ol(i))throw Error(t(200));return Pl(null,s,i,!0,o)},Tt.hydrateRoot=function(s,i,o){if(!Pu(s))throw Error(t(405));var d=o!=null&&o.hydratedSources||null,p=!1,v="",b=Ag;if(o!=null&&(o.unstable_strictMode===!0&&(p=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),i=kg(i,null,s,1,o??null,p,!1,v,b),s[xr]=i.current,Li(s),d)for(s=0;s<d.length;s++)o=d[s],p=o._getVersion,p=p(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,p]:i.mutableSourceEagerHydrationData.push(o,p);return new Il(i)},Tt.render=function(s,i,o){if(!Ol(i))throw Error(t(200));return Pl(null,s,i,!1,o)},Tt.unmountComponentAtNode=function(s){if(!Ol(s))throw Error(t(40));return s._reactRootContainer?(Pn(function(){Pl(null,null,s,!1,function(){s._reactRootContainer=null,s[xr]=null})}),!0):!1},Tt.unstable_batchedUpdates=Au,Tt.unstable_renderSubtreeIntoContainer=function(s,i,o,d){if(!Ol(o))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Pl(s,i,o,!1,d)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Lg;function Pv(){if(Lg)return Hu.exports;Lg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hu.exports=xb(),Hu.exports}var Ug;function bb(){if(Ug)return Fl;Ug=1;var r=Pv();return Fl.createRoot=r.createRoot,Fl.hydrateRoot=r.hydrateRoot,Fl}var Sb=bb();const _b=Ro(Sb);var jo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mo=typeof window>"u"||"Deno"in globalThis;function tr(){}function Eb(r,e){return typeof r=="function"?r(e):r}function kb(r){return typeof r=="number"&&r>=0&&r!==1/0}function Cb(r,e){return Math.max(r+(e||0)-Date.now(),0)}function gd(r,e){return typeof r=="function"?r(e):r}function Ab(r,e){return typeof r=="function"?r(e):r}function Fg(r,e){const{type:t="all",exact:n,fetchStatus:a,predicate:l,queryKey:c,stale:u}=r;if(c){if(n){if(e.queryHash!==Gd(c,e.options))return!1}else if(!pa(e.queryKey,c))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||a&&a!==e.state.fetchStatus||l&&!l(e))}function Hg(r,e){const{exact:t,status:n,predicate:a,mutationKey:l}=r;if(l){if(!e.options.mutationKey)return!1;if(t){if(ha(e.options.mutationKey)!==ha(l))return!1}else if(!pa(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function Gd(r,e){return((e==null?void 0:e.queryKeyHashFn)||ha)(r)}function ha(r){return JSON.stringify(r,(e,t)=>md(t)?Object.keys(t).sort().reduce((n,a)=>(n[a]=t[a],n),{}):t)}function pa(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>pa(r[t],e[t])):!1}function Lv(r,e){if(r===e)return r;const t=zg(r)&&zg(e);if(t||md(r)&&md(e)){const n=t?r:Object.keys(r),a=n.length,l=t?e:Object.keys(e),c=l.length,u=t?[]:{},f=new Set(n);let g=0;for(let m=0;m<c;m++){const y=t?m:l[m];(!t&&f.has(y)||t)&&r[y]===void 0&&e[y]===void 0?(u[y]=void 0,g++):(u[y]=Lv(r[y],e[y]),u[y]===r[y]&&r[y]!==void 0&&g++)}return a===c&&g===a?r:u}return e}function zg(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function md(r){if(!Bg(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Bg(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Bg(r){return Object.prototype.toString.call(r)==="[object Object]"}function Db(r){return new Promise(e=>{setTimeout(e,r)})}function Tb(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?Lv(r,e):e}function Nb(r,e,t=0){const n=[...r,e];return t&&n.length>t?n.slice(1):n}function Rb(r,e,t=0){const n=[e,...r];return t&&n.length>t?n.slice(0,-1):n}var Yd=Symbol();function Uv(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Yd?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Yn,fn,ei,Dv,jb=(Dv=class extends jo{constructor(){super();Ie(this,Yn);Ie(this,fn);Ie(this,ei);be(this,ei,e=>{if(!Mo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){V(this,fn)||this.setEventListener(V(this,ei))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,fn))==null||e.call(this),be(this,fn,void 0))}setEventListener(e){var t;be(this,ei,e),(t=V(this,fn))==null||t.call(this),be(this,fn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){V(this,Yn)!==e&&(be(this,Yn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof V(this,Yn)=="boolean"?V(this,Yn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yn=new WeakMap,fn=new WeakMap,ei=new WeakMap,Dv),Fv=new jb,ti,hn,ri,Tv,Mb=(Tv=class extends jo{constructor(){super();Ie(this,ti,!0);Ie(this,hn);Ie(this,ri);be(this,ri,e=>{if(!Mo&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,hn)||this.setEventListener(V(this,ri))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,hn))==null||e.call(this),be(this,hn,void 0))}setEventListener(e){var t;be(this,ri,e),(t=V(this,hn))==null||t.call(this),be(this,hn,e(this.setOnline.bind(this)))}setOnline(e){V(this,ti)!==e&&(be(this,ti,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return V(this,ti)}},ti=new WeakMap,hn=new WeakMap,ri=new WeakMap,Tv),co=new Mb;function Ib(){let r,e;const t=new Promise((a,l)=>{r=a,e=l});t.status="pending",t.catch(()=>{});function n(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{n({status:"fulfilled",value:a}),r(a)},t.reject=a=>{n({status:"rejected",reason:a}),e(a)},t}function Ob(r){return Math.min(1e3*2**r,3e4)}function Hv(r){return(r??"online")==="online"?co.isOnline():!0}var zv=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function $u(r){return r instanceof zv}function Bv(r){let e=!1,t=0,n=!1,a;const l=Ib(),c=E=>{var S;n||(x(new zv(E)),(S=r.abort)==null||S.call(r))},u=()=>{e=!0},f=()=>{e=!1},g=()=>Fv.isFocused()&&(r.networkMode==="always"||co.isOnline())&&r.canRun(),m=()=>Hv(r.networkMode)&&r.canRun(),y=E=>{var S;n||(n=!0,(S=r.onSuccess)==null||S.call(r,E),a==null||a(),l.resolve(E))},x=E=>{var S;n||(n=!0,(S=r.onError)==null||S.call(r,E),a==null||a(),l.reject(E))},w=()=>new Promise(E=>{var S;a=D=>{(n||g())&&E(D)},(S=r.onPause)==null||S.call(r)}).then(()=>{var E;a=void 0,n||(E=r.onContinue)==null||E.call(r)}),_=()=>{if(n)return;let E;const S=t===0?r.initialPromise:void 0;try{E=S??r.fn()}catch(D){E=Promise.reject(D)}Promise.resolve(E).then(y).catch(D=>{var F;if(n)return;const P=r.retry??(Mo?0:3),N=r.retryDelay??Ob,C=typeof N=="function"?N(t,D):N,z=P===!0||typeof P=="number"&&t<P||typeof P=="function"&&P(t,D);if(e||!z){x(D);return}t++,(F=r.onFail)==null||F.call(r,t,D),Db(C).then(()=>g()?void 0:w()).then(()=>{e?x(D):_()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:u,continueRetry:f,canStart:m,start:()=>(m()?_():w().then(_),l)}}var Pb=r=>setTimeout(r,0);function Lb(){let r=[],e=0,t=u=>{u()},n=u=>{u()},a=Pb;const l=u=>{e?r.push(u):a(()=>{t(u)})},c=()=>{const u=r;r=[],u.length&&a(()=>{n(()=>{u.forEach(f=>{t(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||c()}return f},batchCalls:u=>(...f)=>{l(()=>{u(...f)})},schedule:l,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var St=Lb(),Qn,Nv,$v=(Nv=class{constructor(){Ie(this,Qn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kb(this.gcTime)&&be(this,Qn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Mo?1/0:5*60*1e3))}clearGcTimeout(){V(this,Qn)&&(clearTimeout(V(this,Qn)),be(this,Qn,void 0))}},Qn=new WeakMap,Nv),ni,Kn,qt,Zn,mt,ba,Jn,rr,Tr,Rv,Ub=(Rv=class extends $v{constructor(e){super();Ie(this,rr);Ie(this,ni);Ie(this,Kn);Ie(this,qt);Ie(this,Zn);Ie(this,mt);Ie(this,ba);Ie(this,Jn);be(this,Jn,!1),be(this,ba,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,Zn,e.client),be(this,qt,V(this,Zn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,ni,Hb(this.options)),this.state=e.state??V(this,ni),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,mt))==null?void 0:e.promise}setOptions(e){this.options={...V(this,ba),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,qt).remove(this)}setData(e,t){const n=Tb(this.state.data,e,this.options);return pt(this,rr,Tr).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){pt(this,rr,Tr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var n,a;const t=(n=V(this,mt))==null?void 0:n.promise;return(a=V(this,mt))==null||a.cancel(e),t?t.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,ni))}isActive(){return this.observers.some(e=>Ab(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Cb(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=V(this,mt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=V(this,mt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,qt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(V(this,mt)&&(V(this,Jn)?V(this,mt).cancel({revert:!0}):V(this,mt).cancelRetry()),this.scheduleGc()),V(this,qt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,rr,Tr).call(this,{type:"invalidate"})}fetch(e,t){var g,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(V(this,mt))return V(this,mt).continueRetry(),V(this,mt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(be(this,Jn,!0),n.signal)})},l=()=>{const x=Uv(this.options,t),_=(()=>{const E={client:V(this,Zn),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return be(this,Jn,!1),this.options.persister?this.options.persister(x,_,this):x(_)},u=(()=>{const x={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:V(this,Zn),state:this.state,fetchFn:l};return a(x),x})();(g=this.options.behavior)==null||g.onFetch(u,this),be(this,Kn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&pt(this,rr,Tr).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const f=x=>{var w,_,E,S;$u(x)&&x.silent||pt(this,rr,Tr).call(this,{type:"error",error:x}),$u(x)||((_=(w=V(this,qt).config).onError)==null||_.call(w,x,this),(S=(E=V(this,qt).config).onSettled)==null||S.call(E,this.state.data,x,this)),this.scheduleGc()};return be(this,mt,Bv({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:x=>{var w,_,E,S;if(x===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(D){f(D);return}(_=(w=V(this,qt).config).onSuccess)==null||_.call(w,x,this),(S=(E=V(this,qt).config).onSettled)==null||S.call(E,x,this.state.error,this),this.scheduleGc()},onError:f,onFail:(x,w)=>{pt(this,rr,Tr).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{pt(this,rr,Tr).call(this,{type:"pause"})},onContinue:()=>{pt(this,rr,Tr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),V(this,mt).start()}},ni=new WeakMap,Kn=new WeakMap,qt=new WeakMap,Zn=new WeakMap,mt=new WeakMap,ba=new WeakMap,Jn=new WeakMap,rr=new WeakSet,Tr=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Fb(n.data,this.options),fetchMeta:e.meta??null};case"success":return be(this,Kn,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return $u(a)&&a.revert&&V(this,Kn)?{...V(this,Kn),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),St.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),V(this,qt).notify({query:this,type:"updated",action:e})})},Rv);function Fb(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hv(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Hb(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,n=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var fr,jv,zb=(jv=class extends jo{constructor(e={}){super();Ie(this,fr);this.config=e,be(this,fr,new Map)}build(e,t,n){const a=t.queryKey,l=t.queryHash??Gd(a,t);let c=this.get(l);return c||(c=new Ub({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){V(this,fr).has(e.queryHash)||(V(this,fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=V(this,fr).get(e.queryHash);t&&(e.destroy(),t===e&&V(this,fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,fr).get(e)}getAll(){return[...V(this,fr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Fg(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Fg(e,n)):t}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fr=new WeakMap,jv),hr,bt,Xn,pr,ln,Mv,Bb=(Mv=class extends $v{constructor(e){super();Ie(this,pr);Ie(this,hr);Ie(this,bt);Ie(this,Xn);this.mutationId=e.mutationId,be(this,bt,e.mutationCache),be(this,hr,[]),this.state=e.state||$b(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,hr).includes(e)||(V(this,hr).push(e),this.clearGcTimeout(),V(this,bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,hr,V(this,hr).filter(t=>t!==e)),this.scheduleGc(),V(this,bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,hr).length||(this.state.status==="pending"?this.scheduleGc():V(this,bt).remove(this))}continue(){var e;return((e=V(this,Xn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,c,u,f,g,m,y,x,w,_,E,S,D,P,N,C,z,F,W,I;const t=()=>{pt(this,pr,ln).call(this,{type:"continue"})};be(this,Xn,Bv({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ie,ue)=>{pt(this,pr,ln).call(this,{type:"failed",failureCount:ie,error:ue})},onPause:()=>{pt(this,pr,ln).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,bt).canRun(this)}));const n=this.state.status==="pending",a=!V(this,Xn).canStart();try{if(n)t();else{pt(this,pr,ln).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(l=V(this,bt).config).onMutate)==null?void 0:c.call(l,e,this));const ue=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,e));ue!==this.state.context&&pt(this,pr,ln).call(this,{type:"pending",context:ue,variables:e,isPaused:a})}const ie=await V(this,Xn).start();return await((m=(g=V(this,bt).config).onSuccess)==null?void 0:m.call(g,ie,e,this.state.context,this)),await((x=(y=this.options).onSuccess)==null?void 0:x.call(y,ie,e,this.state.context)),await((_=(w=V(this,bt).config).onSettled)==null?void 0:_.call(w,ie,null,this.state.variables,this.state.context,this)),await((S=(E=this.options).onSettled)==null?void 0:S.call(E,ie,null,e,this.state.context)),pt(this,pr,ln).call(this,{type:"success",data:ie}),ie}catch(ie){try{throw await((P=(D=V(this,bt).config).onError)==null?void 0:P.call(D,ie,e,this.state.context,this)),await((C=(N=this.options).onError)==null?void 0:C.call(N,ie,e,this.state.context)),await((F=(z=V(this,bt).config).onSettled)==null?void 0:F.call(z,void 0,ie,this.state.variables,this.state.context,this)),await((I=(W=this.options).onSettled)==null?void 0:I.call(W,void 0,ie,e,this.state.context)),ie}finally{pt(this,pr,ln).call(this,{type:"error",error:ie})}}finally{V(this,bt).runNext(this)}}},hr=new WeakMap,bt=new WeakMap,Xn=new WeakMap,pr=new WeakSet,ln=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),St.batch(()=>{V(this,hr).forEach(n=>{n.onMutationUpdate(e)}),V(this,bt).notify({mutation:this,type:"updated",action:e})})},Mv);function $b(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,nr,Sa,Iv,Wb=(Iv=class extends jo{constructor(e={}){super();Ie(this,jr);Ie(this,nr);Ie(this,Sa);this.config=e,be(this,jr,new Set),be(this,nr,new Map),be(this,Sa,0)}build(e,t,n){const a=new Bb({mutationCache:this,mutationId:++Ul(this,Sa)._,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){V(this,jr).add(e);const t=Hl(e);if(typeof t=="string"){const n=V(this,nr).get(t);n?n.push(e):V(this,nr).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(V(this,jr).delete(e)){const t=Hl(e);if(typeof t=="string"){const n=V(this,nr).get(t);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&V(this,nr).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Hl(e);if(typeof t=="string"){const n=V(this,nr).get(t),a=n==null?void 0:n.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const t=Hl(e);if(typeof t=="string"){const a=(n=V(this,nr).get(t))==null?void 0:n.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{V(this,jr).forEach(e=>{this.notify({type:"removed",mutation:e})}),V(this,jr).clear(),V(this,nr).clear()})}getAll(){return Array.from(V(this,jr))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Hg(t,n))}findAll(e={}){return this.getAll().filter(t=>Hg(e,t))}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return St.batch(()=>Promise.all(e.map(t=>t.continue().catch(tr))))}},jr=new WeakMap,nr=new WeakMap,Sa=new WeakMap,Iv);function Hl(r){var e;return(e=r.options.scope)==null?void 0:e.id}function $g(r){return{onFetch:(e,t)=>{var m,y,x,w,_;const n=e.options,a=(x=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:x.direction,l=((w=e.state.data)==null?void 0:w.pages)||[],c=((_=e.state.data)==null?void 0:_.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const g=async()=>{let E=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},D=Uv(e.options,e.fetchOptions),P=async(N,C,z)=>{if(E)return Promise.reject();if(C==null&&N.pages.length)return Promise.resolve(N);const W=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:C,direction:z?"backward":"forward",meta:e.options.meta};return S(J),J})(),I=await D(W),{maxPages:ie}=e.options,ue=z?Rb:Nb;return{pages:ue(N.pages,I,ie),pageParams:ue(N.pageParams,C,ie)}};if(a&&l.length){const N=a==="backward",C=N?Vb:Wg,z={pages:l,pageParams:c},F=C(n,z);u=await P(z,F,N)}else{const N=r??l.length;do{const C=f===0?c[0]??n.initialPageParam:Wg(n,u);if(f>0&&C==null)break;u=await P(u,C),f++}while(f<N)}return u};e.options.persister?e.fetchFn=()=>{var E,S;return(S=(E=e.options).persister)==null?void 0:S.call(E,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=g}}}function Wg(r,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?r.getNextPageParam(e[n],e,t[n],t):void 0}function Vb(r,{pages:e,pageParams:t}){var n;return e.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,e[0],e,t[0],t):void 0}var Ze,pn,gn,si,ii,mn,ai,li,Ov,qb=(Ov=class{constructor(r={}){Ie(this,Ze);Ie(this,pn);Ie(this,gn);Ie(this,si);Ie(this,ii);Ie(this,mn);Ie(this,ai);Ie(this,li);be(this,Ze,r.queryCache||new zb),be(this,pn,r.mutationCache||new Wb),be(this,gn,r.defaultOptions||{}),be(this,si,new Map),be(this,ii,new Map),be(this,mn,0)}mount(){Ul(this,mn)._++,V(this,mn)===1&&(be(this,ai,Fv.subscribe(async r=>{r&&(await this.resumePausedMutations(),V(this,Ze).onFocus())})),be(this,li,co.subscribe(async r=>{r&&(await this.resumePausedMutations(),V(this,Ze).onOnline())})))}unmount(){var r,e;Ul(this,mn)._--,V(this,mn)===0&&((r=V(this,ai))==null||r.call(this),be(this,ai,void 0),(e=V(this,li))==null||e.call(this),be(this,li,void 0))}isFetching(r){return V(this,Ze).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return V(this,pn).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=V(this,Ze).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=V(this,Ze).build(this,e),n=t.state.data;return n===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(gd(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(r){return V(this,Ze).findAll(r).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(r,e,t){const n=this.defaultQueryOptions({queryKey:r}),a=V(this,Ze).get(n.queryHash),l=a==null?void 0:a.state.data,c=Eb(e,l);if(c!==void 0)return V(this,Ze).build(this,n).setData(c,{...t,manual:!0})}setQueriesData(r,e,t){return St.batch(()=>V(this,Ze).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=V(this,Ze).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=V(this,Ze);St.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=V(this,Ze);return St.batch(()=>(t.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},n=St.batch(()=>V(this,Ze).findAll(r).map(a=>a.cancel(t)));return Promise.all(n).then(tr).catch(tr)}invalidateQueries(r,e={}){return St.batch(()=>(V(this,Ze).findAll(r).forEach(t=>{t.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},n=St.batch(()=>V(this,Ze).findAll(r).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,t);return t.throwOnError||(l=l.catch(tr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(tr)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=V(this,Ze).build(this,e);return t.isStaleByTime(gd(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(tr).catch(tr)}fetchInfiniteQuery(r){return r.behavior=$g(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(tr).catch(tr)}ensureInfiniteQueryData(r){return r.behavior=$g(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return co.isOnline()?V(this,pn).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Ze)}getMutationCache(){return V(this,pn)}getDefaultOptions(){return V(this,gn)}setDefaultOptions(r){be(this,gn,r)}setQueryDefaults(r,e){V(this,si).set(ha(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...V(this,si).values()],t={};return e.forEach(n=>{pa(r,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(r,e){V(this,ii).set(ha(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...V(this,ii).values()],t={};return e.forEach(n=>{pa(r,n.mutationKey)&&Object.assign(t,n.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...V(this,gn).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Gd(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Yd&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...V(this,gn).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){V(this,Ze).clear(),V(this,pn).clear()}},Ze=new WeakMap,pn=new WeakMap,gn=new WeakMap,si=new WeakMap,ii=new WeakMap,mn=new WeakMap,ai=new WeakMap,li=new WeakMap,Ov),Gb=$.createContext(void 0),Yb=({client:r,children:e})=>($.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),h.jsx(Gb.Provider,{value:r,children:e}));let Qb={data:""},Kb=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Qb,Zb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jb=/\/\*[^]*?\*\/|  +/g,Vg=/\n+/g,un=(r,e)=>{let t="",n="",a="";for(let l in r){let c=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":n+=l[1]=="f"?un(c,l):l+"{"+un(c,l[1]=="k"?"":e)+"}":typeof c=="object"?n+=un(c,e?e.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=un.p?un.p(l,c):l+":"+c+";")}return t+(e&&a?e+"{"+a+"}":a)+n},Dr={},Wv=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Wv(r[t]);return e}return r},Xb=(r,e,t,n,a)=>{let l=Wv(r),c=Dr[l]||(Dr[l]=(f=>{let g=0,m=11;for(;g<f.length;)m=101*m+f.charCodeAt(g++)>>>0;return"go"+m})(l));if(!Dr[c]){let f=l!==r?r:(g=>{let m,y,x=[{}];for(;m=Zb.exec(g.replace(Jb,""));)m[4]?x.shift():m[3]?(y=m[3].replace(Vg," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][m[1]]=m[2].replace(Vg," ").trim();return x[0]})(r);Dr[c]=un(a?{["@keyframes "+c]:f}:f,t?"":"."+c)}let u=t&&Dr.g?Dr.g:null;return t&&(Dr.g=Dr[c]),((f,g,m,y)=>{y?g.data=g.data.replace(y,f):g.data.indexOf(f)===-1&&(g.data=m?f+g.data:g.data+f)})(Dr[c],e,n,u),c},eS=(r,e,t)=>r.reduce((n,a,l)=>{let c=e[l];if(c&&c.call){let u=c(t),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=f?"."+f:u&&typeof u=="object"?u.props?"":un(u,""):u===!1?"":u}return n+a+(c??"")},"");function Io(r){let e=this||{},t=r.call?r(e.p):r;return Xb(t.unshift?t.raw?eS(t,[].slice.call(arguments,1),e.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):t,Kb(e.target),e.g,e.o,e.k)}let Vv,vd,yd;Io.bind({g:1});let Or=Io.bind({k:1});function tS(r,e,t,n){un.p=e,Vv=r,vd=t,yd=n}function En(r,e){let t=this||{};return function(){let n=arguments;function a(l,c){let u=Object.assign({},l),f=u.className||a.className;t.p=Object.assign({theme:vd&&vd()},u),t.o=/ *go\d+/.test(f),u.className=Io.apply(t,n)+(f?" "+f:"");let g=r;return r[0]&&(g=u.as||r,delete u.as),yd&&g[0]&&yd(u),Vv(g,u)}return a}}var rS=r=>typeof r=="function",uo=(r,e)=>rS(r)?r(e):r,nS=(()=>{let r=0;return()=>(++r).toString()})(),qv=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),sS=20,Gv=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,sS)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return Gv(r,{type:r.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...r,toasts:r.toasts.map(l=>l.id===n||n===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let a=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},eo=[],Gn={toasts:[],pausedAt:void 0},is=r=>{Gn=Gv(Gn,r),eo.forEach(e=>{e(Gn)})},iS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aS=(r={})=>{let[e,t]=$.useState(Gn),n=$.useRef(Gn);$.useEffect(()=>(n.current!==Gn&&t(Gn),eo.push(t),()=>{let l=eo.indexOf(t);l>-1&&eo.splice(l,1)}),[]);let a=e.toasts.map(l=>{var c,u,f;return{...r,...r[l.type],...l,removeDelay:l.removeDelay||((c=r[l.type])==null?void 0:c.removeDelay)||(r==null?void 0:r.removeDelay),duration:l.duration||((u=r[l.type])==null?void 0:u.duration)||(r==null?void 0:r.duration)||iS[l.type],style:{...r.style,...(f=r[l.type])==null?void 0:f.style,...l.style}}});return{...e,toasts:a}},lS=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||nS()}),_a=r=>(e,t)=>{let n=lS(e,r,t);return is({type:2,toast:n}),n.id},ne=(r,e)=>_a("blank")(r,e);ne.error=_a("error");ne.success=_a("success");ne.loading=_a("loading");ne.custom=_a("custom");ne.dismiss=r=>{is({type:3,toastId:r})};ne.remove=r=>is({type:4,toastId:r});ne.promise=(r,e,t)=>{let n=ne.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let l=e.success?uo(e.success,a):void 0;return l?ne.success(l,{id:n,...t,...t==null?void 0:t.success}):ne.dismiss(n),a}).catch(a=>{let l=e.error?uo(e.error,a):void 0;l?ne.error(l,{id:n,...t,...t==null?void 0:t.error}):ne.dismiss(n)}),r};var oS=(r,e)=>{is({type:1,toast:{id:r,height:e}})},cS=()=>{is({type:5,time:Date.now()})},la=new Map,uS=1e3,dS=(r,e=uS)=>{if(la.has(r))return;let t=setTimeout(()=>{la.delete(r),is({type:4,toastId:r})},e);la.set(r,t)},fS=r=>{let{toasts:e,pausedAt:t}=aS(r);$.useEffect(()=>{if(t)return;let l=Date.now(),c=e.map(u=>{if(u.duration===1/0)return;let f=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(f<0){u.visible&&ne.dismiss(u.id);return}return setTimeout(()=>ne.dismiss(u.id),f)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[e,t]);let n=$.useCallback(()=>{t&&is({type:6,time:Date.now()})},[t]),a=$.useCallback((l,c)=>{let{reverseOrder:u=!1,gutter:f=8,defaultPosition:g}=c||{},m=e.filter(w=>(w.position||g)===(l.position||g)&&w.height),y=m.findIndex(w=>w.id===l.id),x=m.filter((w,_)=>_<y&&w.visible).length;return m.filter(w=>w.visible).slice(...u?[x+1]:[0,x]).reduce((w,_)=>w+(_.height||0)+f,0)},[e]);return $.useEffect(()=>{e.forEach(l=>{if(l.dismissed)dS(l.id,l.removeDelay);else{let c=la.get(l.id);c&&(clearTimeout(c),la.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:oS,startPause:cS,endPause:n,calculateOffset:a}}},hS=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pS=Or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gS=Or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mS=En("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vS=Or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yS=En("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${vS} 1s linear infinite;
`,wS=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xS=Or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bS=En("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SS=En("div")`
  position: absolute;
`,_S=En("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ES=Or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kS=En("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ES} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CS=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?$.createElement(kS,null,e):e:t==="blank"?null:$.createElement(_S,null,$.createElement(yS,{...n}),t!=="loading"&&$.createElement(SS,null,t==="error"?$.createElement(mS,{...n}):$.createElement(bS,{...n})))},AS=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DS=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,TS="0%{opacity:0;} 100%{opacity:1;}",NS="0%{opacity:1;} 100%{opacity:0;}",RS=En("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jS=En("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MS=(r,e)=>{let t=r.includes("top")?1:-1,[n,a]=qv()?[TS,NS]:[AS(t),DS(t)];return{animation:e?`${Or(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Or(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},IS=$.memo(({toast:r,position:e,style:t,children:n})=>{let a=r.height?MS(r.position||e||"top-center",r.visible):{opacity:0},l=$.createElement(CS,{toast:r}),c=$.createElement(jS,{...r.ariaProps},uo(r.message,r));return $.createElement(RS,{className:r.className,style:{...a,...t,...r.style}},typeof n=="function"?n({icon:l,message:c}):$.createElement($.Fragment,null,l,c))});tS($.createElement);var OS=({id:r,className:e,style:t,onHeightUpdate:n,children:a})=>{let l=$.useCallback(c=>{if(c){let u=()=>{let f=c.getBoundingClientRect().height;n(r,f)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return $.createElement("div",{ref:l,className:e,style:t},a)},PS=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...a}},LS=Io`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zl=16,US=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:u,handlers:f}=fS(t);return $.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zl,left:zl,right:zl,bottom:zl,pointerEvents:"none",...l},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(g=>{let m=g.position||e,y=f.calculateOffset(g,{reverseOrder:r,gutter:n,defaultPosition:e}),x=PS(m,y);return $.createElement(OS,{id:g.id,key:g.id,onHeightUpdate:f.updateHeight,className:g.visible?LS:"",style:x},g.type==="custom"?uo(g.message,g):a?a(g):$.createElement(IS,{toast:g,position:m}))}))};const FS="modulepreload",HS=function(r){return"/"+r},qg={},Ea=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(t.map(f=>{if(f=HS(f),f in qg)return;qg[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":FS,g||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),g)return new Promise((x,w)=>{y.addEventListener("load",x),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},zS=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ea(async()=>{const{default:n}=await Promise.resolve().then(()=>fi);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Qd extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class BS extends Qd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gg extends Qd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yg extends Qd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wd;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(wd||(wd={}));var $S=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};class WS{constructor(e,{headers:t={},customFetch:n,region:a=wd.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=zS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return $S(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:c}=t;let u={},{region:f}=t;f||(f=this.region);const g=new URL(`${this.url}/${e}`);f&&f!=="any"&&(u["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(u["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(u["Content-Type"]="application/json",m=JSON.stringify(c)));const y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m}).catch(E=>{throw new BS(E)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new Gg(y);if(!y.ok)throw new Yg(y);let w=((n=y.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Yg||a instanceof Gg?a.context:void 0}}})}}var at={},Os={},Ps={},Ls={},Us={},Fs={},VS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oi=VS();const qS=oi.fetch,Yv=oi.fetch.bind(oi),Qv=oi.Headers,GS=oi.Request,YS=oi.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qv,Request:GS,Response:YS,default:Yv,fetch:qS},Symbol.toStringTag,{value:"Module"})),QS=pb(fi);var Bl={},Qg;function Kv(){if(Qg)return Bl;Qg=1,Object.defineProperty(Bl,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Bl.default=r,Bl}var Kg;function Zv(){if(Kg)return Fs;Kg=1;var r=Fs&&Fs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Fs,"__esModule",{value:!0});const e=r(QS),t=r(Kv());class n{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,y,x;let w=null,_=null,E=null,S=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const z=await g.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=z:_=JSON.parse(z))}const N=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),C=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&C&&C.length>1&&(E=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(w={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,E=null,S=406,D="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const N=await g.text();try{w=JSON.parse(N),Array.isArray(w)&&g.status===404&&(_=[],w=null,S=200,D="OK")}catch{g.status===404&&N===""?(S=204,D="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,S=200,D="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:_,count:E,status:S,statusText:D}});return this.shouldThrowOnError||(f=f.catch(g=>{var m,y,x;return{error:{message:`${(m=g==null?void 0:g.name)!==null&&m!==void 0?m:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(y=g==null?void 0:g.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(x=g==null?void 0:g.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return Fs.default=n,Fs}var Zg;function Jv(){if(Zg)return Us;Zg=1;var r=Us&&Us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Us,"__esModule",{value:!0});const e=r(Zv());class t extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const g=f?`${f}.order`:"order",m=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${m?`${m},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,g=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:g="text"}={}){var m;const y=[a?"analyze":null,l?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${x}"; options=${y};`,g==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Us.default=t,Us}var Jg;function Kd(){if(Jg)return Ls;Jg=1;var r=Ls&&Ls.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=r(Jv());class t extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return Ls.default=t,Ls}var Xg;function Xv(){if(Xg)return Ps;Xg=1;var r=Ps&&Ps.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ps,"__esModule",{value:!0});const e=r(Kd());class t{constructor(a,{headers:l={},schema:c,fetch:u}){this.url=a,this.headers=l,this.schema=c,this.fetch=u}select(a,{head:l=!1,count:c}={}){const u=l?"HEAD":"GET";let f=!1;const g=(a??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",g),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:l,defaultToNull:c=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const g=a.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){const g="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const y=a.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(y.length>0){const x=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:l}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const l="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ps.default=t,Ps}var ra={},na={},em;function KS(){return em||(em=1,Object.defineProperty(na,"__esModule",{value:!0}),na.version=void 0,na.version="0.0.0-automated"),na}var tm;function ZS(){if(tm)return ra;tm=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.DEFAULT_HEADERS=void 0;const r=KS();return ra.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},ra}var rm;function JS(){if(rm)return Os;rm=1;var r=Os&&Os.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Os,"__esModule",{value:!0});const e=r(Xv()),t=r(Kd()),n=ZS();class a{constructor(c,{headers:u={},schema:f,fetch:g}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=g}from(c){const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:g=!1,count:m}={}){let y;const x=new URL(`${this.url}/rpc/${c}`);let w;f||g?(y=f?"HEAD":"GET",Object.entries(u).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{x.searchParams.append(E,S)})):(y="POST",w=u);const _=Object.assign({},this.headers);return m&&(_.Prefer=`count=${m}`),new t.default({method:y,url:x,headers:_,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Os.default=a,Os}var nm;function XS(){if(nm)return at;nm=1;var r=at&&at.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const e=r(JS());at.PostgrestClient=e.default;const t=r(Xv());at.PostgrestQueryBuilder=t.default;const n=r(Kd());at.PostgrestFilterBuilder=n.default;const a=r(Jv());at.PostgrestTransformBuilder=a.default;const l=r(Zv());at.PostgrestBuilder=l.default;const c=r(Kv());return at.PostgrestError=c.default,at.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},at}var e_=XS();const t_=Ro(e_),{PostgrestClient:r_,PostgrestQueryBuilder:TR,PostgrestFilterBuilder:NR,PostgrestTransformBuilder:RR,PostgrestBuilder:jR,PostgrestError:MR}=t_;function n_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const s_=n_(),i_="2.11.15",a_=`realtime-js/${i_}`,l_="1.0.0",ey=1e4,o_=1e3;var oa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(oa||(oa={}));var gt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(gt||(gt={}));var sr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(sr||(sr={}));var xd;(function(r){r.websocket="websocket"})(xd||(xd={}));var Vn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Vn||(Vn={}));class c_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),l=t.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(e.slice(c,c+a));c=c+a;const f=n.decode(e.slice(c,c+l));c=c+l;const g=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:f,payload:g}}}class ty{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(He||(He={}));const sm=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((l,c)=>(l[c]=u_(c,r,e,a),l),{})},u_=(r,e,t,n)=>{const a=e.find(u=>u.name===r),l=a==null?void 0:a.type,c=t[r];return l&&!n.includes(l)?ry(l,c):bd(c)},ry=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return p_(e,t)}switch(r){case He.bool:return d_(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return f_(e);case He.json:case He.jsonb:return h_(e);case He.timestamp:return g_(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return bd(e);default:return bd(e)}},bd=r=>r,d_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},f_=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},h_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},p_=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let l;const c=r.slice(1,t);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>ry(e,u))}return r},g_=r=>typeof r=="string"?r.replace(" ","T"):r,ny=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Wu{constructor(e,t,n={},a=ey){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var im;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(im||(im={}));class ca{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ca.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=ca.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ca.syncDiff(this.state,a,l,c),u())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const l=this.cloneDeep(e),c=this.transformState(t),u={},f={};return this.map(l,(g,m)=>{c[g]||(f[g]=m)}),this.map(c,(g,m)=>{const y=l[g];if(y){const x=m.map(S=>S.presence_ref),w=y.map(S=>S.presence_ref),_=m.filter(S=>w.indexOf(S.presence_ref)<0),E=y.filter(S=>x.indexOf(S.presence_ref)<0);_.length>0&&(u[g]=_),E.length>0&&(f[g]=E)}else u[g]=m}),this.syncDiff(l,{joins:u,leaves:f},n,a)}static syncDiff(e,t,n,a){const{joins:l,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(l,(u,f)=>{var g;const m=(g=e[u])!==null&&g!==void 0?g:[];if(e[u]=this.cloneDeep(f),m.length>0){const y=e[u].map(w=>w.presence_ref),x=m.filter(w=>y.indexOf(w.presence_ref)<0);e[u].unshift(...x)}n(u,m,f)}),this.map(c,(u,f)=>{let g=e[u];if(!g)return;const m=f.map(y=>y.presence_ref);g=g.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=g,a(u,g,f),g.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var am;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(am||(am={}));var lm;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(lm||(lm={}));var Rr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class Zd{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Wu(this,sr.join,this.params,this.timeout),this.rejoinTimer=new ty(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new ca(this),this.broadcastEndpointURL=ny(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(m=>e==null?void 0:e(Rr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Rr.CLOSED));const f={},g={broadcast:l,presence:c,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(Rr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,_=[];for(let E=0;E<w;E++){const S=x[E],{filter:{event:D,schema:P,table:N,filter:C}}=S,z=m&&m[E];if(z&&z.event===D&&z.schema===P&&z.table===N&&z.filter===C)_.push(Object.assign(Object.assign({},S),{id:z.id}));else{this.unsubscribe(),this.state=gt.errored,e==null||e(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Rr.SUBSCRIBED);return}}).receive("error",m=>{this.state=gt.errored,e==null||e(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,f;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Wu(this,sr.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const a=new AbortController,l=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),c}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Wu(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,l;const c=e.toLocaleLowerCase(),{close:u,error:f,leave:g,join:m}=sr;if(n&&[u,f,g,m].indexOf(c)>=0&&n!==this._joinRef())return;let x=this._onMessage(c,t,n);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var _,E,S;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(E=w.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(w=>w.callback(x,n)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var _,E,S,D,P,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const C=w.id,z=(_=w.filter)===null||_===void 0?void 0:_.event;return C&&((E=t.ids)===null||E===void 0?void 0:E.includes(C))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(P=(D=w==null?void 0:w.filter)===null||D===void 0?void 0:D.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return C==="*"||C===((N=t==null?void 0:t.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:E,table:S,commit_timestamp:D,type:P,errors:N}=_;x=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:D,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(_))}w.callback(x,n)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&Zd.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sr.close,{},e)}_onError(e){this._on(sr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=sm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=sm(e.columns,e.old_record)),t}}const om=()=>{},m_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v_{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ey,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=om,this.ref=0,this.logger=om,this.conn=null,this.sendBuffer=[],this.serializer=new c_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>Ea(async()=>{const{default:f}=await Promise.resolve().then(()=>fi);return{default:f}},void 0).then(({default:f})=>f(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${e}/${xd.websocket}`,this.httpEndpoint=ny(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(l,c)=>c(JSON.stringify(l)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ty(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=s_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l_}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return Vn.Connecting;case oa.open:return Vn.Open;case oa.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===n);if(a)return a;{const l=new Zd(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:n,payload:a,ref:l}=e,c=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${t} ${n} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const a={access_token:t,version:a_};t&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(sr.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(o_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:l,ref:c}=t;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${n} ${a} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([m_],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Jd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class y_ extends Jd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sd extends Jd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var w_=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};const sy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ea(async()=>{const{default:n}=await Promise.resolve().then(()=>fi);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},x_=()=>w_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ea(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),_d=r=>{if(Array.isArray(r))return r.map(t=>_d(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=_d(n)}),e};var as=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};const Vu=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),b_=(r,e,t)=>as(void 0,void 0,void 0,function*(){const n=yield x_();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new y_(Vu(a),r.status||500))}).catch(a=>{e(new Sd(Vu(a),a))}):e(new Sd(Vu(r),r))}),S_=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function ka(r,e,t,n,a,l){return as(this,void 0,void 0,function*(){return new Promise((c,u)=>{r(t,S_(e,n,a,l)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>b_(f,u,n))})})}function fo(r,e,t,n){return as(this,void 0,void 0,function*(){return ka(r,"GET",e,t,n)})}function cn(r,e,t,n,a){return as(this,void 0,void 0,function*(){return ka(r,"POST",e,n,a,t)})}function __(r,e,t,n,a){return as(this,void 0,void 0,function*(){return ka(r,"PUT",e,n,a,t)})}function E_(r,e,t,n){return as(this,void 0,void 0,function*(){return ka(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function iy(r,e,t,n,a){return as(this,void 0,void 0,function*(){return ka(r,"DELETE",e,n,a,t)})}var Nt=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};const k_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C_{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=sy(a)}uploadOrUpdate(e,t,n,a){return Nt(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},cm),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const g=this._removeEmptyFolders(t),m=this._getFinalPath(g),y=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),x=yield y.json();return y.ok?{data:{path:g,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}upload(e,t,n){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return Nt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",t);try{let f;const g=Object.assign({upsert:cm.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",g.cacheControl)):(f=n,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:m}),x=yield y.json();return y.ok?{data:{path:l,fullPath:x.Key},error:null}:{data:null,error:x}}catch(f){if(lt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return Nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const l=yield cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new Jd("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}update(e,t,n){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Nt(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}copy(e,t,n){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return Nt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield cn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return Nt(this,void 0,void 0,function*(){try{const a=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}download(e,t){return Nt(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield fo(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(lt(u))return{data:null,error:u};throw u}})}info(e){return Nt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield fo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:_d(n),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}exists(e){return Nt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield E_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(lt(n)&&n instanceof Sd){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&a.push(f);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${g}`)}}}remove(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}list(e,t,n){return Nt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},k_),t),{prefix:e||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const A_="2.7.1",D_={"X-Client-Info":`storage-js/${A_}`};var Hs=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};class T_{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},D_),t),this.fetch=sy(n)}listBuckets(){return Hs(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}getBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Hs(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Hs(this,void 0,void 0,function*(){try{return{data:yield __(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}}class N_ extends T_{constructor(e,t={},n){super(e,t,n)}from(e){return new C_(this.url,this.headers,e,this.fetch)}}const R_="2.52.0";let ia="";typeof Deno<"u"?ia="deno":typeof document<"u"?ia="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ia="react-native":ia="node";const j_={"X-Client-Info":`supabase-js-${ia}/${R_}`},M_={headers:j_},I_={schema:"public"},O_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P_={};var L_=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};const U_=r=>{let e;return r?e=r:typeof fetch>"u"?e=Yv:e=fetch,(...t)=>e(...t)},F_=()=>typeof Headers>"u"?Qv:Headers,H_=(r,e,t)=>{const n=U_(t),a=F_();return(l,c)=>L_(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:r;let g=new a(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),n(l,Object.assign(Object.assign({},c),{headers:g}))})};var z_=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};function B_(r){return r.endsWith("/")?r:r+"/"}function $_(r,e){var t,n;const{db:a,auth:l,realtime:c,global:u}=r,{db:f,auth:g,realtime:m,global:y}=e,x={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},m),c),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>z_(this,void 0,void 0,function*(){return""})};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}const ay="2.71.1",Vs=30*1e3,Ed=3,qu=Ed*Vs,W_="http://localhost:9999",V_="supabase.auth.token",q_={"X-Client-Info":`gotrue-js/${ay}`},kd="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y_=10*60*1e3;class Xd extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Se(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Q_ extends Xd{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function K_(r){return Se(r)&&r.name==="AuthApiError"}class oy extends Xd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class kn extends Xd{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class on extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Z_(r){return Se(r)&&r.name==="AuthSessionMissingError"}class $l extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wl extends kn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vl extends kn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function J_(r){return Se(r)&&r.name==="AuthImplicitGrantRedirectError"}class um extends kn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cd extends kn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Gu(r){return Se(r)&&r.name==="AuthRetryableFetchError"}class dm extends kn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ad extends kn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fm=` 	
\r=`.split(""),X_=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<fm.length;e+=1)r[fm[e].charCodeAt(0)]=-2;for(let e=0;e<ho.length;e+=1)r[ho[e].charCodeAt(0)]=e;return r})();function hm(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(ho[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(ho[n]),e.queuedBits-=6}}function cy(r,e,t){const n=X_[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function pm(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{rE(c,n,t)};for(let c=0;c<r.length;c+=1)cy(r.charCodeAt(c),a,l);return e.join("")}function eE(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function tE(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}eE(n,e)}}function rE(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function nE(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)cy(r.charCodeAt(a),t,n);return new Uint8Array(e)}function sE(r){const e=[];return tE(r,t=>e.push(t)),new Uint8Array(e)}function iE(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return r.forEach(a=>hm(a,t,n)),hm(null,t,n),e.join("")}function aE(r){return Math.round(Date.now()/1e3)+r}function lE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",Hn={tested:!1,writable:!1},uy=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hn.tested)return Hn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Hn.tested=!0,Hn.writable=!0}catch{Hn.tested=!0,Hn.writable=!1}return Hn.writable};function oE(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const dy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ea(async()=>{const{default:n}=await Promise.resolve().then(()=>fi);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},cE=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",qs=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},zn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},an=async(r,e)=>{await r.removeItem(e)};class Oo{constructor(){this.promise=new Oo.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Oo.promiseConstructor=Promise;function Yu(r){const e=r.split(".");if(e.length!==3)throw new Ad("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!G_.test(e[n]))throw new Ad("JWT not in base64url format");return{header:JSON.parse(pm(e[0])),payload:JSON.parse(pm(e[1])),signature:nE(e[2]),raw:{header:e[0],payload:e[1]}}}async function uE(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function dE(r,e){return new Promise((n,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!e(l,null,c)){n(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function fE(r){return("0"+r.toString(16)).substr(-2)}function hE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,fE).join("")}async function pE(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function gE(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await pE(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(r,e,t=!1){const n=hE();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await qs(r,`${e}-code-verifier`,a);const l=await gE(n);return[l,n===l?"plain":"s256"]}const mE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vE(r){const e=r.headers.get(kd);if(!e||!e.match(mE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yE(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function wE(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(r){if(!xE.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gm(r){return JSON.parse(JSON.stringify(r))}var bE=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Bn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),SE=[502,503,504];async function mm(r){var e;if(!cE(r))throw new Cd(Bn(r),0);if(SE.includes(r.status))throw new Cd(Bn(r),r.status);let t;try{t=await r.json()}catch(l){throw new oy(Bn(l),l)}let n;const a=vE(r);if(a&&a.getTime()>=ly["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new dm(Bn(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new on}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new dm(Bn(t),r.status,t.weak_password.reasons);throw new Q_(Bn(t),r.status||500,n)}const _E=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function Ce(r,e,t,n){var a;const l=Object.assign({},n==null?void 0:n.headers);l[kd]||(l[kd]=ly["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await EE(r,e,t+u,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function EE(r,e,t,n,a,l){const c=_E(e,n,a,l);let u;try{u=await r(t,Object.assign({},c))}catch(f){throw console.error(f),new Cd(Bn(f),0)}if(u.ok||await mm(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await mm(f)}}function Nr(r){var e;let t=null;DE(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=aE(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function vm(r){const e=Nr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function dn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function kE(r){return{data:r,error:null}}function CE(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:l}=r,c=bE(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function AE(r){return r}function DE(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ku=["global","local","others"];var TE=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class NE{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=dy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ku[0]){if(Ku.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:dn})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=TE(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:CE,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Se(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dn})}catch(t){if(Se(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,l,c,u,f;try{const g={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:AE});if(m.error)throw m.error;const y=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);g[`${S}Page`]=E}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(Se(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Bs(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dn})}catch(t){if(Se(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Bs(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:dn})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Bs(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:dn})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Bs(e.userId);try{const{data:t,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Bs(e.userId),Bs(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}}}function ym(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function RE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $s={debug:!!(globalThis&&uy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jE extends fy{}async function ME(r,e,t){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new jE(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}RE();const IE={url:W_,storageKey:V_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wm(r,e,t){return await t()}const Ws={};class ga{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ga.nextInstanceID,ga.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},IE),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new NE({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dy(a.fetch),this.lock=a.lock||wm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:er()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=ME:this.lock=wm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:uy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ym(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ym(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ay}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=oE(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),er()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),J_(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Se(t)?{error:t}:{error:new oy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Nr}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,n,a;try{let l;if("email"in e){const{email:m,password:y,options:x}=e;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await zs(this.storage,this.storageKey)),l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:y,data:(t=x==null?void 0:x.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:_},xform:Nr})}else if("phone"in e){const{phone:m,password:y,options:x}=e;l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Nr})}else throw new Wl("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:c,options:u}=e;t=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vm})}else if("phone"in e){const{phone:l,password:c,options:u}=e;t=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vm})}else throw new Wl("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $l}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,a,l,c,u,f,g,m,y,x,w;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:S,wallet:D,statement:P,options:N}=e;let C;if(er())if(typeof D=="object")C=D;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))C=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=D}const z=new URL((t=N==null?void 0:N.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in C&&C.signIn){const F=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),P?{statement:P}:null));let W;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")W=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)W=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)_=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),E=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${z.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(n=N==null?void 0:N.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((g=N==null?void 0:N.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(m=N==null?void 0:N.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const F=await C.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=F}}try{const{data:S,error:D}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:iE(E)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Nr});if(D)throw D;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new $l}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:D})}catch(S){if(Se(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const t=await zn(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nr});if(await an(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new $l}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(Se(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:l,nonce:c}=e,u=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Nr}),{data:f,error:g}=u;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new $l}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:g})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,l,c;try{if("email"in e){const{email:u,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await zs(this.storage,this.storageKey));const{error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:f}=e,{data:g,error:m}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:m}}throw new Wl("You must provide either an email or phone number.")}catch(u){if(Se(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,n;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Nr});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,g=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await zs(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:kE})}catch(l){if(Se(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new on;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:l}=e,{error:c}=await Ce(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:a,options:l}=e,{data:c,error:u}=await Ce(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Wl("You must provide either an email or phone number and a type")}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await zn(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Qu()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,g,m)=>(!c&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,g,m))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dn}):await this._useSession(async t=>{var n,a,l;const{data:c,error:u}=t;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:dn})})}catch(t){if(Se(t))return Z_(t)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:l}=n;if(l)throw l;if(!a.session)throw new on;const c=a.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await zs(this.storage,this.storageKey));const{data:g,error:m}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:dn});if(m)throw m;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new on;const t=Date.now()/1e3;let n=t,a=!0,l=null;const{payload:c}=Yu(e.access_token);if(c.exp&&(n=c.exp,a=n<=t),a){const{session:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(Se(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:c,error:u}=t;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new on;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!er())throw new Vl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new um("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new um("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:u,expires_at:f,token_type:g}=e;if(!l||!u||!c||!g)throw new Vl("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let x=m+y;f&&(x=parseInt(f));const w=x-m;w*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const _=x-y;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,m);const{data:E,error:S}=await this._getUser(l);if(S)throw S;const D={provider_token:n,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:x,refresh_token:c,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(n){if(Se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:l}=t;if(l)return{error:l};const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(K_(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=lE(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:l},error:c}=t;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await zs(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(Se(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async l=>{var c,u,f,g,m;const{data:y,error:x}=l;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return er()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Se(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:l,error:c}=t;if(c)throw c;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await dE(async a=>(a>0&&await uE(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nr})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Gu(l)&&Date.now()+c-n<Vs})}catch(n){if(this._debug(t,"error",n),Se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),er()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await zn(this.storage,this.storageKey);if(a&&this.userStorage){let c=await zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await qs(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Qu()}else if(a&&!a.user&&!a.user){const c=await zn(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await an(this.storage,this.storageKey+"-user"),await qs(this.storage,this.storageKey,a)):a.user=Qu()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qu;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${qu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Gu(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Oo;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new on;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(a,"error",l),Se(l)){const c={session:null,error:l};return Gu(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await qs(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=gm(a);await qs(this.storage,this.storageKey,l)}else{const a=gm(t);await qs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Ed} ticks`),a<=Ed&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await zs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);a.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:l}=t;return l?{data:null,error:l}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:l,error:c}=t;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:g}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:l}=t;if(l)return{data:null,error:l};const{data:c,error:u}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(t){if(Se(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:l}=t;return l?{data:null,error:l}:await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Se(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Yu(a.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+Y_>a)return n;const{data:l,error:c}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,n=l.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:w,error:_}=await this.getSession();if(_||!w.session)return{data:null,error:_};n=w.session.access_token}const{header:a,payload:l,signature:c,raw:{header:u,payload:f}}=Yu(n);t!=null&&t.allowExpired||yE(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!g){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:l,header:a,signature:c},error:null}}const m=wE(a.alg),y=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,sE(`${u}.${f}`)))throw new Ad("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}ga.nextInstanceID=0;const OE=ga;class PE extends OE{constructor(e){super(e)}}var LE=function(r,e,t,n){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function u(m){try{g(n.next(m))}catch(y){c(y)}}function f(m){try{g(n.throw(m))}catch(y){c(y)}}function g(m){m.done?l(m.value):a(m.value).then(u,f)}g((n=n.apply(r,e||[])).next())})};class UE{constructor(e,t,n){var a,l,c;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=B_(e),f=new URL(u);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:I_,realtime:P_,auth:Object.assign(Object.assign({},O_),{storageKey:g}),global:M_},y=$_(n??{},m);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=H_(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new r_(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new WS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new N_(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return LE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:l,flowType:c,lock:u,debug:f},g,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PE({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:c,lock:u,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new v_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FE=(r,e,t)=>new UE(r,e,t),HE="https://huhfxfuykkbvaywpiitp.supabase.co",zE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh1aGZ4ZnV5a2tidmF5d3BpaXRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NDgzNjUsImV4cCI6MjA2ODUyNDM2NX0.FFz7NKVTCS5nbNfObMk1_SmWkKd1gvdXO6a99Mlr95w",xe=FE(HE,zE);async function BE(){const{data:{user:r},error:e}=await xe.auth.getUser();return e?(console.error("Error getting user:",e),null):r}async function xm(r){const{data:e,error:t}=await xe.from("users").select("*").eq("id",r).maybeSingle();return t?(console.error("Error getting user profile:",t),null):e}async function $E(r,e){const{data:{user:t},error:n}=await xe.auth.getUser();if(n||!t)throw new Error("User authentication failed, please log in again");const{data:a,error:l}=await xe.from("users").update({...e,updated_at:new Date().toISOString()}).eq("id",t.id).select().maybeSingle();if(l)throw console.error("Database update error:",l),l;return a}const hy=$.createContext(void 0);function vr(){const r=$.useContext(hy);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function WE({children:r}){const[e,t]=$.useState(null),[n,a]=$.useState(null),[l,c]=$.useState(!0);$.useEffect(()=>{async function w(){c(!0);try{const E=await BE();if(t(E),E){const S=await xm(E.id);a(S)}}catch(E){console.error("Error loading user:",E)}finally{c(!1)}}w();const{data:{subscription:_}}=xe.auth.onAuthStateChange(async(E,S)=>{t((S==null?void 0:S.user)||null),S!=null&&S.user?u(S.user.id):a(null)});return()=>_.unsubscribe()},[]);async function u(w){try{const _=await xm(w);a(_)}catch(_){console.error("Error loading user profile:",_)}}async function f(){e&&await u(e.id)}async function g(w,_){return await xe.auth.signInWithPassword({email:w,password:_})}async function m(w,_,E,S){const{data:D,error:P}=await xe.auth.signUp({email:w,password:_,options:{emailRedirectTo:`${window.location.protocol}//${window.location.host}/auth/callback`}});if(P)throw P;if(D.user){const{error:N}=await xe.from("users").insert({id:D.user.id,email:w,display_name:E,relationship_role:S||"individual",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});N&&console.error("Error creating user profile:",N)}return D}async function y(){const{error:w}=await xe.auth.signOut();if(w)throw w;a(null)}const x={user:e,profile:n,loading:l,signIn:g,signUp:m,signOut:y,refreshProfile:f};return h.jsx(hy.Provider,{value:x,children:r})}function py(){const r=$.useRef(null),e=$.useCallback((a,l=.3)=>{try{r.current&&(r.current.pause(),r.current.currentTime=0),r.current=new Audio(a),r.current.volume=l;const c=r.current.play();c!==void 0&&c.then(()=>{console.log("Audio playing successfully")}).catch(u=>{console.log("Audio play failed:",u)})}catch(c){console.error("Error playing audio:",c)}},[]),t=$.useCallback(()=>{r.current&&(r.current.pause(),r.current.currentTime=0)},[]),n=$.useCallback(()=>{try{const a=new(window.AudioContext||window.webkitAudioContext),l=a.createOscillator(),c=a.createGain();l.connect(c),c.connect(a.destination),l.frequency.setValueAtTime(659.25,a.currentTime),l.type="sine",c.gain.setValueAtTime(0,a.currentTime),c.gain.linearRampToValueAtTime(.1,a.currentTime+.1),c.gain.exponentialRampToValueAtTime(.01,a.currentTime+2),l.start(a.currentTime),l.stop(a.currentTime+2);const u=a.createOscillator(),f=a.createGain();u.connect(f),f.connect(a.destination),u.frequency.setValueAtTime(987.77,a.currentTime),u.type="sine",f.gain.setValueAtTime(0,a.currentTime),f.gain.linearRampToValueAtTime(.05,a.currentTime+.2),f.gain.exponentialRampToValueAtTime(.01,a.currentTime+1.8),u.start(a.currentTime+.1),u.stop(a.currentTime+1.8)}catch{console.log("Web Audio API not available, using fallback")}},[]);return{playAudio:e,stopAudio:t,playEntranceSound:n}}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(r,e)=>{const t=$.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:f,...g},m)=>$.createElement("svg",{ref:m,...VE,width:a,height:a,stroke:n,strokeWidth:c?Number(l)*24/Number(a):l,className:["lucide",`lucide-${qE(r)}`,u].join(" "),...g},[...e.map(([y,x])=>$.createElement(y,x)),...Array.isArray(f)?f:[f]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Ee("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Ee("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function h1({onComplete:r,children:e}){const[t,n]=$.useState(!0),[a,l]=$.useState(!1),{playEntranceSound:c}=py(),[u,f]=$.useState([]);$.useEffect(()=>{const m=Array.from({length:12},(w,_)=>({id:_,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*3}));f(m),c();const y=setTimeout(()=>{l(!0)},3e3),x=setTimeout(()=>{g()},6e3);return()=>{clearTimeout(y),clearTimeout(x)}},[]);const g=()=>{n(!1),setTimeout(()=>{r()},800)};return t?h.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 animate-pulse"}),h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"absolute top-10 left-10 opacity-30 animate-float-slow",children:h.jsx(ql,{className:"w-32 h-32 text-white/60"})}),h.jsx("div",{className:"absolute top-20 right-20 opacity-20 animate-float-slower",children:h.jsx(ql,{className:"w-48 h-48 text-blue-200/40"})}),h.jsx("div",{className:"absolute bottom-32 left-1/4 opacity-25 animate-float-medium",children:h.jsx(ql,{className:"w-40 h-40 text-purple-200/50"})}),h.jsx("div",{className:"absolute bottom-20 right-1/3 opacity-15 animate-float-slow",children:h.jsx(ql,{className:"w-56 h-56 text-white/30"})})]}),h.jsx("div",{className:"absolute inset-0",children:u.map(m=>h.jsx("div",{className:"absolute animate-float-particle opacity-40",style:{left:`${m.x}%`,top:`${m.y}%`,animationDelay:`${m.delay}s`},children:h.jsx(yy,{className:"w-4 h-4 text-yellow-300/60"})},m.id))}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-center space-y-8 animate-fade-in-up",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-6xl font-light text-gray-800/80 tracking-wide animate-text-shimmer",children:"ZenzaLife"}),h.jsx("p",{className:"text-xl text-gray-600/70 font-light tracking-wider",children:"Scheduler"})]}),h.jsx("div",{className:"max-w-md mx-auto",children:h.jsx("p",{className:"text-sm text-gray-500/80 font-light leading-relaxed animate-fade-in-delayed",children:"Enter a higher dimension of life management"})}),h.jsxs("div",{className:"flex justify-center space-x-1 animate-fade-in-delayed-2",children:[h.jsx("div",{className:"w-2 h-2 bg-blue-300/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 bg-purple-300/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 bg-blue-300/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),a&&h.jsx("button",{onClick:g,className:"absolute top-6 right-6 p-2 rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-all duration-300 animate-fade-in","aria-label":"Skip entrance",children:h.jsx(ef,{className:"w-5 h-5 text-gray-600/70"})}),h.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-fade-in-delayed-3",children:h.jsx("p",{className:"text-xs text-gray-400/80 font-light",children:"Preparing your elevated life management experience..."})})]}):h.jsx("div",{className:"transition-opacity duration-800 opacity-100",children:e})}const p1=[{value:"mom",label:"Mom"},{value:"dad",label:"Dad"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"partner",label:"Partner"},{value:"individual",label:"Individual"}];function g1({mode:r,onModeChange:e}){const[t,n]=$.useState(""),[a,l]=$.useState(""),[c,u]=$.useState(""),[f,g]=$.useState("individual"),[m,y]=$.useState(!1),[x,w]=$.useState(!1),{signIn:_,signUp:E}=vr(),S=async D=>{D.preventDefault(),w(!0);try{if(r==="signin"){const{error:P}=await _(t,a);if(P)throw P;ne.success("Welcome back to ZenzaLife!")}else{const{error:P}=await E(t,a,c,f);if(P)throw P;ne.success("Welcome to ZenzaLife! Please check your email to verify your account.")}}catch(P){ne.error(P.message||"Authentication failed")}finally{w(!1)}};return h.jsx("div",{className:"w-full max-w-md mx-auto",children:h.jsxs("div",{className:"card-floating p-8 space-y-6",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h2",{className:"text-2xl font-light text-gray-800",children:r==="signin"?"Welcome Back":"Join ZenzaLife"}),h.jsx("p",{className:"text-sm text-gray-600/80 font-light",children:r==="signin"?"Continue your journey to 1% better every day":"Begin your transformation into a higher version of yourself"})]}),h.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r==="signup"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[h.jsx(by,{className:"w-4 h-4"}),"Display Name"]}),h.jsx("input",{type:"text",value:c,onChange:D=>u(D.target.value),className:"input-dreamy w-full",placeholder:"How should we call you?",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[h.jsx(va,{className:"w-4 h-4"}),"Role in Family"]}),h.jsx("select",{value:f,onChange:D=>g(D.target.value),className:"input-dreamy w-full",children:p1.map(D=>h.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[h.jsx(a1,{className:"w-4 h-4"}),"Email"]}),h.jsx("input",{type:"email",value:t,onChange:D=>n(D.target.value),className:"input-dreamy w-full",placeholder:"your@email.com",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[h.jsx(s1,{className:"w-4 h-4"}),"Password"]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:m?"text":"password",value:a,onChange:D=>l(D.target.value),className:"input-dreamy w-full pr-12",placeholder:"Your secure password",required:!0,minLength:6}),h.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?h.jsx(t1,{className:"w-5 h-5"}):h.jsx(r1,{className:"w-5 h-5"})})]})]}),h.jsx("button",{type:"submit",disabled:x,className:"btn-dreamy-primary w-full",children:x?h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),r==="signin"?"Signing In...":"Creating Account..."]}):r==="signin"?"Sign In":"Create Account"})]}),h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:()=>e(r==="signin"?"signup":"signin"),className:"text-sm text-gray-600/80 hover:text-gray-800 font-light underline underline-offset-4",children:r==="signin"?"New to ZenzaLife? Create an account":"Already have an account? Sign in"})})]})})}var Td=Pv(),Po,me,Sy,_y,ci,qn,Sm,Ey,ky,go={},Cy=[],m1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function yn(r,e){for(var t in e)r[t]=e[t];return r}function Ay(r){var e=r.parentNode;e&&e.removeChild(r)}function A(r,e,t){var n,a,l,c={};for(l in e)l=="key"?n=e[l]:l=="ref"?a=e[l]:c[l]=e[l];if(arguments.length>2&&(c.children=arguments.length>3?Po.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(l in r.defaultProps)c[l]===void 0&&(c[l]=r.defaultProps[l]);return to(r,c,n,a,null)}function to(r,e,t,n,a){var l={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++Sy};return a==null&&me.vnode!=null&&me.vnode(l),l}function _t(){return{current:null}}function ze(r){return r.children}function v1(r,e,t,n,a){var l;for(l in t)l==="children"||l==="key"||l in e||mo(r,l,null,t[l],n);for(l in e)a&&typeof e[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||t[l]===e[l]||mo(r,l,e[l],t[l],n)}function _m(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||m1.test(e)?t:t+"px"}function mo(r,e,t,n,a){var l;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||_m(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||_m(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")l=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+l]=t,t?n||r.addEventListener(e,l?km:Em,l):r.removeEventListener(e,l?km:Em,l);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?r.removeAttribute(e):r.setAttribute(e,t))}}function Em(r){ci=!0;try{return this.l[r.type+!1](me.event?me.event(r):r)}finally{ci=!1}}function km(r){ci=!0;try{return this.l[r.type+!0](me.event?me.event(r):r)}finally{ci=!1}}function Lt(r,e){this.props=r,this.context=e}function ya(r,e){if(e==null)return r.__?ya(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?ya(r):null}function Dy(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Dy(r)}}function y1(r){ci?setTimeout(r):Ey(r)}function Nd(r){(!r.__d&&(r.__d=!0)&&qn.push(r)&&!vo.__r++||Sm!==me.debounceRendering)&&((Sm=me.debounceRendering)||y1)(vo)}function vo(){var r,e,t,n,a,l,c,u;for(qn.sort(function(f,g){return f.__v.__b-g.__v.__b});r=qn.shift();)r.__d&&(e=qn.length,n=void 0,a=void 0,c=(l=(t=r).__v).__e,(u=t.__P)&&(n=[],(a=yn({},l)).__v=l.__v+1,tf(u,l,a,t.__n,u.ownerSVGElement!==void 0,l.__h!=null?[c]:null,n,c??ya(l),l.__h),My(n,l),l.__e!=c&&Dy(l)),qn.length>e&&qn.sort(function(f,g){return f.__v.__b-g.__v.__b}));vo.__r=0}function Ty(r,e,t,n,a,l,c,u,f,g){var m,y,x,w,_,E,S,D=n&&n.__k||Cy,P=D.length;for(t.__k=[],m=0;m<e.length;m++)if((w=t.__k[m]=(w=e[m])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?to(null,w,null,null,w):Array.isArray(w)?to(ze,{children:w},null,null,null):w.__b>0?to(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null){if(w.__=t,w.__b=t.__b+1,(x=D[m])===null||x&&w.key==x.key&&w.type===x.type)D[m]=void 0;else for(y=0;y<P;y++){if((x=D[y])&&w.key==x.key&&w.type===x.type){D[y]=void 0;break}x=null}tf(r,w,x=x||go,a,l,c,u,f,g),_=w.__e,(y=w.ref)&&x.ref!=y&&(S||(S=[]),x.ref&&S.push(x.ref,null,w),S.push(y,w.__c||_,w)),_!=null?(E==null&&(E=_),typeof w.type=="function"&&w.__k===x.__k?w.__d=f=Ny(w,f,r):f=Ry(r,w,x,D,_,f),typeof t.type=="function"&&(t.__d=f)):f&&x.__e==f&&f.parentNode!=r&&(f=ya(x))}for(t.__e=E,m=P;m--;)D[m]!=null&&(typeof t.type=="function"&&D[m].__e!=null&&D[m].__e==t.__d&&(t.__d=jy(n).nextSibling),Oy(D[m],D[m]));if(S)for(m=0;m<S.length;m++)Iy(S[m],S[++m],S[++m])}function Ny(r,e,t){for(var n,a=r.__k,l=0;a&&l<a.length;l++)(n=a[l])&&(n.__=r,e=typeof n.type=="function"?Ny(n,e,t):Ry(t,n,n,a,n.__e,e));return e}function yo(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){yo(t,e)}):e.push(r)),e}function Ry(r,e,t,n,a,l){var c,u,f;if(e.__d!==void 0)c=e.__d,e.__d=void 0;else if(t==null||a!=l||a.parentNode==null)e:if(l==null||l.parentNode!==r)r.appendChild(a),c=null;else{for(u=l,f=0;(u=u.nextSibling)&&f<n.length;f+=1)if(u==a)break e;r.insertBefore(a,l),c=l}return c!==void 0?c:a.nextSibling}function jy(r){var e,t,n;if(r.type==null||typeof r.type=="string")return r.__e;if(r.__k){for(e=r.__k.length-1;e>=0;e--)if((t=r.__k[e])&&(n=jy(t)))return n}return null}function tf(r,e,t,n,a,l,c,u,f){var g,m,y,x,w,_,E,S,D,P,N,C,z,F,W,I=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(f=t.__h,u=e.__e=t.__e,e.__h=null,l=[u]),(g=me.__b)&&g(e);try{e:if(typeof I=="function"){if(S=e.props,D=(g=I.contextType)&&n[g.__c],P=g?D?D.props.value:g.__:n,t.__c?E=(m=e.__c=t.__c).__=m.__E:("prototype"in I&&I.prototype.render?e.__c=m=new I(S,P):(e.__c=m=new Lt(S,P),m.constructor=I,m.render=x1),D&&D.sub(m),m.props=S,m.state||(m.state={}),m.context=P,m.__n=n,y=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),I.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=yn({},m.__s)),yn(m.__s,I.getDerivedStateFromProps(S,m.__s))),x=m.props,w=m.state,m.__v=e,y)I.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(I.getDerivedStateFromProps==null&&S!==x&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(S,P),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(S,m.__s,P)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(m.props=S,m.state=m.__s,m.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(ie){ie&&(ie.__=e)}),N=0;N<m._sb.length;N++)m.__h.push(m._sb[N]);m._sb=[],m.__h.length&&c.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(S,m.__s,P),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(x,w,_)})}if(m.context=P,m.props=S,m.__P=r,C=me.__r,z=0,"prototype"in I&&I.prototype.render){for(m.state=m.__s,m.__d=!1,C&&C(e),g=m.render(m.props,m.state,m.context),F=0;F<m._sb.length;F++)m.__h.push(m._sb[F]);m._sb=[]}else do m.__d=!1,C&&C(e),g=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++z<25);m.state=m.__s,m.getChildContext!=null&&(n=yn(yn({},n),m.getChildContext())),y||m.getSnapshotBeforeUpdate==null||(_=m.getSnapshotBeforeUpdate(x,w)),W=g!=null&&g.type===ze&&g.key==null?g.props.children:g,Ty(r,Array.isArray(W)?W:[W],e,t,n,a,l,c,u,f),m.base=e.__e,e.__h=null,m.__h.length&&c.push(m),E&&(m.__E=m.__=null),m.__e=!1}else l==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=w1(t.__e,e,t,n,a,l,c,f);(g=me.diffed)&&g(e)}catch(ie){e.__v=null,(f||l!=null)&&(e.__e=u,e.__h=!!f,l[l.indexOf(u)]=null),me.__e(ie,e,t)}}function My(r,e){me.__c&&me.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){me.__e(n,t.__v)}})}function w1(r,e,t,n,a,l,c,u){var f,g,m,y=t.props,x=e.props,w=e.type,_=0;if(w==="svg"&&(a=!0),l!=null){for(;_<l.length;_++)if((f=l[_])&&"setAttribute"in f==!!w&&(w?f.localName===w:f.nodeType===3)){r=f,l[_]=null;break}}if(r==null){if(w===null)return document.createTextNode(x);r=a?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,x.is&&x),l=null,u=!1}if(w===null)y===x||u&&r.data===x||(r.data=x);else{if(l=l&&Po.call(r.childNodes),g=(y=t.props||go).dangerouslySetInnerHTML,m=x.dangerouslySetInnerHTML,!u){if(l!=null)for(y={},_=0;_<r.attributes.length;_++)y[r.attributes[_].name]=r.attributes[_].value;(m||g)&&(m&&(g&&m.__html==g.__html||m.__html===r.innerHTML)||(r.innerHTML=m&&m.__html||""))}if(v1(r,x,y,a,u),m)e.__k=[];else if(_=e.props.children,Ty(r,Array.isArray(_)?_:[_],e,t,n,a&&w!=="foreignObject",l,c,l?l[0]:t.__k&&ya(t,0),u),l!=null)for(_=l.length;_--;)l[_]!=null&&Ay(l[_]);u||("value"in x&&(_=x.value)!==void 0&&(_!==r.value||w==="progress"&&!_||w==="option"&&_!==y.value)&&mo(r,"value",_,y.value,!1),"checked"in x&&(_=x.checked)!==void 0&&_!==r.checked&&mo(r,"checked",_,y.checked,!1))}return r}function Iy(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){me.__e(n,t)}}function Oy(r,e,t){var n,a;if(me.unmount&&me.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||Iy(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(l){me.__e(l,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(a=0;a<n.length;a++)n[a]&&Oy(n[a],e,t||typeof r.type!="function");t||r.__e==null||Ay(r.__e),r.__=r.__e=r.__d=void 0}function x1(r,e,t){return this.constructor(r,t)}function wa(r,e,t){var n,a,l;me.__&&me.__(r,e),a=(n=!1)?null:e.__k,l=[],tf(e,r=e.__k=A(ze,null,[r]),a||go,go,e.ownerSVGElement!==void 0,a?null:e.firstChild?Po.call(e.childNodes):null,l,a?a.__e:e.firstChild,n),My(l,r)}function b1(r,e){var t={__c:e="__cC"+ky++,__:r,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,l;return this.getChildContext||(a=[],(l={})[e]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.some(function(u){u.__e=!0,Nd(u)})},this.sub=function(c){a.push(c);var u=c.componentWillUnmount;c.componentWillUnmount=function(){a.splice(a.indexOf(c),1),u&&u.call(c)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}Po=Cy.slice,me={__e:function(r,e,t,n){for(var a,l,c;e=e.__;)if((a=e.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(r)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(r,n||{}),c=a.__d),c)return a.__E=a}catch(u){r=u}throw r}},Sy=0,_y=function(r){return r!=null&&r.constructor===void 0},ci=!1,Lt.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=yn({},this.state),typeof r=="function"&&(r=r(yn({},t),this.props)),r&&yn(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),Nd(this))},Lt.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Nd(this))},Lt.prototype.render=ze,qn=[],Ey=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vo.__r=0,ky=0;var gr,Zu,Cm,Py=[],Ju=[],Am=me.__b,Dm=me.__r,Tm=me.diffed,Nm=me.__c,Rm=me.unmount;function S1(){for(var r;r=Py.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(ro),r.__H.__h.forEach(Rd),r.__H.__h=[]}catch(e){r.__H.__h=[],me.__e(e,r.__v)}}me.__b=function(r){gr=null,Am&&Am(r)},me.__r=function(r){Dm&&Dm(r);var e=(gr=r.__c).__H;e&&(Zu===gr?(e.__h=[],gr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Ju,t.__N=t.i=void 0})):(e.__h.forEach(ro),e.__h.forEach(Rd),e.__h=[])),Zu=gr},me.diffed=function(r){Tm&&Tm(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(Py.push(e)!==1&&Cm===me.requestAnimationFrame||((Cm=me.requestAnimationFrame)||_1)(S1)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Ju&&(t.__=t.__V),t.i=void 0,t.__V=Ju})),Zu=gr=null},me.__c=function(r,e){e.some(function(t){try{t.__h.forEach(ro),t.__h=t.__h.filter(function(n){return!n.__||Rd(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],me.__e(n,t.__v)}}),Nm&&Nm(r,e)},me.unmount=function(r){Rm&&Rm(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{ro(n)}catch(a){e=a}}),t.__H=void 0,e&&me.__e(e,t.__v))};var jm=typeof requestAnimationFrame=="function";function _1(r){var e,t=function(){clearTimeout(n),jm&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);jm&&(e=requestAnimationFrame(t))}function ro(r){var e=gr,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),gr=e}function Rd(r){var e=gr;r.__c=r.__(),gr=e}function E1(r,e){for(var t in e)r[t]=e[t];return r}function Mm(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function Im(r){this.props=r}(Im.prototype=new Lt).isPureReactComponent=!0,Im.prototype.shouldComponentUpdate=function(r,e){return Mm(this.props,r)||Mm(this.state,e)};var Om=me.__b;me.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),Om&&Om(r)};var k1=me.__e;me.__e=function(r,e,t,n){if(r.then){for(var a,l=e;l=l.__;)if((a=l.__c)&&a.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),a.__c(r,e)}k1(r,e,t,n)};var Pm=me.unmount;function Ly(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=E1({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return Ly(n,e,t)})),r}function Uy(r,e,t){return r&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return Uy(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.insertBefore(r.__e,r.__d),r.__c.__e=!0,r.__c.__P=t)),r}function Xu(){this.__u=0,this.t=null,this.__b=null}function Fy(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function Gl(){this.u=null,this.o=null}me.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&r.__h===!0&&(r.type=null),Pm&&Pm(r)},(Xu.prototype=new Lt).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var a=Fy(n.__v),l=!1,c=function(){l||(l=!0,t.__R=null,a?a(u):u())};t.__R=c;var u=function(){if(!--n.__u){if(n.state.__a){var g=n.state.__a;n.__v.__k[0]=Uy(g,g.__c.__P,g.__c.__O)}var m;for(n.setState({__a:n.__b=null});m=n.t.pop();)m.forceUpdate()}},f=e.__h===!0;n.__u++||f||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(c,c)},Xu.prototype.componentWillUnmount=function(){this.t=[]},Xu.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Ly(this.__b,t,n.__O=n.__P)}this.__b=null}var a=e.__a&&A(ze,null,r.fallback);return a&&(a.__h=null),[A(ze,null,e.__a?null:r.children),a]};var Lm=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function C1(r){return this.getChildContext=function(){return r.context},r.children}function A1(r){var e=this,t=r.i;e.componentWillUnmount=function(){wa(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,a){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),wa(A(C1,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}function D1(r,e){var t=A(A1,{__v:r,i:e});return t.containerInfo=e,t}(Gl.prototype=new Lt).__a=function(r){var e=this,t=Fy(e.__v),n=e.o.get(r);return n[0]++,function(a){var l=function(){e.props.revealOrder?(n.push(a),Lm(e,r,n)):a()};t?t(l):l()}},Gl.prototype.render=function(r){this.u=null,this.o=new Map;var e=yo(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},Gl.prototype.componentDidUpdate=Gl.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){Lm(r,t,e)})};var T1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,N1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,R1=typeof document<"u",j1=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};Lt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Lt.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var Um=me.event;function M1(){}function I1(){return this.cancelBubble}function O1(){return this.defaultPrevented}me.event=function(r){return Um&&(r=Um(r)),r.persist=M1,r.isPropagationStopped=I1,r.isDefaultPrevented=O1,r.nativeEvent=r};var Fm={configurable:!0,get:function(){return this.class}},Hm=me.vnode;me.vnode=function(r){var e=r.type,t=r.props,n=t;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var l in n={},t){var c=t[l];R1&&l==="children"&&e==="noscript"||l==="value"&&"defaultValue"in t&&c==null||(l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&c===!0?c="":/ondoubleclick/i.test(l)?l="ondblclick":/^onchange(textarea|input)/i.test(l+e)&&!j1(t.type)?l="oninput":/^onfocus$/i.test(l)?l="onfocusin":/^onblur$/i.test(l)?l="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(l)?l=l.toLowerCase():a&&N1.test(l)?l=l.replace(/[A-Z0-9]/g,"-$&").toLowerCase():c===null&&(c=void 0),/^oninput$/i.test(l)&&(l=l.toLowerCase(),n[l]&&(l="oninputCapture")),n[l]=c)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=yo(t.children).forEach(function(u){u.props.selected=n.value.indexOf(u.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=yo(t.children).forEach(function(u){u.props.selected=n.multiple?n.defaultValue.indexOf(u.props.value)!=-1:n.defaultValue==u.props.value})),r.props=n,t.class!=t.className&&(Fm.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",Fm))}r.$$typeof=T1,Hm&&Hm(r)};var zm=me.__r;me.__r=function(r){zm&&zm(r),r.__c};const Hy=[],jd=new Map;function rf(r){Hy.push(r),jd.forEach(e=>{By(e,r)})}function P1(r){r.isConnected&&r.getRootNode&&zy(r.getRootNode())}function zy(r){let e=jd.get(r);if(!e||!e.isConnected){if(e=r.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=U1();t&&(e.nonce=t);const n=r===document?document.head:r,a=r===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,a)}jd.set(r,e),L1(e)}}function L1(r){for(const e of Hy)By(r,e)}function By(r,e){const{sheet:t}=r,n=t.cssRules.length;e.split("}").forEach((a,l)=>{a=a.trim(),a&&t.insertRule(a+"}",n+l)})}let ed;function U1(){return ed===void 0&&(ed=F1()),ed}function F1(){const r=document.querySelector('meta[name="csp-nonce"]');if(r&&r.hasAttribute("content"))return r.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&zy(document);var H1=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';rf(H1);class nf{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function sf(r){r.parentNode&&r.parentNode.removeChild(r)}function vt(r,e){if(r.closest)return r.closest(e);if(!document.documentElement.contains(r))return null;do{if(z1(r,e))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}function z1(r,e){return(r.matches||r.matchesSelector||r.msMatchesSelector).call(r,e)}function B1(r,e){let t=r instanceof HTMLElement?[r]:r,n=[];for(let a=0;a<t.length;a+=1){let l=t[a].querySelectorAll(e);for(let c=0;c<l.length;c+=1)n.push(l[c])}return n}const $1=/(top|left|right|bottom|width|height)$/i;function ua(r,e){for(let t in e)$y(r,t,e[t])}function $y(r,e,t){t==null?r.style[e]="":typeof t=="number"&&$1.test(e)?r.style[e]=`${t}px`:r.style[e]=t}function Wy(r){var e,t;return(t=(e=r.composedPath)===null||e===void 0?void 0:e.call(r)[0])!==null&&t!==void 0?t:r.target}let Bm=0;function Lo(){return Bm+=1,"fc-dom-"+Bm}function Uo(r){r.preventDefault()}function W1(r,e){return t=>{let n=vt(t.target,r);n&&e.call(n,t,n)}}function Vy(r,e,t,n){let a=W1(t,n);return r.addEventListener(e,a),()=>{r.removeEventListener(e,a)}}function V1(r,e,t,n){let a;return Vy(r,"mouseover",e,(l,c)=>{if(c!==a){a=c,t(l,c);let u=f=>{a=null,n(f,c),c.removeEventListener("mouseleave",u)};c.addEventListener("mouseleave",u)}})}const $m=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function q1(r,e){let t=n=>{e(n),$m.forEach(a=>{r.removeEventListener(a,t)})};$m.forEach(n=>{r.addEventListener(n,t)})}function qy(r){return Object.assign({onClick:r},Gy(r))}function Gy(r){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(r(e),e.preventDefault())}}}let Wm=0;function ls(){return Wm+=1,String(Wm)}function af(){document.body.classList.add("fc-not-allowed")}function lf(){document.body.classList.remove("fc-not-allowed")}function G1(r){r.style.userSelect="none",r.style.webkitUserSelect="none",r.addEventListener("selectstart",Uo)}function Y1(r){r.style.userSelect="",r.style.webkitUserSelect="",r.removeEventListener("selectstart",Uo)}function Q1(r){r.addEventListener("contextmenu",Uo)}function K1(r){r.removeEventListener("contextmenu",Uo)}function Z1(r){let e=[],t=[],n,a;for(typeof r=="string"?t=r.split(/\s*,\s*/):typeof r=="function"?t=[r]:Array.isArray(r)&&(t=r),n=0;n<t.length;n+=1)a=t[n],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function J1(r,e,t){let n,a;for(n=0;n<t.length;n+=1)if(a=X1(r,e,t[n]),a)return a;return 0}function X1(r,e,t){return t.func?t.func(r,e):ek(r[t.field],e[t.field])*(t.order||1)}function ek(r,e){return!r&&!e?0:e==null?-1:r==null?1:typeof r=="string"||typeof e=="string"?String(r).localeCompare(String(e)):r-e}function Zs(r,e){let t=String(r);return"000".substr(0,e-t.length)+t}function da(r,e,t){return typeof r=="function"?r(...e):typeof r=="string"?e.reduce((n,a,l)=>n.replace("$"+l,a||""),r):t}function tk(r,e){return r-e}function no(r){return r%1===0}function rk(r){let e=r.querySelector(".fc-scrollgrid-shrink-frame"),t=r.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return r.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const Vm=["years","months","days","milliseconds"],nk=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function De(r,e){return typeof r=="string"?sk(r):typeof r=="object"&&r?qm(r):typeof r=="number"?qm({[e||"milliseconds"]:r}):null}function sk(r){let e=nk.exec(r);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function qm(r){let e={years:r.years||r.year||0,months:r.months||r.month||0,days:r.days||r.day||0,milliseconds:(r.hours||r.hour||0)*60*60*1e3+(r.minutes||r.minute||0)*60*1e3+(r.seconds||r.second||0)*1e3+(r.milliseconds||r.millisecond||r.ms||0)},t=r.weeks||r.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function ik(r,e){return r.years===e.years&&r.months===e.months&&r.days===e.days&&r.milliseconds===e.milliseconds}function Md(r,e){return{years:r.years+e.years,months:r.months+e.months,days:r.days+e.days,milliseconds:r.milliseconds+e.milliseconds}}function ak(r,e){return{years:r.years-e.years,months:r.months-e.months,days:r.days-e.days,milliseconds:r.milliseconds-e.milliseconds}}function lk(r,e){return{years:r.years*e,months:r.months*e,days:r.days*e,milliseconds:r.milliseconds*e}}function ok(r){return Js(r)/365}function ck(r){return Js(r)/30}function Js(r){return ir(r)/864e5}function ir(r){return r.years*(365*864e5)+r.months*(30*864e5)+r.days*864e5+r.milliseconds}function of(r,e){let t=null;for(let n=0;n<Vm.length;n+=1){let a=Vm[n];if(e[a]){let l=r[a]/e[a];if(!no(l)||t!==null&&t!==l)return null;t=l}else if(r[a])return null}return t}function Id(r){let e=r.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return r.days?r.specifiedWeeks&&r.days%7===0?{unit:"week",value:r.days/7}:{unit:"day",value:r.days}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function Sn(r,e,t){if(r===e)return!0;let n=r.length,a;if(n!==e.length)return!1;for(a=0;a<n;a+=1)if(!(t?t(r[a],e[a]):r[a]===e[a]))return!1;return!0}const uk=["sun","mon","tue","wed","thu","fri","sat"];function Gm(r,e){let t=wn(r);return t[2]+=e*7,Rt(t)}function yt(r,e){let t=wn(r);return t[2]+=e,Rt(t)}function _n(r,e){let t=wn(r);return t[6]+=e,Rt(t)}function dk(r,e){return os(r,e)/7}function os(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60*24)}function fk(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60)}function hk(r,e){return(e.valueOf()-r.valueOf())/(1e3*60)}function pk(r,e){return(e.valueOf()-r.valueOf())/1e3}function gk(r,e){let t=Be(r),n=Be(e);return{years:0,months:0,days:Math.round(os(t,n)),milliseconds:e.valueOf()-n.valueOf()-(r.valueOf()-t.valueOf())}}function mk(r,e){let t=wo(r,e);return t!==null&&t%7===0?t/7:null}function wo(r,e){return xn(r)===xn(e)?Math.round(os(r,e)):null}function Be(r){return Rt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function vk(r){return Rt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}function yk(r){return Rt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}function wk(r){return Rt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}function xk(r,e,t){let n=r.getUTCFullYear(),a=td(r,n,e,t);if(a<1)return td(r,n-1,e,t);let l=td(r,n+1,e,t);return l>=1?Math.min(a,l):a}function td(r,e,t,n){let a=Rt([e,0,1+bk(e,t,n)]),l=Be(r),c=Math.round(os(a,l));return Math.floor(c/7)+1}function bk(r,e,t){let n=7+e-t;return-((7+Rt([r,0,n]).getUTCDay()-e)%7)+n-1}function Ym(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function Qm(r){return new Date(r[0],r[1]||0,r[2]==null?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function wn(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function Rt(r){return r.length===1&&(r=r.concat([0])),new Date(Date.UTC(...r))}function Yy(r){return!isNaN(r.valueOf())}function xn(r){return r.getUTCHours()*1e3*60*60+r.getUTCMinutes()*1e3*60+r.getUTCSeconds()*1e3+r.getUTCMilliseconds()}function Qy(r,e,t=!1){let n=r.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",uf(e,!0)))),n}function cf(r){return r.toISOString().replace(/T.*$/,"")}function Sk(r){return r.toISOString().match(/^\d{4}-\d{2}/)[0]}function _k(r){return Zs(r.getUTCHours(),2)+":"+Zs(r.getUTCMinutes(),2)+":"+Zs(r.getUTCSeconds(),2)}function uf(r,e=!1){let t=r<0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),l=Math.round(n%60);return e?`${t+Zs(a,2)}:${Zs(l,2)}`:`GMT${t}${a}${l?`:${Zs(l,2)}`:""}`}function ve(r,e,t){let n,a;return function(...l){if(!n)a=r.apply(this,l);else if(!Sn(n,l)){let c=r.apply(this,l);(!e||!e(c,a))&&(a=c)}return n=l,a}}function so(r,e,t){let n,a;return l=>(n?ar(n,l)||(a=r.call(this,l)):a=r.call(this,l),n=l,a)}const rd={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},xo={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Yl=/\s*([ap])\.?m\.?/i,Ek=/,/g,kk=/\s+/g,Ck=/\u200e/g,Ak=/UTC|GMT/;class Dk{constructor(e){let t={},n={},a=9;for(let l in e)l in rd?(n[l]=e[l],rd[l]<9&&(a=Math.min(rd[l],a))):(t[l]=e[l],l in xo&&(a=Math.min(xo[l],a)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=a,this.buildFormattingFunc=ve(Km)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,a){let{standardDateProps:l,extendedSettings:c}=this,u=Ik(e.marker,t.marker,n.calendarSystem);if(!u)return this.format(e,n);let f=u;f>1&&(l.year==="numeric"||l.year==="2-digit")&&(l.month==="numeric"||l.month==="2-digit")&&(l.day==="numeric"||l.day==="2-digit")&&(f=1);let g=this.format(e,n),m=this.format(t,n);if(g===m)return g;let y=Ok(l,f),x=Km(y,c,n),w=x(e),_=x(t),E=Pk(g,w,m,_),S=c.separator||a||n.defaultSeparator||"";return E?E.before+w+S+_+E.after:g+S+m}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Km(r,e,t){let n=Object.keys(r).length;return n===1&&r.timeZoneName==="short"?a=>uf(a.timeZoneOffset):n===0&&e.week?a=>Mk(t.computeWeekNumber(a.marker),t.weekText,t.weekTextLong,t.locale,e.week):Tk(r,e,t)}function Tk(r,e,t){r=Object.assign({},r),e=Object.assign({},e),Nk(r,e),r.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,r),a;if(e.omitZeroMinute){let l=Object.assign({},r);delete l.minute,a=new Intl.DateTimeFormat(t.locale.codes,l)}return l=>{let{marker:c}=l,u;a&&!c.getUTCMinutes()?u=a:u=n;let f=u.format(c);return Rk(f,l,r,e,t)}}function Nk(r,e){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),r.timeZoneName==="long"&&(r.timeZoneName="short"),e.omitZeroMinute&&(r.second||r.millisecond)&&delete e.omitZeroMinute}function Rk(r,e,t,n,a){return r=r.replace(Ck,""),t.timeZoneName==="short"&&(r=jk(r,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":uf(e.timeZoneOffset))),n.omitCommas&&(r=r.replace(Ek,"").trim()),n.omitZeroMinute&&(r=r.replace(":00","")),n.meridiem===!1?r=r.replace(Yl,"").trim():n.meridiem==="narrow"?r=r.replace(Yl,(l,c)=>c.toLocaleLowerCase()):n.meridiem==="short"?r=r.replace(Yl,(l,c)=>`${c.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(r=r.replace(Yl,l=>l.toLocaleLowerCase())),r=r.replace(kk," "),r=r.trim(),r}function jk(r,e){let t=!1;return r=r.replace(Ak,()=>(t=!0,e)),t||(r+=` ${e}`),r}function Mk(r,e,t,n,a){let l=[];return a==="long"?l.push(t):(a==="short"||a==="narrow")&&l.push(e),(a==="long"||a==="short")&&l.push(" "),l.push(n.simpleNumberFormat.format(r)),n.options.direction==="rtl"&&l.reverse(),l.join("")}function Ik(r,e,t){return t.getMarkerYear(r)!==t.getMarkerYear(e)?5:t.getMarkerMonth(r)!==t.getMarkerMonth(e)?4:t.getMarkerDay(r)!==t.getMarkerDay(e)?2:xn(r)!==xn(e)?1:0}function Ok(r,e){let t={};for(let n in r)(!(n in xo)||xo[n]<=e)&&(t[n]=r[n]);return t}function Pk(r,e,t,n){let a=0;for(;a<r.length;){let l=r.indexOf(e,a);if(l===-1)break;let c=r.substr(0,l);a=l+e.length;let u=r.substr(a),f=0;for(;f<t.length;){let g=t.indexOf(n,f);if(g===-1)break;let m=t.substr(0,g);f=g+n.length;let y=t.substr(f);if(c===m&&u===y)return{before:c,after:u}}}return null}function Zm(r,e){let t=e.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function bo(r,e,t,n){let a=Zm(r,t.calendarSystem),l=e?Zm(e,t.calendarSystem):null;return{date:a,start:a,end:l,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}class Lk{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,bo(e,null,t,n))}formatRange(e,t,n,a){return n.cmdFormatter(this.cmdStr,bo(e,t,n,a))}}class Uk{constructor(e){this.func=e}format(e,t,n){return this.func(bo(e,null,t,n))}formatRange(e,t,n,a){return this.func(bo(e,t,n,a))}}function Qe(r){return typeof r=="object"&&r?new Dk(r):typeof r=="string"?new Lk(r):typeof r=="function"?new Uk(r):null}const Jm={navLinkDayClick:U,navLinkWeekClick:U,duration:De,bootstrapFontAwesome:U,buttonIcons:U,customButtons:U,defaultAllDayEventDuration:De,defaultTimedEventDuration:De,nextDayThreshold:De,scrollTime:De,scrollTimeReset:Boolean,slotMinTime:De,slotMaxTime:De,dayPopoverFormat:Qe,slotDuration:De,snapDuration:De,headerToolbar:U,footerToolbar:U,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Qe,dayHeaderClassNames:U,dayHeaderContent:U,dayHeaderDidMount:U,dayHeaderWillUnmount:U,dayCellClassNames:U,dayCellContent:U,dayCellDidMount:U,dayCellWillUnmount:U,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:U,weekNumbers:Boolean,weekNumberClassNames:U,weekNumberContent:U,weekNumberDidMount:U,weekNumberWillUnmount:U,editable:Boolean,viewClassNames:U,viewDidMount:U,viewWillUnmount:U,nowIndicator:Boolean,nowIndicatorClassNames:U,nowIndicatorContent:U,nowIndicatorDidMount:U,nowIndicatorWillUnmount:U,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:U,locale:U,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:U,eventOrder:Z1,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:U,contentHeight:U,direction:String,weekNumberFormat:Qe,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:U,initialDate:U,now:U,eventDataTransform:U,stickyHeaderDates:U,stickyFooterScrollbar:U,viewHeight:U,defaultAllDay:Boolean,eventSourceFailure:U,eventSourceSuccess:U,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:U,eventConstraint:U,eventAllow:U,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:U,eventContent:U,eventDidMount:U,eventWillUnmount:U,selectConstraint:U,selectOverlap:U,selectAllow:U,droppable:Boolean,unselectCancel:String,slotLabelFormat:U,slotLaneClassNames:U,slotLaneContent:U,slotLaneDidMount:U,slotLaneWillUnmount:U,slotLabelClassNames:U,slotLabelContent:U,slotLabelDidMount:U,slotLabelWillUnmount:U,dayMaxEvents:U,dayMaxEventRows:U,dayMinWidth:Number,slotLabelInterval:De,allDayText:String,allDayClassNames:U,allDayContent:U,allDayDidMount:U,allDayWillUnmount:U,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Qe,rerenderDelay:Number,moreLinkText:U,moreLinkHint:U,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:U,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:De,hiddenDays:U,fixedWeekCount:Boolean,validRange:U,visibleRange:U,titleFormat:U,eventInteractive:Boolean,noEventsText:String,viewHint:U,navLinkHint:U,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:U,moreLinkClassNames:U,moreLinkContent:U,moreLinkDidMount:U,moreLinkWillUnmount:U,monthStartFormat:Qe,handleCustomRendering:U,customRenderingMetaMap:U,customRenderingReplaces:Boolean},fa={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Xm={datesSet:U,eventsSet:U,eventAdd:U,eventChange:U,eventRemove:U,windowResize:U,eventClick:U,eventMouseEnter:U,eventMouseLeave:U,select:U,unselect:U,loading:U,_unmount:U,_beforeprint:U,_afterprint:U,_noEventDrop:U,_noEventResize:U,_resize:U,_scrollRequest:U},ev={buttonText:U,buttonHints:U,views:U,plugins:U,initialEvents:U,events:U,eventSources:U},$n={headerToolbar:Wn,footerToolbar:Wn,buttonText:Wn,buttonHints:Wn,buttonIcons:Wn,dateIncrement:Wn,plugins:Ql,events:Ql,eventSources:Ql,resources:Ql};function Wn(r,e){return typeof r=="object"&&typeof e=="object"&&r&&e?ar(r,e):r===e}function Ql(r,e){return Array.isArray(r)&&Array.isArray(e)?Sn(r,e):r===e}const Fk={type:String,component:U,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:U,usesMinMaxTime:Boolean,classNames:U,content:U,didMount:U,willUnmount:U};function nd(r){return ff(r,$n)}function df(r,e){let t={},n={};for(let a in e)a in r&&(t[a]=e[a](r[a]));for(let a in r)a in e||(n[a]=r[a]);return{refined:t,extra:n}}function U(r){return r}const{hasOwnProperty:So}=Object.prototype;function ff(r,e){let t={};if(e){for(let n in e)if(e[n]===Wn){let a=[];for(let l=r.length-1;l>=0;l-=1){let c=r[l][n];if(typeof c=="object"&&c)a.unshift(c);else if(c!==void 0){t[n]=c;break}}a.length&&(t[n]=ff(a))}}for(let n=r.length-1;n>=0;n-=1){let a=r[n];for(let l in a)l in t||(t[l]=a[l])}return t}function rs(r,e){let t={};for(let n in r)e(r[n],n)&&(t[n]=r[n]);return t}function Pr(r,e){let t={};for(let n in r)t[n]=e(r[n],n);return t}function Ky(r){let e={};for(let t of r)e[t]=!0;return e}function hf(r){let e=[];for(let t in r)e.push(r[t]);return e}function ar(r,e){if(r===e)return!0;for(let t in r)if(So.call(r,t)&&!(t in e))return!1;for(let t in e)if(So.call(e,t)&&r[t]!==e[t])return!1;return!0}const Hk=/^on[A-Z]/;function zk(r,e){const t=Bk(r,e);for(let n of t)if(!Hk.test(n))return!1;return!0}function Bk(r,e){let t=[];for(let n in r)So.call(r,n)&&(n in e||t.push(n));for(let n in e)So.call(e,n)&&r[n]!==e[n]&&t.push(n);return t}function sd(r,e,t={}){if(r===e)return!0;for(let n in e)if(!(n in r&&$k(r[n],e[n],t[n])))return!1;for(let n in r)if(!(n in e))return!1;return!0}function $k(r,e,t){return r===e||t===!0?!0:t?t(r,e):!1}function Wk(r,e=0,t,n=1){let a=[];t==null&&(t=Object.keys(r).length);for(let l=e;l<t;l+=n){let c=r[l];c!==void 0&&a.push(c)}return a}let Zy={};function Vk(r,e){Zy[r]=e}function qk(r){return new Zy[r]}class Gk{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Rt(e)}markerToArray(e){return wn(e)}}Vk("gregory",Gk);const Yk=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Qk(r){let e=Yk.exec(r);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Yy(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class Kk{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=qk(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Rt(Ym(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Rt(e)),t===null||!Yy(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=Qk(e);if(t===null)return null;let{marker:n}=t,a=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):a=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return xn(e)===xn(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return xn(e)===xn(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=mk(e,t),n!==null?{unit:"week",value:n}:(n=wo(e,t),n!==null?{unit:"day",value:n}:(n=fk(e,t),no(n)?{unit:"hour",value:n}:(n=hk(e,t),no(n)?{unit:"minute",value:n}:(n=pk(e,t),no(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let a;return n.years&&(a=this.diffWholeYears(e,t),a!==null)?a/ok(n):n.months&&(a=this.diffWholeMonths(e,t),a!==null)?a/ck(n):n.days&&(a=wo(e,t),a!==null)?a/Js(n):(t.valueOf()-e.valueOf())/ir(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?Be(e):t==="hour"?vk(e):t==="minute"?yk(e):t==="second"?wk(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):xk(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,a={}){return a.isEndExclusive&&(t=_n(t,-1)),n.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(t)},this,a.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),Qy(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Rt(Ym(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Rt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Qm(wn(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(wn(e)):null}toDate(e,t){return this.timeZone==="local"?Qm(wn(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(wn(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Aa{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Aa.prototype.classes={};Aa.prototype.iconClasses={};Aa.prototype.baseIconClass="";Aa.prototype.iconOverridePrefix="";function _o(r){r();let e=me.debounceRendering,t=[];function n(a){t.push(a)}for(me.debounceRendering=n,wa(A(Zk,{}),document.createElement("div"));t.length;)t.shift()();me.debounceRendering=e}class Zk extends Lt{render(){return A("div",{})}componentDidMount(){this.setState({})}}function Jy(r){let e=b1(r),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,a=t.apply(this,arguments);if(n){let l=[];this.shouldComponentUpdate=c=>{this.props.value!==c.value&&l.forEach(u=>{u.context=c.value,u.forceUpdate()})},this.sub=c=>{l.push(c);let u=c.componentWillUnmount;c.componentWillUnmount=()=>{l.splice(l.indexOf(c),1),u&&u.call(c)}}}return a},e}class Jk{constructor(e,t,n,a){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=a,this.handleScrollRequest=l=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},l),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Lr=Jy({});function Xk(r,e,t,n,a,l,c,u,f,g,m,y,x,w){return{dateEnv:a,nowManager:l,options:t,pluginHooks:u,emitter:m,dispatch:f,getCurrentData:g,calendarApi:y,viewSpec:r,viewApi:e,dateProfileGenerator:n,theme:c,isRtl:t.direction==="rtl",addResizeHandler(_){m.on("_resize",_)},removeResizeHandler(_){m.off("_resize",_)},createScrollResponder(_){return new Jk(_,m,De(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:x,unregisterInteractiveComponent:w}}class cs extends Lt{shouldComponentUpdate(e,t){return!sd(this.props,e,this.propEquality)||!sd(this.state,t,this.stateEquality)}safeSetState(e){sd(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}cs.addPropsEquality=eC;cs.addStateEquality=tC;cs.contextType=Lr;cs.prototype.propEquality={};cs.prototype.stateEquality={};class Oe extends cs{}Oe.contextType=Lr;function eC(r){let e=Object.create(this.prototype.propEquality);Object.assign(e,r),this.prototype.propEquality=e}function tC(r){let e=Object.create(this.prototype.stateEquality);Object.assign(e,r),this.prototype.stateEquality=e}function mr(r,e){typeof r=="function"?r(e):r&&(r.current=e)}class pf extends Oe{constructor(){super(...arguments),this.id=ls(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!Od(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&mr(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:a,defaultGenerator:l,renderProps:c}=e,u=Xy(e,[],this.handleEl);let f=!1,g,m=[],y;if(a!=null){const x=typeof a=="function"?a(c,A):a;if(x===!0)f=!0;else{const w=x&&typeof x=="object";w&&"html"in x?u.dangerouslySetInnerHTML={__html:x.html}:w&&"domNodes"in x?m=Array.prototype.slice.call(x.domNodes):(w?_y(x):typeof x!="function")?g=x:y=x}}else f=!Od(e.generatorName,n);return f&&l&&(g=l(c)),this.queuedDomNodes=m,this.currentGeneratorMeta=y,A(e.elTag,u,g)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:a}=this,{handleCustomRendering:l,customRenderingMetaMap:c}=a.options;if(l){const u=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:c==null?void 0:c[n.generatorName];u&&l(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},n),{elClasses:(n.elClasses||[]).filter(rC)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!Sn(e,t)){t.forEach(sf);for(let a of e)n.appendChild(a);this.currentDomNodes=e}}}pf.addPropsEquality({elClasses:Sn,elStyle:ar,elAttrs:zk,renderProps:ar});function Od(r,e){var t;return!!(e.handleCustomRendering&&r&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[r]))}function Xy(r,e,t){const n=Object.assign(Object.assign({},r.elAttrs),{ref:t});return(r.elClasses||e)&&(n.className=(r.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),r.elStyle&&(n.style=r.elStyle),n}function rC(r){return!!r}const e0=Jy(0);class Ft extends Lt{constructor(){super(...arguments),this.InnerContent=nC.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(mr(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=sC(e.classNameGenerator,e.renderProps);if(e.children){const n=Xy(e,t,this.handleEl),a=e.children(this.InnerContent,e.renderProps,n);return e.elTag?A(e.elTag,n,a):a}else return A(pf,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ft.contextType=e0;function nC(r,e){const t=r.props;return A(pf,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:r.context},e))}function sC(r,e){const t=typeof r=="function"?r(e):r||[];return typeof t=="string"?[t]:t}class Eo extends Oe{render(){let{props:e,context:t}=this,{options:n}=t,a={view:t.viewApi};return A(Ft,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...t0(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function t0(r){return[`fc-${r.type}-view`,"fc-view"]}function iC(r,e){let t=null,n=null;return r.start&&(t=e.createMarker(r.start)),r.end&&(n=e.createMarker(r.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function tv(r,e){let t=[],{start:n}=e,a,l;for(r.sort(aC),a=0;a<r.length;a+=1)l=r[a],l.start>n&&t.push({start:n,end:l.start}),l.end>n&&(n=l.end);return n<e.end&&t.push({start:n,end:e.end}),t}function aC(r,e){return r.start.valueOf()-e.start.valueOf()}function ns(r,e){let{start:t,end:n}=r,a=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(a={start:t,end:n}),a}function lC(r,e){return(r.start===null?null:r.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(r.end===null?null:r.end.valueOf())===(e.end===null?null:e.end.valueOf())}function gf(r,e){return(r.end===null||e.start===null||r.end>e.start)&&(r.start===null||e.end===null||r.start<e.end)}function Fo(r,e){return(r.start===null||e.start!==null&&e.start>=r.start)&&(r.end===null||e.end!==null&&e.end<=r.end)}function Ir(r,e){return(r.start===null||e>=r.start)&&(r.end===null||e<r.end)}function oC(r,e){return e.start!=null&&r<e.start?e.start:e.end!=null&&r>=e.end?new Date(e.end.valueOf()-1):r}function r0(r){let e=Math.floor(os(r.start,r.end))||1,t=Be(r.start),n=yt(t,e);return{start:t,end:n}}function n0(r,e=De(0)){let t=null,n=null;if(r.end){n=Be(r.end);let a=r.end.valueOf()-n.valueOf();a&&a>=ir(e)&&(n=yt(n,1))}return r.start&&(t=Be(r.start),n&&n<=t&&(n=yt(t,1))),{start:t,end:n}}function Ks(r,e,t,n){return n==="year"?De(t.diffWholeYears(r,e),"year"):n==="month"?De(t.diffWholeMonths(r,e),"month"):gk(r,e)}class s0{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:a}=this.props,l=a.subtract(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,-1,n)}buildNext(e,t,n){let{dateEnv:a}=this.props,l=a.add(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,1,n)}build(e,t,n=!0){let{props:a}=this,l,c,u,f,g,m;return l=this.buildValidRange(),l=this.trimHiddenDays(l),n&&(e=oC(e,l)),c=this.buildCurrentRangeInfo(e,t),u=/^(year|month|week|day)$/.test(c.unit),f=this.buildRenderRange(this.trimHiddenDays(c.range),c.unit,u),f=this.trimHiddenDays(f),g=f,a.showNonCurrentDates||(g=ns(g,c.range)),g=this.adjustActiveRange(g),g=ns(g,l),m=gf(c.range,l),Ir(f,e)||(e=f.start),{currentDate:e,validRange:l,currentRange:c.range,currentRangeUnit:c.unit,isRangeAllDay:u,activeRange:g,renderRange:f,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(c.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,a=null,l=null,c=null,u;return n.duration?(a=n.duration,l=n.durationUnit,c=this.buildRangeFromDuration(e,t,a,l)):(u=this.props.dayCount)?(l="day",c=this.buildRangeFromDayCount(e,t,u)):(c=this.buildCustomVisibleRange(e))?l=n.dateEnv.greatestWholeUnit(c.start,c.end).unit:(a=this.getFallbackDuration(),l=Id(a).unit,c=this.buildRangeFromDuration(e,t,a,l)),{duration:a,unit:l,range:c}}getFallbackDuration(){return De({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:a,slotMaxTime:l}=this.props,{start:c,end:u}=e;return n&&(Js(a)<0&&(c=Be(c),c=t.add(c,a)),Js(l)>1&&(u=Be(u),u=yt(u,-1),u=t.add(u,l))),{start:c,end:u}}buildRangeFromDuration(e,t,n,a){let{dateEnv:l,dateAlignment:c}=this.props,u,f,g;if(!c){let{dateIncrement:y}=this.props;y&&ir(y)<ir(n)?c=Id(y).unit:c=a}Js(n)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=Be(u));function m(){u=l.startOf(e,c),f=l.add(u,n),g={start:u,end:f}}return m(),this.trimHiddenDays(g)||(e=this.skipHiddenDays(e,t),m()),g}buildRangeFromDayCount(e,t,n){let{dateEnv:a,dateAlignment:l}=this.props,c=0,u=e,f;l&&(u=a.startOf(u,l)),u=Be(u),u=this.skipHiddenDays(u,t),f=u;do f=yt(f,1),this.isHiddenDay(f)||(c+=1);while(c<n);return{start:u,end:f}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,a=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,l=this.refineRange(a);return l&&(l.start==null||l.end==null)?null:l}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?De(1,n):e||De({days:1}))}refineRange(e){if(e){let t=iC(e,this.props.dateEnv);return t&&(t=n0(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(t[a]=e.indexOf(a)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=yt(e,t);return e}}function mf(r,e,t,n){return{instanceId:ls(),defId:r,range:e,forcedStartTzo:t??null,forcedEndTzo:n??null}}function cC(r,e,t,n){for(let a=0;a<n.length;a+=1){let l=n[a].parse(r,t);if(l){let{allDay:c}=r;return c==null&&(c=e,c==null&&(c=l.allDayGuess,c==null&&(c=!1))),{allDay:c,duration:l.duration,typeData:l.typeData,typeId:a}}}return null}function ss(r,e,t){let{dateEnv:n,pluginHooks:a,options:l}=t,{defs:c,instances:u}=r;u=rs(u,f=>!c[f.defId].recurringDef);for(let f in c){let g=c[f];if(g.recurringDef){let{duration:m}=g.recurringDef;m||(m=g.allDay?l.defaultAllDayEventDuration:l.defaultTimedEventDuration);let y=uC(g,m,e,n,a.recurringTypes);for(let x of y){let w=mf(f,{start:x,end:n.add(x,m)});u[w.instanceId]=w}}}return{defs:c,instances:u}}function uC(r,e,t,n,a){let c=a[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return r.allDay&&(c=c.map(Be)),c}const io={id:String,groupId:String,title:String,url:String,interactive:Boolean},i0={start:U,end:U,date:U,allDay:Boolean},dC=Object.assign(Object.assign(Object.assign({},io),i0),{extendedProps:U});function a0(r,e,t,n,a=vf(t),l,c){let{refined:u,extra:f}=l0(r,t,a),g=hC(e,t),m=cC(u,g,t.dateEnv,t.pluginHooks.recurringTypes);if(m){let x=Pd(u,f,e?e.sourceId:"",m.allDay,!!m.duration,t,l);return x.recurringDef={typeId:m.typeId,typeData:m.typeData,duration:m.duration},{def:x,instance:null}}let y=fC(u,g,t,n);if(y){let x=Pd(u,f,e?e.sourceId:"",y.allDay,y.hasEnd,t,l),w=mf(x.defId,y.range,y.forcedStartTzo,y.forcedEndTzo);return c&&x.publicId&&c[x.publicId]&&(w.instanceId=c[x.publicId]),{def:x,instance:w}}return null}function l0(r,e,t=vf(e)){return df(r,t)}function vf(r){return Object.assign(Object.assign(Object.assign({},ko),dC),r.pluginHooks.eventRefiners)}function Pd(r,e,t,n,a,l,c){let u={title:r.title||"",groupId:r.groupId||"",publicId:r.id||"",url:r.url||"",recurringDef:null,defId:(c&&r.id?c[r.id]:"")||ls(),sourceId:t,allDay:n,hasEnd:a,interactive:r.interactive,ui:Co(r,l),extendedProps:Object.assign(Object.assign({},r.extendedProps||{}),e)};for(let f of l.pluginHooks.eventDefMemberAdders)Object.assign(u,f(r));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function fC(r,e,t,n){let{allDay:a}=r,l,c=null,u=!1,f,g=null,m=r.start!=null?r.start:r.date;if(l=t.dateEnv.createMarkerMeta(m),l)c=l.marker;else if(!n)return null;return r.end!=null&&(f=t.dateEnv.createMarkerMeta(r.end)),a==null&&(e!=null?a=e:a=(!l||l.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),a&&c&&(c=Be(c)),f&&(g=f.marker,a&&(g=Be(g)),c&&g<=c&&(g=null)),g?u=!0:n||(u=t.options.forceEventDuration||!1,g=t.dateEnv.add(c,a?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:a,hasEnd:u,range:{start:c,end:g},forcedStartTzo:l?l.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}function hC(r,e){let t=null;return r&&(t=r.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function xa(r,e,t,n,a,l){let c=Ut(),u=vf(t);for(let f of r){let g=a0(f,e,t,n,u,a,l);g&&Ld(g,c)}return c}function Ld(r,e=Ut()){return e.defs[r.def.defId]=r.def,r.instance&&(e.instances[r.instance.instanceId]=r.instance),e}function yf(r,e){let t=r.instances[e];if(t){let n=r.defs[t.defId],a=Ho(r,l=>pC(n,l));return a.defs[n.defId]=n,a.instances[t.instanceId]=t,a}return Ut()}function pC(r,e){return!!(r.groupId&&r.groupId===e.groupId)}function Ut(){return{defs:{},instances:{}}}function wf(r,e){return{defs:Object.assign(Object.assign({},r.defs),e.defs),instances:Object.assign(Object.assign({},r.instances),e.instances)}}function Ho(r,e){let t=rs(r.defs,e),n=rs(r.instances,a=>t[a.defId]);return{defs:t,instances:n}}function gC(r,e){let{defs:t,instances:n}=r,a={},l={};for(let c in t)e.defs[c]||(a[c]=t[c]);for(let c in n)!e.instances[c]&&a[n[c].defId]&&(l[c]=n[c]);return{defs:a,instances:l}}function mC(r,e){return Array.isArray(r)?xa(r,null,e,!0):typeof r=="object"&&r?xa([r],null,e,!0):r!=null?String(r):null}function rv(r){return Array.isArray(r)?r:typeof r=="string"?r.split(/\s+/):[]}const ko={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:U,overlap:U,allow:U,className:rv,classNames:rv,color:String,backgroundColor:String,borderColor:String,textColor:String},vC={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Co(r,e){let t=mC(r.constraint,e);return{display:r.display||null,startEditable:r.startEditable!=null?r.startEditable:r.editable,durationEditable:r.durationEditable!=null?r.durationEditable:r.editable,constraints:t!=null?[t]:[],overlap:r.overlap!=null?r.overlap:null,allows:r.allow!=null?[r.allow]:[],backgroundColor:r.backgroundColor||r.color||"",borderColor:r.borderColor||r.color||"",textColor:r.textColor||"",classNames:(r.className||[]).concat(r.classNames||[])}}function o0(r){return r.reduce(yC,vC)}function yC(r,e){return{display:e.display!=null?e.display:r.display,startEditable:e.startEditable!=null?e.startEditable:r.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:r.durationEditable,constraints:r.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:r.overlap,allows:r.allows.concat(e.allows),backgroundColor:e.backgroundColor||r.backgroundColor,borderColor:e.borderColor||r.borderColor,textColor:e.textColor||r.textColor,classNames:r.classNames.concat(e.classNames)}}const wC={id:String,defaultAllDay:Boolean,url:String,format:String,events:U,eventDataTransform:U,success:U,failure:U};function c0(r,e,t=u0(e)){let n;if(typeof r=="string"?n={url:r}:typeof r=="function"||Array.isArray(r)?n={events:r}:typeof r=="object"&&r&&(n=r),n){let{refined:a,extra:l}=df(n,t),c=xC(a,e);if(c)return{_raw:r,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:ls(),sourceDefId:c.sourceDefId,meta:c.meta,ui:Co(a,e),extendedProps:l}}return null}function u0(r){return Object.assign(Object.assign(Object.assign({},ko),wC),r.pluginHooks.eventSourceRefiners)}function xC(r,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let l=t[n].parseMeta(r);if(l)return{sourceDefId:n,meta:l}}return null}function bC(r,e,t,n,a){switch(e.type){case"RECEIVE_EVENTS":return SC(r,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return _C(r,t[e.sourceId],e.rawEvents,n.activeRange,a);case"ADD_EVENTS":return EC(r,e.eventStore,n?n.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return wf(r,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ss(r,n.activeRange,a):r;case"REMOVE_EVENTS":return gC(r,e.eventStore);case"REMOVE_EVENT_SOURCE":return f0(r,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ho(r,l=>!l.sourceId);case"REMOVE_ALL_EVENTS":return Ut();default:return r}}function SC(r,e,t,n,a,l){if(e&&t===e.latestFetchId){let c=xa(d0(a,e,l),e,l);return n&&(c=ss(c,n,l)),wf(f0(r,e.sourceId),c)}return r}function _C(r,e,t,n,a){const{defIdMap:l,instanceIdMap:c}=CC(r);let u=xa(d0(t,e,a),e,a,!1,l,c);return ss(u,n,a)}function d0(r,e,t){let n=t.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(r=nv(r,a)),n&&(r=nv(r,n)),r}function nv(r,e){let t;if(!e)t=r;else{t=[];for(let n of r){let a=e(n);a?t.push(a):a==null&&t.push(n)}}return t}function EC(r,e,t,n){return t&&(e=ss(e,t,n)),wf(r,e)}function sv(r,e,t){let{defs:n}=r,a=Pr(r.instances,l=>n[l.defId].allDay?l:Object.assign(Object.assign({},l),{range:{start:t.createMarker(e.toDate(l.range.start,l.forcedStartTzo)),end:t.createMarker(e.toDate(l.range.end,l.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:l.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:l.forcedEndTzo}));return{defs:n,instances:a}}function f0(r,e){return Ho(r,t=>t.sourceId!==e)}function kC(r,e){return{defs:r.defs,instances:rs(r.instances,t=>!e[t.instanceId])}}function CC(r){const{defs:e,instances:t}=r,n={},a={};for(let l in e){const c=e[l],{publicId:u}=c;u&&(n[u]=l)}for(let l in t){const c=t[l],u=e[c.defId],{publicId:f}=u;f&&(a[f]=l)}return{defIdMap:n,instanceIdMap:a}}class zo{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){AC(this.handlers,e,t)}off(e,t){DC(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],a=this.options&&this.options[e],l=[].concat(a||[],n);for(let c of l)c.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function AC(r,e,t){(r[e]||(r[e]=[])).push(t)}function DC(r,e,t){t?r[e]&&(r[e]=r[e].filter(n=>n!==t)):delete r[e]}const TC={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function NC(r,e){return xa(RC(r),null,e)}function RC(r){let e;return r===!0?e=[{}]:Array.isArray(r)?e=r.filter(t=>t.daysOfWeek):typeof r=="object"&&r?e=[r]:e=[],e=e.map(t=>Object.assign(Object.assign({},TC),t)),e}function h0(r,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},xf(r,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function jC(r,e){e.emitter.trigger("unselect",{jsEvent:r?r.origEvent:null,view:e.viewApi||e.calendarApi.view})}function xf(r,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(r,e));return Object.assign(t,qC(r,e.dateEnv)),t}function iv(r,e,t){let{dateEnv:n,options:a}=t,l=e;return r?(l=Be(l),l=n.add(l,a.defaultAllDayEventDuration)):l=n.add(l,a.defaultTimedEventDuration),l}function bf(r,e,t,n){let a=Ao(r.defs,e),l=Ut();for(let c in r.defs){let u=r.defs[c];l.defs[c]=MC(u,a[c],t,n)}for(let c in r.instances){let u=r.instances[c],f=l.defs[u.defId];l.instances[c]=IC(u,f,a[u.defId],t,n)}return l}function MC(r,e,t,n){let a=t.standardProps||{};a.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(a.hasEnd=!0);let l=Object.assign(Object.assign(Object.assign({},r),a),{ui:Object.assign(Object.assign({},r.ui),a.ui)});t.extendedProps&&(l.extendedProps=Object.assign(Object.assign({},l.extendedProps),t.extendedProps));for(let c of n.pluginHooks.eventDefMutationAppliers)c(l,t,n);return!l.hasEnd&&n.options.forceEventDuration&&(l.hasEnd=!0),l}function IC(r,e,t,n,a){let{dateEnv:l}=a,c=n.standardProps&&n.standardProps.allDay===!0,u=n.standardProps&&n.standardProps.hasEnd===!1,f=Object.assign({},r);return c&&(f.range=r0(f.range)),n.datesDelta&&t.startEditable&&(f.range={start:l.add(f.range.start,n.datesDelta),end:l.add(f.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(f.range={start:l.add(f.range.start,n.startDelta),end:f.range.end}),n.endDelta&&t.durationEditable&&(f.range={start:f.range.start,end:l.add(f.range.end,n.endDelta)}),u&&(f.range={start:f.range.start,end:iv(e.allDay,f.range.start,a)}),e.allDay&&(f.range={start:Be(f.range.start),end:Be(f.range.end)}),f.range.end<f.range.start&&(f.range.end=iv(e.allDay,f.range.start,a)),f}class Gs{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class qe{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in i0)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=io[e](t),this.mutate({standardProps:{publicId:t}});else if(e in io)t=io[e](t),this.mutate({standardProps:{[e]:t}});else if(e in ko){let n=ko[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,a=n.createMarker(e);if(a&&this._instance){let l=this._instance.range,c=Ks(l.start,a,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:c}):this.mutate({startDelta:c})}}setEnd(e,t={}){let{dateEnv:n}=this._context,a;if(!(e!=null&&(a=n.createMarker(e),!a))&&this._instance)if(a){let l=Ks(this._instance.range.end,a,n,t.granularity);this.mutate({endDelta:l})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:a}=this._context,l={allDay:n.allDay},c=a.createMarker(e),u;if(c&&!(t!=null&&(u=a.createMarker(t),!u))&&this._instance){let f=this._instance.range;n.allDay===!0&&(f=r0(f));let g=Ks(f.start,c,a,n.granularity);if(u){let m=Ks(f.end,u,a,n.granularity);ik(g,m)?this.mutate({datesDelta:g,standardProps:l}):this.mutate({startDelta:g,endDelta:m,standardProps:l})}else l.hasEnd=!1,this.mutate({datesDelta:g,standardProps:l})}}moveStart(e){let t=De(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=De(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=De(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:a}=t;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=a),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,a=Qe(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,a,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,a,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,a=this._context,{eventStore:l}=a.getCurrentData(),c=yf(l,t.instanceId);c=bf(c,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let f=new qe(a,n,t);this._def=c.defs[n.defId],this._instance=c.instances[t.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:c}),a.emitter.trigger("eventChange",{oldEvent:f,event:this,relatedEvents:es(c,a,t),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:l})}})}}remove(){let e=this._context,t=p0(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Gs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:a,endStr:l}=this,c={allDay:t.allDay};return t.title&&(c.title=t.title),a&&(c.start=a),l&&(c.end=l),t.publicId&&(c.id=t.publicId),t.groupId&&(c.groupId=t.groupId),t.url&&(c.url=t.url),n.display&&n.display!=="auto"&&(c.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?c.color=n.backgroundColor:(n.backgroundColor&&(c.backgroundColor=n.backgroundColor),n.borderColor&&(c.borderColor=n.borderColor)),n.textColor&&(c.textColor=n.textColor),n.classNames.length&&(c.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(c,t.extendedProps):c.extendedProps=t.extendedProps),c}toJSON(){return this.toPlainObject()}}function p0(r){let e=r._def,t=r._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function es(r,e,t){let{defs:n,instances:a}=r,l=[],c=t?t.instanceId:"";for(let u in a){let f=a[u],g=n[f.defId];f.instanceId!==c&&l.push(new qe(e,g,f))}return l}function av(r,e,t,n){let a={},l={},c={},u=[],f=[],g=Ao(r.defs,e);for(let m in r.defs){let y=r.defs[m];g[y.defId].display==="inverse-background"&&(y.groupId?(a[y.groupId]=[],c[y.groupId]||(c[y.groupId]=y)):l[m]=[])}for(let m in r.instances){let y=r.instances[m],x=r.defs[y.defId],w=g[x.defId],_=y.range,E=!x.allDay&&n?n0(_,n):_,S=ns(E,t);S&&(w.display==="inverse-background"?x.groupId?a[x.groupId].push(S):l[y.defId].push(S):w.display!=="none"&&(w.display==="background"?u:f).push({def:x,ui:w,instance:y,range:S,isStart:E.start&&E.start.valueOf()===S.start.valueOf(),isEnd:E.end&&E.end.valueOf()===S.end.valueOf()}))}for(let m in a){let y=a[m],x=tv(y,t);for(let w of x){let _=c[m],E=g[_.defId];u.push({def:_,ui:E,instance:null,range:w,isStart:!1,isEnd:!1})}}for(let m in l){let y=l[m],x=tv(y,t);for(let w of x)u.push({def:r.defs[m],ui:g[m],instance:null,range:w,isStart:!1,isEnd:!1})}return{bg:u,fg:f}}function OC(r){return r.ui.display==="background"||r.ui.display==="inverse-background"}function lv(r,e){r.fcSeg=e}function ui(r){return r.fcSeg||r.parentNode.fcSeg||null}function Ao(r,e){return Pr(r,t=>g0(t,e))}function g0(r,e){let t=[];return e[""]&&t.push(e[""]),e[r.defId]&&t.push(e[r.defId]),t.push(r.ui),o0(t)}function m0(r,e){let t=r.map(PC);return t.sort((n,a)=>J1(n,a,e)),t.map(n=>n._seg)}function PC(r){let{eventRange:e}=r,t=e.def,n=e.instance?e.instance.range:e.range,a=n.start?n.start.valueOf():0,l=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:a,end:l,duration:l-a,allDay:Number(t.allDay),_seg:r})}function LC(r,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:a,ui:l}=r.eventRange,c=l.startEditable;for(let u of n)c=u(c,a,l,e);return c}function UC(r,e){return r.isStart&&r.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function FC(r,e){return r.isEnd&&r.eventRange.ui.durationEditable}function v0(r,e,t,n,a,l,c){let{dateEnv:u,options:f}=t,{displayEventTime:g,displayEventEnd:m}=f,y=r.eventRange.def,x=r.eventRange.instance;g==null&&(g=n!==!1),m==null&&(m=a!==!1);let w=x.range.start,_=x.range.end,E=r.start||r.eventRange.range.start,S=r.end||r.eventRange.range.end,D=Be(w).valueOf()===Be(E).valueOf(),P=Be(_n(_,-1)).valueOf()===Be(_n(S,-1)).valueOf();return g&&!y.allDay&&(D||P)?(E=D?w:E,S=P?_:S,m&&y.hasEnd?u.formatRange(E,S,e,{forcedStartTzo:x.forcedStartTzo,forcedEndTzo:x.forcedEndTzo}):u.format(E,e,{forcedTzo:x.forcedStartTzo})):""}function bn(r,e,t){let n=r.eventRange.range;return{isPast:n.end<=(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&Ir(e,n.start)}}function HC(r){let e=["fc-event"];return r.isMirror&&e.push("fc-event-mirror"),r.isDraggable&&e.push("fc-event-draggable"),(r.isStartResizable||r.isEndResizable)&&e.push("fc-event-resizable"),r.isDragging&&e.push("fc-event-dragging"),r.isResizing&&e.push("fc-event-resizing"),r.isSelected&&e.push("fc-event-selected"),r.isStart&&e.push("fc-event-start"),r.isEnd&&e.push("fc-event-end"),r.isPast&&e.push("fc-event-past"),r.isToday&&e.push("fc-event-today"),r.isFuture&&e.push("fc-event-future"),e}function y0(r){return r.instance?r.instance.instanceId:`${r.def.defId}:${r.range.start.toISOString()}`}function w0(r,e){let{def:t,instance:n}=r.eventRange,{url:a}=t;if(a)return{href:a};let{emitter:l,options:c}=e,{eventInteractive:u}=c;return u==null&&(u=t.interactive,u==null&&(u=!!l.hasHandlers("eventClick"))),u?Gy(f=>{l.trigger("eventClick",{el:f.target,event:new qe(e,t,n),jsEvent:f,view:e.viewApi})}):{}}const zC={start:U,end:U,allDay:Boolean};function BC(r,e,t){let n=$C(r,e),{range:a}=n;if(!a.start)return null;if(!a.end){if(t==null)return null;a.end=e.add(a.start,t)}return n}function $C(r,e){let{refined:t,extra:n}=df(r,zC),a=t.start?e.createMarkerMeta(t.start):null,l=t.end?e.createMarkerMeta(t.end):null,{allDay:c}=t;return c==null&&(c=a&&a.isTimeUnspecified&&(!l||l.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:l?l.marker:null},allDay:c},n)}function WC(r,e){return lC(r.range,e.range)&&r.allDay===e.allDay&&VC(r,e)}function VC(r,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&r[t]!==e[t])return!1;for(let t in r)if(!(t in e))return!1;return!0}function qC(r,e){return Object.assign(Object.assign({},b0(r.range,e,r.allDay)),{allDay:r.allDay})}function x0(r,e,t){return Object.assign(Object.assign({},b0(r,e,t)),{timeZone:e.timeZone})}function b0(r,e,t){return{start:e.toDate(r.start),end:e.toDate(r.end),startStr:e.formatIso(r.start,{omitTime:t}),endStr:e.formatIso(r.end,{omitTime:t})}}function GC(r,e,t){let n=l0({editable:!1},t),a=Pd(n.refined,n.extra,"",r.allDay,!0,t);return{def:a,ui:g0(a,e),instance:mf(a.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function YC(r,e,t){let n=!1,a=function(u){n||(n=!0,e(u))},l=function(u){n||(n=!0,t(u))},c=r(a,l);c&&typeof c.then=="function"&&c.then(a,l)}class ov extends Error{constructor(e,t){super(e),this.response=t}}function QC(r,e,t){r=r.toUpperCase();const n={method:r};return r==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(a=>{if(a.ok)return a.json().then(l=>[l,a],()=>{throw new ov("Failure parsing JSON",a)});throw new ov("Request failed",a)})}let id;function S0(){return id==null&&(id=KC()),id}function KC(){if(typeof document>"u")return!0;let r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.innerHTML="<table><tr><td><div></div></td></tr></table>",r.querySelector("table").style.height="100px",r.querySelector("div").style.height="100%",document.body.appendChild(r);let t=r.querySelector("div").offsetHeight>0;return document.body.removeChild(r),t}class ZC extends Oe{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{_o(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{_o(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,a=n||t.height==="auto"||t.contentHeight==="auto",l=!a&&t.height!=null?t.height:"",c=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return S0()||c.push("fc-liquid-hack"),e.children(c,l,a,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class pi{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function JC(r,e){return{component:r,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Sf(r){return{[r.component.uid]:r}}const Ud={};class gi extends Lt{constructor(e,t){super(e,t),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,n=t.nowManager.getDateMarker(),a=t.dateEnv.startOf(n,e.unit),c=t.dateEnv.add(a,De(1,e.unit)).valueOf()-n.valueOf();return c=Math.min(1e3*60*60*24,c),{state:{nowDate:a,todayRange:XC(a)},waitMs:c}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}gi.contextType=Lr;function XC(r){let e=Be(r),t=yt(e,1);return{start:e,end:t}}class eA{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),a;t=t||"day",a=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),a=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),l,c;for(let u in t)a.push(u);for(l=0;l<a.length;l+=1)if(c=t[a[l]],c&&c.singleUnit===e)return c;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=De(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),Qe(t))}formatRange(e,t,n){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(t),Qe(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let a=this.getCurrentData(),l=BC(n,a.dateEnv,De({days:1}));l&&(this.dispatch({type:"SELECT_DATES",selection:l}),h0(l,null,a))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),jC(e,t))}addEvent(e,t){if(e instanceof qe){let c=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[c.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ld({def:c,instance:u})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),a;if(t instanceof Gs)a=t.internalEventSource;else if(typeof t=="boolean")t&&([a]=hf(n.eventSources));else if(t!=null){let c=this.getEventSourceById(t);if(!c)return console.warn(`Could not find an event source with ID "${t}"`),null;a=c.internalEventSource}let l=a0(e,a,n,!1);if(l){let c=new qe(n,l.def,l.def.recurringDef?null:l.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ld(l)}),this.triggerEventAdd(c),c}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:p0(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:a}=t.eventStore;e=String(e);for(let l in n){let c=n[l];if(c.publicId===e){if(c.recurringDef)return new qe(t,c,null);for(let u in a){let f=a[u];if(f.defId===c.defId)return new qe(t,c,f)}}}return null}getEvents(){let e=this.getCurrentData();return es(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let a in t)n.push(new Gs(e,t[a]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let a in n)if(n[a].publicId===e)return new Gs(t,n[a]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Gs)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=c0(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Gs(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=De(e);t&&this.trigger("_scrollRequest",{time:t})}}function tA(r,e){return r.left>=e.left&&r.left<e.right&&r.top>=e.top&&r.top<e.bottom}function _0(r,e){let t={left:Math.max(r.left,e.left),right:Math.min(r.right,e.right),top:Math.max(r.top,e.top),bottom:Math.min(r.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function rA(r,e){return{left:Math.min(Math.max(r.left,e.left),e.right),top:Math.min(Math.max(r.top,e.top),e.bottom)}}function nA(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}function sA(r,e){return{left:r.left-e.left,top:r.top-e.top}}const ad=Ut();class iA{constructor(){this.getKeysForEventDefs=ve(this._getKeysForEventDefs),this.splitDateSelection=ve(this._splitDateSpan),this.splitEventStore=ve(this._splitEventStore),this.splitIndividualUi=ve(this._splitIndividualUi),this.splitEventDrag=ve(this._splitInteraction),this.splitEventResize=ve(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),l=this.splitIndividualUi(e.eventUiBases,n),c=this.splitEventStore(e.eventStore,n),u=this.splitEventDrag(e.eventDrag),f=this.splitEventResize(e.eventResize),g={};this.eventUiBuilders=Pr(t,(m,y)=>this.eventUiBuilders[y]||ve(aA));for(let m in t){let y=t[m],x=c[m]||ad,w=this.eventUiBuilders[m];g[m]={businessHours:y.businessHours||e.businessHours,dateSelection:a[m]||null,eventStore:x,eventUiBases:w(e.eventUiBases[""],y.ui,l[m]),eventSelection:x.instances[e.eventSelection]?e.eventSelection:"",eventDrag:u[m]||null,eventResize:f[m]||null}}return g}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let a of n)t[a]=e}return t}_getKeysForEventDefs(e){return Pr(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:a}=e,l={};for(let c in n)for(let u of t[c])l[u]||(l[u]=Ut()),l[u].defs[c]=n[c];for(let c in a){let u=a[c];for(let f of t[u.defId])l[f]&&(l[f].instances[c]=u)}return l}_splitIndividualUi(e,t){let n={};for(let a in e)if(a)for(let l of t[a])n[l]||(n[l]={}),n[l][a]=e[a];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),a=this._getKeysForEventDefs(e.mutatedEvents),l=this._splitEventStore(e.mutatedEvents,a),c=u=>{t[u]||(t[u]={affectedEvents:n[u]||ad,mutatedEvents:l[u]||ad,isEvent:e.isEvent})};for(let u in n)c(u);for(let u in l)c(u)}return t}}function aA(r,e,t){let n=[];r&&n.push(r),e&&n.push(e);let a={"":o0(n)};return t&&Object.assign(a,t),a}function E0(r,e,t,n){return{dow:r.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!Ir(n.activeRange,r))),isOther:!!(n&&!Ir(n.currentRange,r)),isToday:!!(e&&Ir(e,r)),isPast:!!(e&&r<e.start),isFuture:!!(e&&r>=e.end)}}function _f(r,e){let t=["fc-day",`fc-day-${uk[r.dow]}`];return r.isDisabled?t.push("fc-day-disabled"):(r.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),r.isPast&&t.push("fc-day-past"),r.isFuture&&t.push("fc-day-future"),r.isOther&&t.push("fc-day-other")),t}const lA=Qe({year:"numeric",month:"long",day:"numeric"}),oA=Qe({week:"long"});function Do(r,e,t="day",n=!0){const{dateEnv:a,options:l,calendarApi:c}=r;let u=a.format(e,t==="week"?oA:lA);if(l.navLinks){let f=a.toDate(e);const g=m=>{let y=t==="day"?l.navLinkDayClick:t==="week"?l.navLinkWeekClick:null;typeof y=="function"?y.call(c,a.toDate(e),m):(typeof y=="string"&&(t=y),c.zoomTo(e,t))};return Object.assign({title:da(l.navLinkHint,[u,f],u),"data-navlink":""},n?qy(g):{onClick:g})}return{"aria-label":u}}let ld=null;function cA(){return ld===null&&(ld=uA()),ld}function uA(){let r=document.createElement("div");ua(r,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),r.innerHTML="<div></div>",document.body.appendChild(r);let t=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return sf(r),t}let od;function dA(){return od||(od=fA()),od}function fA(){let r=document.createElement("div");r.style.overflow="scroll",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",document.body.appendChild(r);let e=k0(r);return document.body.removeChild(r),e}function k0(r){return{x:r.offsetHeight-r.clientHeight,y:r.offsetWidth-r.clientWidth}}function hA(r,e=!1){let t=window.getComputedStyle(r),n=parseInt(t.borderLeftWidth,10)||0,a=parseInt(t.borderRightWidth,10)||0,l=parseInt(t.borderTopWidth,10)||0,c=parseInt(t.borderBottomWidth,10)||0,u=k0(r),f=u.y-n-a,g=u.x-l-c,m={borderLeft:n,borderRight:a,borderTop:l,borderBottom:c,scrollbarBottom:g,scrollbarLeft:0,scrollbarRight:0};return cA()&&t.direction==="rtl"?m.scrollbarLeft=f:m.scrollbarRight=f,e&&(m.paddingLeft=parseInt(t.paddingLeft,10)||0,m.paddingRight=parseInt(t.paddingRight,10)||0,m.paddingTop=parseInt(t.paddingTop,10)||0,m.paddingBottom=parseInt(t.paddingBottom,10)||0),m}function pA(r,e=!1,t){let n=Ef(r),a=hA(r,e),l={left:n.left+a.borderLeft+a.scrollbarLeft,right:n.right-a.borderRight-a.scrollbarRight,top:n.top+a.borderTop,bottom:n.bottom-a.borderBottom-a.scrollbarBottom};return e&&(l.left+=a.paddingLeft,l.right-=a.paddingRight,l.top+=a.paddingTop,l.bottom-=a.paddingBottom),l}function Ef(r){let e=r.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function gA(r){let e=C0(r),t=r.getBoundingClientRect();for(let n of e){let a=_0(t,n.getBoundingClientRect());if(a)t=a;else return null}return t}function C0(r){let e=[];for(;r instanceof HTMLElement;){let t=window.getComputedStyle(r);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(r),r=r.parentNode}return e}class di{constructor(e,t,n,a){this.els=t;let l=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(l.left),a&&this.buildElVerticals(l.top)}buildElHorizontals(e){let t=[],n=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.left-e),n.push(l.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.top-e),n.push(l.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<n[l])return l}topToIndex(e){let{tops:t,bottoms:n}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<n[l])return l}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Kl(this.tops||[],e.tops||[])&&Kl(this.bottoms||[],e.bottoms||[])&&Kl(this.lefts||[],e.lefts||[])&&Kl(this.rights||[],e.rights||[])}}function Kl(r,e){const t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(r[n])!==Math.round(e[n]))return!1;return!0}class kf{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class mA extends kf{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class vA extends kf{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class yr extends Oe{constructor(){super(...arguments),this.uid=ls()}prepareHits(){}queryHit(e,t,n,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!vt(e,".fc-event-mirror")}isValidDateDownEl(e){return!vt(e,".fc-event:not(.fc-bg-event)")&&!vt(e,".fc-more-link")&&!vt(e,"a[data-navlink]")&&!vt(e,".fc-popover")}}class A0{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},t),{span:Cf(t.span,e.touchingEntry.span)});n.push(a),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let a=e.span,l=t.span;a.start<l.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:l.start}},n),a.end>l.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.end,end:a.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:a}=this;t.lateral===-1?(cd(a,t.level,t.levelCoord),cd(n,t.level,[e])):cd(n[t.level],t.lateral,e),this.stackCnts[ts(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:a,stackCnts:l}=this,c=t.length,u=0,f=-1,g=-1,m=null,y=0;for(let _=0;_<c;_+=1){const E=t[_];if(!a&&E>=u+this.getEntryThickness(e))break;let S=n[_],D,P=Hd(S,e.span.start,Fd),N=P[0]+P[1];for(;(D=S[N])&&D.span.start<e.span.end;){let C=E+this.getEntryThickness(D);C>u&&(u=C,m=D,f=_,g=N),C===u&&(y=Math.max(y,l[ts(D)]+1)),N+=1}}let x=0;if(m)for(x=f+1;x<c&&t[x]<u;)x+=1;let w=-1;return x<c&&t[x]===u&&(w=Hd(n[x],e.span.end,Fd)[0]),{touchingLevel:f,touchingLateral:g,touchingEntry:m,stackCnt:y,levelCoord:u,level:x,lateral:w}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,a=[];for(let l=0;l<n;l+=1){let c=e[l],u=t[l];for(let f of c)a.push(Object.assign(Object.assign({},f),{thickness:this.getEntryThickness(f),levelCoord:u}))}return a}}function Fd(r){return r.span.end}function ts(r){return r.index+":"+r.span.start}function yA(r){let e=[];for(let t of r){let n=[],a={span:t.span,entries:[t]};for(let l of e)Cf(l.span,a.span)?a={entries:l.entries.concat(a.entries),span:wA(l.span,a.span)}:n.push(l);n.push(a),e=n}return e}function wA(r,e){return{start:Math.min(r.start,e.start),end:Math.max(r.end,e.end)}}function Cf(r,e){let t=Math.max(r.start,e.start),n=Math.min(r.end,e.end);return t<n?{start:t,end:n}:null}function cd(r,e,t){r.splice(e,0,t)}function Hd(r,e,t){let n=0,a=r.length;if(!a||e<t(r[n]))return[0,0];if(e>t(r[a-1]))return[a,0];for(;n<a;){let l=Math.floor(n+(a-n)/2),c=t(r[l]);if(e<c)a=l;else if(e>c)n=l+1;else return[l,1]}return[n,0]}class xA{constructor(e,t){this.emitter=new zo}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Af={};function bA(r,e){return!r||e>10?Qe({weekday:"short"}):e>1?Qe({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Qe({weekday:"long"})}const D0="fc-col-header-cell";function T0(r){return r.text}class SA extends Oe{render(){let{dateEnv:e,options:t,theme:n,viewApi:a}=this.context,{props:l}=this,{date:c,dateProfile:u}=l,f=E0(c,l.todayRange,null,u),g=[D0].concat(_f(f,n)),m=e.format(c,l.dayHeaderFormat),y=!f.isDisabled&&l.colCnt>1?Do(this.context,c):{},x=e.toDate(c);e.namedTimeZoneImpl&&(x=_n(x,36e5));let w=Object.assign(Object.assign(Object.assign({date:x,view:a},l.extraRenderProps),{text:m}),f);return A(Ft,{elTag:"th",elClasses:g,elAttrs:Object.assign({role:"columnheader",colSpan:l.colSpan,"data-date":f.isDisabled?void 0:cf(c)},l.extraDataAttrs),renderProps:w,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:T0,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},_=>A("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&A(_,{elTag:"a",elAttrs:y,elClasses:["fc-col-header-cell-cushion",l.isSticky&&"fc-sticky"]})))}}const _A=Qe({weekday:"long"});class EA extends Oe{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:a,options:l}=this.context,c=yt(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=t.format(c,e.dayHeaderFormat),g=Object.assign(Object.assign(Object.assign(Object.assign({date:c},u),{view:a}),e.extraRenderProps),{text:f});return A(Ft,{elTag:"th",elClasses:[D0,..._f(u,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:g,generatorName:"dayHeaderContent",customGenerator:l.dayHeaderContent,defaultGenerator:T0,classNameGenerator:l.dayHeaderClassNames,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},m=>A("div",{className:"fc-scrollgrid-sync-inner"},A(m,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(c,_A)}})))}}class N0 extends Oe{constructor(){super(...arguments),this.createDayHeaderFormatter=ve(kA)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:a,renderIntro:l}=this.props,c=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,t.length);return A(gi,{unit:"day"},(u,f)=>A("tr",{role:"row"},l&&l("day"),t.map(g=>a?A(SA,{key:g.toISOString(),date:g,dateProfile:n,todayRange:f,colCnt:t.length,dayHeaderFormat:c}):A(EA,{key:g.getUTCDay(),dow:g.getUTCDay(),dayHeaderFormat:c}))))}}function kA(r,e,t){return r||bA(e,t)}class R0{constructor(e,t){let n=e.start,{end:a}=e,l=[],c=[],u=-1;for(;n<a;)t.isHiddenDay(n)?l.push(u+.5):(u+=1,l.push(u),c.push(n)),n=yt(n,1);this.dates=c,this.indices=l,this.cnt=c.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(yt(e.end,-1)),a=Math.max(0,t),l=Math.min(this.cnt-1,n);return a=Math.ceil(a),l=Math.floor(l),a<=l?{firstIndex:a,lastIndex:l,isStart:t===a,isEnd:n===l}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(os(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class j0{constructor(e,t){let{dates:n}=e,a,l,c;if(t){for(l=n[0].getUTCDay(),a=1;a<n.length&&n[a].getUTCDay()!==l;a+=1);c=Math.ceil(n.length/a)}else c=1,a=n.length;this.rowCnt=c,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let a=0;a<this.colCnt;a+=1)n.push(this.buildCell(t,a));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),a=[];if(n){let{firstIndex:l,lastIndex:c}=n,u=l;for(;u<=c;){let f=Math.floor(u/t),g=Math.min((f+1)*t,c+1);a.push({row:f,firstCol:u%t,lastCol:(g-1)%t,isStart:n.isStart&&u===l,isEnd:n.isEnd&&g-1===c}),u=g}}return a}}class M0{constructor(){this.sliceBusinessHours=ve(this._sliceBusinessHours),this.sliceDateSelection=ve(this._sliceDateSpan),this.sliceEventStore=ve(this._sliceEventStore),this.sliceEventDrag=ve(this._sliceInteraction),this.sliceEventResize=ve(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,a,...l){let{eventUiBases:c}=e,u=this.sliceEventStore(e.eventStore,c,t,n,...l);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,c,a,...l),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,a,...l),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,c,t,n,...l),eventResize:this.sliceEventResize(e.eventResize,c,t,n,...l),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,a,...l){return this._sliceDateSpan({range:{start:e,end:_n(e,1)},allDay:!1},t,n,{},a,...l)}_sliceBusinessHours(e,t,n,a,...l){return e?this._sliceEventStore(ss(e,Zl(t,!!n),a),{},t,n,...l).bg:[]}_sliceEventStore(e,t,n,a,...l){if(e){let c=av(e,t,Zl(n,!!a),a);return{bg:this.sliceEventRanges(c.bg,l),fg:this.sliceEventRanges(c.fg,l)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,a,...l){if(!e)return null;let c=av(e.mutatedEvents,t,Zl(n,!!a),a);return{segs:this.sliceEventRanges(c.fg,l),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,a,l,...c){if(!e)return[];let u=Zl(t,!!n),f=ns(e.range,u);if(f){e=Object.assign(Object.assign({},e),{range:f});let g=GC(e,a,l),m=this.sliceRange(e.range,...c);for(let y of m)y.eventRange=g;return m}return[]}sliceEventRanges(e,t){let n=[];for(let a of e)n.push(...this.sliceEventRange(a,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:yt(n.start,1)});let a=this.sliceRange(n,...t);for(let l of a)l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd;return a}}function Zl(r,e){let t=r.activeRange;return e?t:{start:_n(t.start,r.slotMinTime.milliseconds),end:_n(t.end,r.slotMaxTime.milliseconds-864e5)}}function I0(r,e,t){let{instances:n}=r.mutatedEvents;for(let a in n)if(!Fo(e.validRange,n[a].range))return!1;return O0({eventDrag:r},t)}function CA(r,e,t){return Fo(e.validRange,r.range)?O0({dateSelection:r},t):!1}function O0(r,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(e.pluginHooks.isPropsValid||AA)(n,e)}function AA(r,e,t={},n){return!(r.eventDrag&&!DA(r,e,t,n)||r.dateSelection&&!TA(r,e,t,n))}function DA(r,e,t,n){let a=e.getCurrentData(),l=r.eventDrag,c=l.mutatedEvents,u=c.defs,f=c.instances,g=Ao(u,l.isEvent?r.eventUiBases:{"":a.selectionConfig});n&&(g=Pr(g,n));let m=kC(r.eventStore,l.affectedEvents.instances),y=m.defs,x=m.instances,w=Ao(y,r.eventUiBases);for(let _ in f){let E=f[_],S=E.range,D=g[E.defId],P=u[E.defId];if(!P0(D.constraints,S,m,r.businessHours,e))return!1;let{eventOverlap:N}=e.options,C=typeof N=="function"?N:null;for(let F in x){let W=x[F];if(gf(S,W.range)&&(w[W.defId].overlap===!1&&l.isEvent||D.overlap===!1||C&&!C(new qe(e,y[W.defId],W),new qe(e,P,E))))return!1}let z=a.eventStore;for(let F of D.allows){let W=Object.assign(Object.assign({},t),{range:E.range,allDay:P.allDay}),I=z.defs[P.defId],ie=z.instances[_],ue;if(I?ue=new qe(e,I,ie):ue=new qe(e,P),!F(xf(W,e),ue))return!1}}return!0}function TA(r,e,t,n){let a=r.eventStore,l=a.defs,c=a.instances,u=r.dateSelection,f=u.range,{selectionConfig:g}=e.getCurrentData();if(n&&(g=n(g)),!P0(g.constraints,f,a,r.businessHours,e))return!1;let{selectOverlap:m}=e.options,y=typeof m=="function"?m:null;for(let x in c){let w=c[x];if(gf(f,w.range)&&(g.overlap===!1||y&&!y(new qe(e,l[w.defId],w),null)))return!1}for(let x of g.allows){let w=Object.assign(Object.assign({},t),u);if(!x(xf(w,e),null))return!1}return!0}function P0(r,e,t,n,a){for(let l of r)if(!RA(NA(l,e,t,n,a),e))return!1;return!0}function NA(r,e,t,n,a){return r==="businessHours"?ud(ss(n,e,a)):typeof r=="string"?ud(Ho(t,l=>l.groupId===r)):typeof r=="object"&&r?ud(ss(r,e,a)):[]}function ud(r){let{instances:e}=r,t=[];for(let n in e)t.push(e[n].range);return t}function RA(r,e){for(let t of r)if(Fo(t,e))return!0;return!1}const Jl=/^(visible|hidden)$/;class jA extends Oe{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,mr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,a=t&&n,l=["fc-scroller"];return t&&(n?l.push("fc-scroller-liquid-absolute"):l.push("fc-scroller-liquid")),A("div",{ref:this.handleEl,className:l.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Jl.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Jl.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Jl.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Jl.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Mr{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:a,currentMap:l}=this,c=!1,u=!1;t!==null?(c=n in l,l[n]=t,a[n]=(a[n]||0)+1,u=!0):(a[n]-=1,a[n]||(delete l[n],delete this.callbackMap[n],c=!0)),this.masterCallback&&(c&&this.masterCallback(null,String(n)),u&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return Wk(this.currentMap,e,t,n)}getAll(){return hf(this.currentMap)}}function MA(r){let e=B1(r,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,rk(n));return Math.ceil(t)}function L0(r,e){return r.liquid&&e.liquid}function IA(r,e){return e.maxHeight!=null||L0(r,e)}function OA(r,e,t,n){let{expandRows:a}=t;return typeof e.content=="function"?e.content(t):A("table",{role:"presentation",className:[e.tableClassName,r.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:a?t.clientHeight:""}},t.tableColGroupNode,A(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function PA(r,e){return Sn(r,e,ar)}function LA(r,e){let t=[];for(let n of r){let a=n.span||1;for(let l=0;l<a;l+=1)t.push(A("col",{style:{width:n.width==="shrink"?UA(e):n.width||"",minWidth:n.minWidth||""}}))}return A("colgroup",{},...t)}function UA(r){return r??4}function FA(r){for(let e of r)if(e.width==="shrink")return!0;return!1}function HA(r,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return r&&t.push("fc-scrollgrid-liquid"),t}function zA(r,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${r.type}`,r.className];return e&&r.liquid&&r.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),r.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function zd(r){return A("div",{className:"fc-scrollgrid-sticky-shim",style:{width:r.clientWidth,minWidth:r.tableMinWidth}})}function To(r){let{stickyHeaderDates:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}function U0(r){let{stickyFooterScrollbar:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}class Df extends Oe{constructor(){super(...arguments),this.processCols=ve(e=>e,PA),this.renderMicroColGroup=ve(LA),this.scrollerRefs=new Mr,this.scrollerElRefs=new Mr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,a=e.sections||[],l=this.processCols(e.cols),c=this.renderMicroColGroup(l,t.shrinkWidth),u=HA(e.liquid,n);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let f=a.length,g=0,m,y=[],x=[],w=[];for(;g<f&&(m=a[g]).type==="header";)y.push(this.renderSection(m,c,!0)),g+=1;for(;g<f&&(m=a[g]).type==="body";)x.push(this.renderSection(m,c,!1)),g+=1;for(;g<f&&(m=a[g]).type==="footer";)w.push(this.renderSection(m,c,!0)),g+=1;let _=!S0();const E={role:"rowgroup"};return A("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!_&&y.length)&&A("thead",E,...y),!!(!_&&x.length)&&A("tbody",E,...x),!!(!_&&w.length)&&A("tfoot",E,...w),_&&A("tbody",E,...y,...x,...w))}renderSection(e,t,n){return"outerContent"in e?A(ze,{key:e.key},e.outerContent):A("tr",{key:e.key,role:"presentation",className:zA(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,a){if("outerContent"in n)return n.outerContent;let{props:l}=this,{forceYScrollbars:c,scrollerClientWidths:u,scrollerClientHeights:f}=this.state,g=IA(l,e),m=L0(l,e),y=l.liquid?c?"scroll":g?"auto":"hidden":"visible",x=e.key,w=OA(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!l.collapsibleWidth&&u[x]!==void 0?u[x]:null,clientHeight:f[x]!==void 0?f[x]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return A(a?"th":"td",{ref:n.elRef,role:"presentation"},A("div",{className:`fc-scroller-harness${m?" fc-scroller-harness-liquid":""}`},A(jA,{ref:this.scrollerRefs.createRef(x),elRef:this.scrollerElRefs.createRef(x),overflowY:y,overflowX:l.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:m,liquidIsAbsolute:!0},w)))}_handleScrollerEl(e,t){let n=BA(this.props.sections,t);n&&mr(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return FA(this.props.cols)?MA(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=dA(),{scrollerRefs:t,scrollerElRefs:n}=this,a=!1,l={},c={};for(let u in t.currentMap){let f=t.currentMap[u];if(f&&f.needsYScrolling()){a=!0;break}}for(let u of this.props.sections){let f=u.key,g=n.currentMap[f];if(g){let m=g.parentNode;l[f]=Math.floor(m.getBoundingClientRect().width-(a?e.y:0)),c[f]=Math.floor(m.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:c}}}Df.addStateEquality({scrollerClientWidths:ar,scrollerClientHeights:ar});function BA(r,e){for(let t of r)if(t.key===e)return t;return null}class Tf extends Oe{constructor(){super(...arguments),this.buildPublicEvent=ve((e,t,n)=>new qe(e,t,n)),this.handleEl=e=>{this.el=e,mr(this.props.elRef,e),e&&lv(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:a}=e,{eventRange:l}=a,{ui:c}=l,u={event:this.buildPublicEvent(t,l.def,l.instance),view:t.viewApi,timeText:e.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!e.disableDragging&&LC(a,t),isStartResizable:!e.disableResizing&&UC(a,t),isEndResizable:!e.disableResizing&&FC(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return A(Ft,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...HC(u),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:u,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&lv(this.el,this.props.seg)}}class Nf extends Oe{render(){let{props:e,context:t}=this,{options:n}=t,{seg:a}=e,{ui:l}=a.eventRange,c=n.eventTimeFormat||e.defaultTimeFormat,u=v0(a,c,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return A(Tf,Object.assign({},e,{elTag:"a",elStyle:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},elAttrs:w0(a,t),defaultGenerator:$A,timeText:u}),(f,g)=>A(ze,null,A(f,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:g.textColor}}),!!g.isStartResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!g.isEndResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Nf.addPropsEquality({seg:ar});function $A(r){return A("div",{className:"fc-event-main-frame"},r.timeText&&A("div",{className:"fc-event-time"},r.timeText),A("div",{className:"fc-event-title-container"},A("div",{className:"fc-event-title fc-sticky"},r.event.title||A(ze,null," "))))}const Rf=r=>A(Lr.Consumer,null,e=>{let{options:t}=e,n={isAxis:r.isAxis,date:e.dateEnv.toDate(r.date),view:e.viewApi};return A(Ft,{elRef:r.elRef,elTag:r.elTag||"div",elAttrs:r.elAttrs,elClasses:r.elClasses,elStyle:r.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},r.children)}),WA=Qe({day:"numeric"});class jf extends Oe{constructor(){super(...arguments),this.refineRenderProps=so(VA)}render(){let{props:e,context:t}=this,{options:n}=t,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return A(Ft,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":cf(e.date)}),elClasses:[..._f(a,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function Mf(r){return!!(r.dayCellContent||Od("dayCellContent",r))}function VA(r){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:a}=r,l=E0(e,r.todayRange,null,n),c=r.showDayNumber?t.format(e,a?r.monthStartFormat:WA):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:r.viewApi},l),{isMonthStart:a,dayNumberText:c}),r.extraRenderProps)}class F0 extends Oe{render(){let{props:e}=this,{seg:t}=e;return A(Tf,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:qA,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function qA(r){let{title:e}=r.event;return e&&A("div",{className:"fc-event-title"},r.event.title)}function H0(r){return A("div",{className:`fc-${r}`})}const z0=r=>A(Lr.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:a}=r,l=n.weekNumberFormat||r.defaultFormat,c=t.computeWeekNumber(a),u=t.format(a,l),f={num:c,text:u,date:a};return A(Ft,{elRef:r.elRef,elTag:r.elTag,elAttrs:r.elAttrs,elClasses:r.elClasses,elStyle:r.elStyle,renderProps:f,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:GA,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},r.children)});function GA(r){return r.text}const dd=10;class YA extends Oe{constructor(){super(...arguments),this.state={titleId:Lo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&mr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Wy(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:a}=this,l=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return D1(A("div",Object.assign({},n.extraAttrs,{id:n.id,className:l.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),A("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},A("span",{className:"fc-popover-title",id:a.titleId},n.title),A("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),A("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:a}=this,l=gA(t);if(l){let c=a.getBoundingClientRect(),u=n?vt(t,".fc-scrollgrid").getBoundingClientRect().top:l.top,f=e?l.right-c.width:l.left;u=Math.max(u,dd),f=Math.min(f,document.documentElement.clientWidth-dd-c.width),f=Math.max(f,dd);let g=a.offsetParent.getBoundingClientRect();ua(a,{top:u-g.top,left:f-g.left})}}}class QA extends yr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:a,todayRange:l,dateProfile:c}=n,u=t.format(a,e.dayPopoverFormat);return A(jf,{elRef:this.handleRootEl,date:a,dateProfile:c,todayRange:l},(f,g,m)=>A(YA,{elRef:m.ref,id:n.id,title:u,extraClassNames:["fc-more-popover"].concat(m.className||[]),extraAttrs:m,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Mf(e)&&A(f,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,a){let{rootEl:l,props:c}=this;return e>=0&&e<n&&t>=0&&t<a?{dateProfile:c.dateProfile,dateSpan:Object.assign({allDay:!c.forceTimed,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:n,bottom:a},layer:1}:null}}class B0 extends Oe{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Lo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&mr(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:a}=n.options,l=cv(t).start;function c(u){let{def:f,instance:g,range:m}=u.eventRange;return{event:new qe(n,f,g),start:n.dateEnv.toDate(m.start),end:n.dateEnv.toDate(m.end),isStart:u.isStart,isEnd:u.isEnd}}typeof a=="function"&&(a=a({date:l,allDay:!!t.allDayDate,allSegs:t.allSegs.map(c),hiddenSegs:t.hiddenSegs.map(c),jsEvent:e,view:n.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&n.calendarApi.zoomTo(l,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return A(Lr.Consumer,null,n=>{let{viewApi:a,options:l,calendarApi:c}=n,{moreLinkText:u}=l,{moreCnt:f}=e,g=cv(e),m=typeof u=="function"?u.call(c,f):`+${f} ${u}`,y=da(l.moreLinkHint,[f],m),x={num:f,shortText:`+${f}`,text:m,view:a};return A(ze,null,!!e.moreCnt&&A(Ft,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),qy(this.handleClick)),{title:y,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:x,generatorName:"moreLinkContent",customGenerator:l.moreLinkContent,defaultGenerator:e.defaultGenerator||KA,classNameGenerator:l.moreLinkClassNames,didMount:l.moreLinkDidMount,willUnmount:l.moreLinkWillUnmount},e.children),t.isPopoverOpen&&A(QA,{id:t.popoverId,startDate:g.start,endDate:g.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=vt(this.linkEl,".fc-view-harness"))}}function KA(r){return r.text}function cv(r){if(r.allDayDate)return{start:r.allDayDate,end:yt(r.allDayDate,1)};let{hiddenSegs:e}=r;return{start:$0(e),end:JA(e)}}function $0(r){return r.reduce(ZA).eventRange.range.start}function ZA(r,e){return r.eventRange.range.start<e.eventRange.range.start?r:e}function JA(r){return r.reduce(XA).eventRange.range.end}function XA(r,e){return r.eventRange.range.end>e.eventRange.range.end?r:e}class eD{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class tD extends eD{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const rD=[],W0={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},V0=Object.assign(Object.assign({},W0),{buttonHints:{prev:"Previous $0",next:"Next $0",today(r,e){return e==="day"?"Today":`This ${r}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(r){return`Show ${r} more event${r===1?"":"s"}`}});function nD(r){let e=r.length>0?r[0].code:"en",t=rD.concat(r),n={en:V0};for(let a of t)n[a.code]=a;return{map:n,defaultCode:e}}function q0(r,e){return typeof r=="object"&&!Array.isArray(r)?G0(r.code,[r.code],r):sD(r,e)}function sD(r,e){let t=[].concat(r||[]),n=iD(t,e)||V0;return G0(r,t,n)}function iD(r,e){for(let t=0;t<r.length;t+=1){let n=r[t].toLocaleLowerCase().split("-");for(let a=n.length;a>0;a-=1){let l=n.slice(0,a).join("-");if(e[l])return e[l]}}return null}function G0(r,e,t){let n=ff([W0,t],["buttonText"]);delete n.code;let{week:a}=n;return delete n.week,{codeArg:r,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(r),options:n}}function Ur(r){return{id:ls(),name:r.name,premiumReleaseDate:r.premiumReleaseDate?new Date(r.premiumReleaseDate):void 0,deps:r.deps||[],reducers:r.reducers||[],isLoadingFuncs:r.isLoadingFuncs||[],contextInit:[].concat(r.contextInit||[]),eventRefiners:r.eventRefiners||{},eventDefMemberAdders:r.eventDefMemberAdders||[],eventSourceRefiners:r.eventSourceRefiners||{},isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],viewContainerAppends:r.viewContainerAppends||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,initialView:r.initialView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{},scrollGridImpl:r.scrollGridImpl||null,listenerRefiners:r.listenerRefiners||{},optionRefiners:r.optionRefiners||{},propSetHandlers:r.propSetHandlers||{}}}function aD(r,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(l){for(let c of l){const u=c.name,f=t[u];f===void 0?(t[u]=c.id,a(c.deps),n=oD(n,c)):f!==c.id&&console.warn(`Duplicate plugin '${u}'`)}}return r&&a(r),a(e),n}function lD(){let r=[],e=[],t;return(n,a)=>((!t||!Sn(n,r)||!Sn(a,e))&&(t=aD(n,a)),r=n,e=a,t)}function oD(r,e){return{premiumReleaseDate:cD(r.premiumReleaseDate,e.premiumReleaseDate),reducers:r.reducers.concat(e.reducers),isLoadingFuncs:r.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:r.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},r.eventRefiners),e.eventRefiners),eventDefMemberAdders:r.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},r.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:r.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},r.views),e.views),viewPropsTransformers:r.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:r.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:r.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(e.calendarInteractions),componentInteractions:r.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},r.themeClasses),e.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||r.namedTimeZonedImpl,initialView:r.initialView||e.initialView,elementDraggingImpl:r.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},r.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||r.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},r.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},r.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},r.propSetHandlers),e.propSetHandlers)}}function cD(r,e){return r===void 0?e:e===void 0?r:new Date(Math.max(r.valueOf(),e.valueOf()))}class Cn extends Aa{}Cn.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Cn.prototype.baseIconClass="fc-icon";Cn.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Cn.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Cn.prototype.iconOverrideOption="buttonIcons";Cn.prototype.iconOverrideCustomButtonOption="icon";Cn.prototype.iconOverridePrefix="fc-icon-";function uD(r,e){let t={},n;for(n in r)Bd(n,t,r,e);for(n in e)Bd(n,t,r,e);return t}function Bd(r,e,t,n){if(e[r])return e[r];let a=dD(r,e,t,n);return a&&(e[r]=a),a}function dD(r,e,t,n){let a=t[r],l=n[r],c=m=>a&&a[m]!==null?a[m]:l&&l[m]!==null?l[m]:null,u=c("component"),f=c("superType"),g=null;if(f){if(f===r)throw new Error("Can't have a custom view type that references itself");g=Bd(f,e,t,n)}return!u&&g&&(u=g.component),u?{type:r,component:u,defaults:Object.assign(Object.assign({},g?g.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},g?g.overrides:{}),l?l.rawOptions:{})}:null}function uv(r){return Pr(r,fD)}function fD(r){let e=typeof r=="function"?{component:r}:r,{component:t}=e;return e.content?t=dv(e):t&&!(t.prototype instanceof Oe)&&(t=dv(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function dv(r){return e=>A(Lr.Consumer,null,t=>A(Ft,{elTag:"div",elClasses:t0(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:r.content,classNameGenerator:r.classNames,didMount:r.didMount,willUnmount:r.willUnmount}))}function hD(r,e,t,n){let a=uv(r),l=uv(e.views),c=uD(a,l);return Pr(c,u=>pD(u,l,e,t,n))}function pD(r,e,t,n,a){let l=r.overrides.duration||r.defaults.duration||n.duration||t.duration,c=null,u="",f="",g={};if(l&&(c=gD(l),c)){let x=Id(c);u=x.unit,x.value===1&&(f=u,g=e[u]?e[u].rawOptions:{})}let m=x=>{let w=x.buttonText||{},_=r.defaults.buttonTextKey;return _!=null&&w[_]!=null?w[_]:w[r.type]!=null?w[r.type]:w[f]!=null?w[f]:null},y=x=>{let w=x.buttonHints||{},_=r.defaults.buttonTextKey;return _!=null&&w[_]!=null?w[_]:w[r.type]!=null?w[r.type]:w[f]!=null?w[f]:null};return{type:r.type,component:r.component,duration:c,durationUnit:u,singleUnit:f,optionDefaults:r.defaults,optionOverrides:Object.assign(Object.assign({},g),r.overrides),buttonTextOverride:m(n)||m(t)||r.overrides.buttonText,buttonTextDefault:m(a)||r.defaults.buttonText||m(fa)||r.type,buttonTitleOverride:y(n)||y(t)||r.overrides.buttonHint,buttonTitleDefault:y(a)||r.defaults.buttonHint||y(fa)}}let fv={};function gD(r){let e=JSON.stringify(r),t=fv[e];return t===void 0&&(t=De(r),fv[e]=t),t}function mD(r,e){switch(e.type){case"CHANGE_VIEW_TYPE":r=e.viewType}return r}function vD(r,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return r}}function yD(r,e,t){let n=r.initialDate;return n!=null?e.createMarker(n):t.getDateMarker()}function wD(r,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},r),{[e.optionName]:e.rawOptionValue});default:return r}}function xD(r,e,t,n){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(a=n.buildPrev(r,t),a.isValid)return a;break;case"NEXT":if(a=n.buildNext(r,t),a.isValid)return a;break}return r}function bD(r,e,t){let n=e?e.activeRange:null;return Q0({},DD(r,t),n,t)}function SD(r,e,t,n){let a=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Q0(r,e.sources,a,n);case"REMOVE_EVENT_SOURCE":return ED(r,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?K0(r,a,n):r;case"FETCH_EVENT_SOURCES":return If(r,e.sourceIds?Ky(e.sourceIds):Z0(r,n),a,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return AD(r,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}function _D(r,e,t){let n=e?e.activeRange:null;return If(r,Z0(r,t),n,!0,t)}function Y0(r){for(let e in r)if(r[e].isFetching)return!0;return!1}function Q0(r,e,t,n){let a={};for(let l of e)a[l.sourceId]=l;return t&&(a=K0(a,t,n)),Object.assign(Object.assign({},r),a)}function ED(r,e){return rs(r,t=>t.sourceId!==e)}function K0(r,e,t){return If(r,rs(r,n=>kD(n,e,t)),e,!1,t)}function kD(r,e,t){return J0(r,t)?!t.options.lazyFetching||!r.fetchRange||r.isFetching||e.start<r.fetchRange.start||e.end>r.fetchRange.end:!r.latestFetchId}function If(r,e,t,n,a){let l={};for(let c in r){let u=r[c];e[c]?l[c]=CD(u,t,n,a):l[c]=u}return l}function CD(r,e,t,n){let{options:a,calendarApi:l}=n,c=n.pluginHooks.eventSourceDefs[r.sourceDefId],u=ls();return c.fetch({eventSource:r,range:e,isRefetch:t,context:n},f=>{let{rawEvents:g}=f;a.eventSourceSuccess&&(g=a.eventSourceSuccess.call(l,g,f.response)||g),r.success&&(g=r.success.call(l,g,f.response)||g),n.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:u,fetchRange:e,rawEvents:g})},f=>{let g=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(l,f),g=!0),r.failure&&(r.failure(f),g=!0),g||console.warn(f.message,f),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:u,fetchRange:e,error:f})}),Object.assign(Object.assign({},r),{isFetching:!0,latestFetchId:u})}function AD(r,e,t,n){let a=r[e];return a&&t===a.latestFetchId?Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:n})}):r}function Z0(r,e){return rs(r,t=>J0(t,e))}function DD(r,e){let t=u0(e),n=[].concat(r.eventSources||[]),a=[];r.initialEvents&&n.unshift(r.initialEvents),r.events&&n.unshift(r.events);for(let l of n){let c=c0(l,e,t);c&&a.push(c)}return a}function J0(r,e){return!e.pluginHooks.eventSourceDefs[r.sourceDefId].ignoreRange}function TD(r,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return r}}function ND(r,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return r}}function RD(r,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function jD(r,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function MD(r,e,t,n,a){let l=r.headerToolbar?hv(r.headerToolbar,r,e,t,n,a):null,c=r.footerToolbar?hv(r.footerToolbar,r,e,t,n,a):null;return{header:l,footer:c}}function hv(r,e,t,n,a,l){let c={},u=[],f=!1;for(let g in r){let m=r[g],y=ID(m,e,t,n,a,l);c[g]=y.widgets,u.push(...y.viewsWithButtons),f=f||y.hasTitle}return{sectionWidgets:c,viewsWithButtons:u,hasTitle:f}}function ID(r,e,t,n,a,l){let c=e.direction==="rtl",u=e.customButtons||{},f=t.buttonText||{},g=e.buttonText||{},m=t.buttonHints||{},y=e.buttonHints||{},x=r?r.split(" "):[],w=[],_=!1;return{widgets:x.map(S=>S.split(",").map(D=>{if(D==="title")return _=!0,{buttonName:D};let P,N,C,z,F,W;if(P=u[D])C=I=>{P.click&&P.click.call(I.target,I,I.target)},(z=n.getCustomButtonIconClass(P))||(z=n.getIconClass(D,c))||(F=P.text),W=P.hint||P.text;else if(N=a[D]){w.push(D),C=()=>{l.changeView(D)},(F=N.buttonTextOverride)||(z=n.getIconClass(D,c))||(F=N.buttonTextDefault);let I=N.buttonTextOverride||N.buttonTextDefault;W=da(N.buttonTitleOverride||N.buttonTitleDefault||e.viewHint,[I,D],I)}else if(l[D])if(C=()=>{l[D]()},(F=f[D])||(z=n.getIconClass(D,c))||(F=g[D]),D==="prevYear"||D==="nextYear"){let I=D==="prevYear"?"prev":"next";W=da(m[I]||y[I],[g.year||"year","year"],g[D])}else W=I=>da(m[D]||y[D],[g[I]||I,I],g[D]);return{buttonName:D,buttonClick:C,buttonIcon:z,buttonText:F,buttonHint:W}})),viewsWithButtons:w,hasTitle:_}}class OD{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let PD={ignoreRange:!0,parseMeta(r){return Array.isArray(r.events)?r.events:null},fetch(r,e){e({rawEvents:r.eventSource.meta})}};const LD=Ur({name:"array-event-source",eventSourceDefs:[PD]});let UD={parseMeta(r){return typeof r.events=="function"?r.events:null},fetch(r,e,t){const{dateEnv:n}=r.context,a=r.eventSource.meta;YC(a.bind(null,x0(r.range,n)),l=>e({rawEvents:l}),t)}};const FD=Ur({name:"func-event-source",eventSourceDefs:[UD]}),HD={method:String,extraParams:U,startParam:String,endParam:String,timeZoneParam:String};let zD={parseMeta(r){return r.url&&(r.format==="json"||!r.format)?{url:r.url,format:"json",method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}:null},fetch(r,e,t){const{meta:n}=r.eventSource,a=$D(n,r.range,r.context);QC(n.method,n.url,a).then(([l,c])=>{e({rawEvents:l,response:c})},t)}};const BD=Ur({name:"json-event-source",eventSourceRefiners:HD,eventSourceDefs:[zD]});function $D(r,e,t){let{dateEnv:n,options:a}=t,l,c,u,f,g={};return l=r.startParam,l==null&&(l=a.startParam),c=r.endParam,c==null&&(c=a.endParam),u=r.timeZoneParam,u==null&&(u=a.timeZoneParam),typeof r.extraParams=="function"?f=r.extraParams():f=r.extraParams||{},Object.assign(g,f),g[l]=n.formatIso(e.start),g[c]=n.formatIso(e.end),n.timeZone!=="local"&&(g[u]=n.timeZone),g}const WD={daysOfWeek:U,startTime:De,endTime:De,duration:De,startRecur:U,endRecur:U};let VD={parse(r,e){if(r.daysOfWeek||r.startTime||r.endTime||r.startRecur||r.endRecur){let t={daysOfWeek:r.daysOfWeek||null,startTime:r.startTime||null,endTime:r.endTime||null,startRecur:r.startRecur?e.createMarker(r.startRecur):null,endRecur:r.endRecur?e.createMarker(r.endRecur):null,dateEnv:e},n;return r.duration&&(n=r.duration),!n&&r.startTime&&r.endTime&&(n=ak(r.endTime,r.startTime)),{allDayGuess:!r.startTime&&!r.endTime,duration:n,typeData:t}}return null},expand(r,e,t){let n=ns(e,{start:r.startRecur,end:r.endRecur});return n?GD(r.daysOfWeek,r.startTime,r.dateEnv,t,n):[]}};const qD=Ur({name:"simple-recurring-event",recurringTypes:[VD],eventRefiners:WD});function GD(r,e,t,n,a){let l=r?Ky(r):null,c=Be(a.start),u=a.end,f=[];for(;c<u;){let g;(!l||l[c.getUTCDay()])&&(e?g=n.add(c,e):g=c,f.push(n.createMarker(t.toDate(g)))),c=yt(c,1)}return f}const YD=Ur({name:"change-handler",optionChangeHandlers:{events(r,e){pv([r],e)},eventSources:pv}});function pv(r,e){let t=hf(e.getCurrentData().eventSources);if(t.length===1&&r.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(r[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:r[0]});return}let n=[];for(let a of r){let l=!1;for(let c=0;c<t.length;c+=1)if(t[c]._raw===a){t.splice(c,1),l=!0;break}l||n.push(a)}for(let a of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of n)e.calendarApi.addEventSource(a)}function QD(r,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},x0(r.activeRange,e.dateEnv)),{view:e.viewApi}))}function KD(r,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",es(r,e))}const ZD=[LD,FD,BD,qD,YD,Ur({name:"misc",isLoadingFuncs:[r=>Y0(r.eventSources)],propSetHandlers:{dateProfile:QD,eventStore:KD}})];class JD{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new nf(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function XD(r,e,t){let n;return/^(year|month)$/.test(r.currentRangeUnit)?n=r.currentRange:n=r.activeRange,t.formatRange(n.start,n.end,Qe(e.titleFormat||eT(r)),{isEndExclusive:r.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function eT(r){let{currentRangeUnit:e}=r;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=wo(r.currentRange.start,r.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class gv{constructor(){this.resetListeners=new Set}handleInput(e,t){const n=this.dateEnv;if(e!==n&&(typeof t=="function"?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class tT{constructor(e){this.computeCurrentViewData=ve(this._computeCurrentViewData),this.organizeRawLocales=ve(nD),this.buildLocale=ve(q0),this.buildPluginHooks=lD(),this.buildDateEnv=ve(rT),this.buildTheme=ve(nT),this.parseToolbars=ve(MD),this.buildViewSpecs=ve(hD),this.buildDateProfileGenerator=so(sT),this.buildViewApi=ve(iT),this.buildViewUiProps=so(oT),this.buildEventUiBySource=ve(aT,ar),this.buildEventUiBases=ve(lT),this.parseContextBusinessHours=so(cT),this.buildTitle=ve(XD),this.nowManager=new gv,this.emitter=new zo,this.actionRunner=new JD(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=x=>{this.actionRunner.request(x)},this.props=e,this.actionRunner.pause(),this.nowManager=new gv;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),a=n.calendarOptions.initialView||n.pluginHooks.initialView,l=this.computeCurrentViewData(a,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},u=yD(n.calendarOptions,n.dateEnv,this.nowManager),f=l.dateProfileGenerator.build(u);Ir(f.activeRange,u)||(u=f.currentRange.start);for(let x of n.pluginHooks.contextInit)x(c);let g=bD(n.calendarOptions,f,c),m={dynamicOptionOverrides:t,currentViewType:a,currentDate:u,dateProfile:f,businessHours:this.parseContextBusinessHours(c),eventSources:g,eventUiBases:{},eventStore:Ut(),renderableEventStore:Ut(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},y=Object.assign(Object.assign({},c),m);for(let x of n.pluginHooks.reducers)Object.assign(m,x(null,null,y));fd(m,c)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:a}=this,l=wD(n.dynamicOptionOverrides,e),c=this.computeOptionsData(t.optionOverrides,l,t.calendarApi),u=mD(n.currentViewType,e),f=this.computeCurrentViewData(u,c,t.optionOverrides,l);t.calendarApi.currentDataManager=this,a.setThisContext(t.calendarApi),a.setOptions(f.options);let g={nowManager:this.nowManager,dateEnv:c.dateEnv,options:c.calendarOptions,pluginHooks:c.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:m,dateProfile:y}=n;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(y=f.dateProfileGenerator.build(m)),m=vD(m,e),y=xD(y,e,m,f.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ir(y.currentRange,m))&&(m=y.currentRange.start);let x=SD(n.eventSources,e,y,g),w=bC(n.eventStore,e,x,y,g),E=Y0(x)&&!f.options.progressiveEventRendering&&n.renderableEventStore||w,{eventUiSingleBase:S,selectionConfig:D}=this.buildViewUiProps(g),P=this.buildEventUiBySource(x),N=this.buildEventUiBases(E.defs,S,P),C={dynamicOptionOverrides:l,currentViewType:u,currentDate:m,dateProfile:y,eventSources:x,eventStore:w,renderableEventStore:E,selectionConfig:D,eventUiBases:N,businessHours:this.parseContextBusinessHours(g),dateSelection:TD(n.dateSelection,e),eventSelection:ND(n.eventSelection,e),eventDrag:RD(n.eventDrag,e),eventResize:jD(n.eventResize,e)},z=Object.assign(Object.assign({},g),C);for(let I of c.pluginHooks.reducers)Object.assign(C,I(n,e,z));let F=fd(n,g),W=fd(C,g);!F&&W?a.trigger("loading",!0):F&&!W&&a.trigger("loading",!1),this.state=C,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,a=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),l=this.computeCurrentViewData(t.currentViewType,a,e.optionOverrides,t.dynamicOptionOverrides),c=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,l.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),l),t),u=a.pluginHooks.optionChangeHandlers,f=n&&n.calendarOptions,g=a.calendarOptions;if(f&&f!==g){f.timeZone!==g.timeZone&&(t.eventSources=c.eventSources=_D(c.eventSources,t.dateProfile,c),t.eventStore=c.eventStore=sv(c.eventStore,n.dateEnv,c.dateEnv),t.renderableEventStore=c.renderableEventStore=sv(c.renderableEventStore,n.dateEnv,c.dateEnv));for(let m in u)(this.optionsForHandling.indexOf(m)!==-1||f[m]!==g[m])&&u[m](g[m],c)}this.optionsForHandling=[],e.onData&&e.onData(c)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:l,localeDefaults:c,availableLocaleData:u,extra:f}=this.processRawCalendarOptions(e,t);mv(f);let g=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,l,u,a.defaultRangeSeparator),m=this.buildViewSpecs(l.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,c),y=this.buildTheme(a,l),x=this.parseToolbars(a,this.stableOptionOverrides,y,m,n);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:l,dateEnv:g,viewSpecs:m,theme:y,toolbarConfig:x,localeDefaults:c,availableRawLocales:u.map}}processRawCalendarOptions(e,t){let{locales:n,locale:a}=nd([fa,e,t]),l=this.organizeRawLocales(n),c=l.map,u=this.buildLocale(a||l.defaultCode,c).options,f=this.buildPluginHooks(e.plugins||[],ZD),g=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jm),Xm),ev),f.listenerRefiners),f.optionRefiners),m={},y=nd([fa,u,e,t]),x={},w=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,E=!1;for(let S in y)this.optionsForRefining.indexOf(S)===-1&&(y[S]===w[S]||$n[S]&&S in w&&$n[S](w[S],y[S]))?x[S]=_[S]:g[S]?(x[S]=g[S](y[S]),E=!0):m[S]=w[S];return E&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=x,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:l,localeDefaults:u,extra:m}}_computeCurrentViewData(e,t,n,a){let l=t.viewSpecs[e];if(!l)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:c,extra:u}=this.processRawViewOptions(l,t.pluginHooks,t.localeDefaults,n,a);mv(u),this.nowManager.handleInput(t.dateEnv,c.now);let f=this.buildDateProfileGenerator({dateProfileGeneratorClass:l.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:l.duration,durationUnit:l.durationUnit,usesMinMaxTime:l.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,showNonCurrentDates:c.showNonCurrentDates,dayCount:c.dayCount,dateAlignment:c.dateAlignment,dateIncrement:c.dateIncrement,hiddenDays:c.hiddenDays,weekends:c.weekends,validRangeInput:c.validRange,visibleRangeInput:c.visibleRange,fixedWeekCount:c.fixedWeekCount}),g=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:l,options:c,dateProfileGenerator:f,viewApi:g}}processRawViewOptions(e,t,n,a,l){let c=nd([fa,e.optionDefaults,n,a,e.optionOverrides,l]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jm),Xm),ev),Fk),t.listenerRefiners),t.optionRefiners),f={},g=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,y=!1,x={};for(let w in c)c[w]===g[w]||$n[w]&&$n[w](c[w],g[w])?f[w]=m[w]:(c[w]===this.currentCalendarOptionsInput[w]||$n[w]&&$n[w](c[w],this.currentCalendarOptionsInput[w])?w in this.currentCalendarOptionsRefined&&(f[w]=this.currentCalendarOptionsRefined[w]):u[w]?f[w]=u[w](c[w]):x[w]=c[w],y=!0);return y&&(this.currentViewOptionsInput=c,this.currentViewOptionsRefined=f),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:x}}}function rT(r,e,t,n,a,l,c,u){let f=q0(e||c.defaultCode,c.map);return new Kk({calendarSystem:"gregory",timeZone:r,namedTimeZoneImpl:l.namedTimeZonedImpl,locale:f,weekNumberCalculation:t,firstDay:n,weekText:a,cmdFormatter:l.cmdFormatter,defaultSeparator:u})}function nT(r,e){let t=e.themeClasses[r.themeSystem]||Cn;return new t(r)}function sT(r){let e=r.dateProfileGeneratorClass||s0;return new e(r)}function iT(r,e,t){return new OD(r,e,t)}function aT(r){return Pr(r,e=>e.ui)}function lT(r,e,t){let n={"":e};for(let a in r){let l=r[a];l.sourceId&&t[l.sourceId]&&(n[a]=t[l.sourceId])}return n}function oT(r){let{options:e}=r;return{eventUiSingleBase:Co({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),selectionConfig:Co({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},r)}}function fd(r,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(r))return!0;return!1}function cT(r){return NC(r.options.businessHours,r)}function mv(r,e){for(let t in r)console.warn(`Unknown option '${t}'`)}class uT extends Oe{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return A("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,a=[],l=!0;for(let c of e){let{buttonName:u,buttonClick:f,buttonText:g,buttonIcon:m,buttonHint:y}=c;if(u==="title")l=!1,a.push(A("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let x=u===t.activeButton,w=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next",_=[`fc-${u}-button`,n.getClass("button")];x&&_.push(n.getClass("buttonActive")),a.push(A("button",{type:"button",title:typeof y=="function"?y(t.navUnit):y,disabled:w,"aria-pressed":x,className:_.join(" "),onClick:f},g||(m?A("span",{className:m,role:"img"}):"")))}}if(a.length>1){let c=l&&n.getClass("buttonGroup")||"";return A("div",{className:c},...a)}return a[0]}}class vv extends Oe{render(){let{model:e,extraClassName:t}=this.props,n=!1,a,l,c=e.sectionWidgets,u=c.center;return c.left?(n=!0,a=c.left):a=c.start,c.right?(n=!0,l=c.right):l=c.end,A("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",u||[]),this.renderSection("end",l||[]))}renderSection(e,t){let{props:n}=this;return A(uT,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class dT extends Oe{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,mr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,a=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",c="";return n?t.availableWidth!==null?l=t.availableWidth/n:c=`${1/n*100}%`:l=e.height||"",A("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:l,paddingBottom:c}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class fT extends pi{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:a}=this,{context:l}=a,c=ui(n);if(c&&a.isValidSegDownEl(t.target)){let u=vt(t.target,".fc-event-forced-url"),f=u?u.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:n,event:new qe(a.context,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:l.viewApi}),f&&!t.defaultPrevented&&(window.location.href=f)}},this.destroy=Vy(e.el,"click",".fc-event",this.handleSegClick)}}class hT extends pi{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{ui(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=V1(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:a}=this,{context:l}=a,c=ui(n);(!t||a.isValidSegDownEl(t.target))&&l.emitter.trigger(e,{el:n,event:new qe(l,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:l.viewApi})}}class pT extends cs{constructor(){super(...arguments),this.buildViewContext=ve(Xk),this.buildViewPropTransformers=ve(mT),this.buildToolbarProps=ve(gT),this.headerRef=_t(),this.footerRef=_t(),this.interactionsStore={},this.state={viewLabelId:Lo()},this.registerInteractiveComponent=(e,t)=>{let n=JC(e,t),c=[fT,hT].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(n));this.interactionsStore[e.uid]=c,Ud[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete Ud[e.uid]},this.resizeRunner=new nf(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,a=!1,l="",c;e.isHeightAuto||e.forPrint?l="":n.height!=null?a=!0:n.contentHeight!=null?l=n.contentHeight:c=Math.max(n.aspectRatio,.5);let u=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return A(Lr.Provider,{value:u},A(gi,{unit:"day"},g=>{let m=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,g,e.viewTitle);return A(ze,null,t.header&&A(vv,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},m)),A(dT,{liquid:a,height:l,aspectRatio:c,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&A(vv,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},m)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let a in n)t[a]!==e[a]&&n[a](t[a],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return A(ze,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},l=this.buildViewPropTransformers(t.viewPropsTransformers);for(let u of l)Object.assign(a,u.transform(a,e));let c=n.component;return A(c,Object.assign({},a))}}function gT(r,e,t,n,a,l){let c=t.build(a,void 0,!1),u=t.buildPrev(e,n,!1),f=t.buildNext(e,n,!1);return{title:l,activeButton:r.type,navUnit:r.singleUnit,isTodayEnabled:c.isValid&&!Ir(e.currentRange,a),isPrevEnabled:u.isValid,isNextEnabled:f.isValid}}function mT(r){return r.map(e=>new e)}class vT extends eA{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;_o(()=>{wa(A(ZC,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(a,l,c,u)=>(this.setClassNames(a),this.setHeight(l),A(e0.Provider,{value:this.customContentRenderId},A(pT,Object.assign({isHeightAuto:c,forPrint:u},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,wa(null,this.el),this.setClassNames([]),this.setHeight(""))},P1(e),this.el=e,this.renderRunner=new nf(this.handleRenderRequest),new tT({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){_o(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Sn(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){$y(this.el,"height",e)}}const yT=parseInt(String(oo.version).split(".")[0]),wT=yT<18;class X0 extends $.Component{constructor(){super(...arguments),this.elRef=$.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(oo.createElement(xT,{key:t.id,customRendering:t}));return oo.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new tD;this.handleCustomRendering=e.handle.bind(e),this.calendar=new vT(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Td.flushSync(()=>{})});let t;e.subscribe(n=>{const a=Date.now(),l=!t;(wT||l||this.isUpdating||this.isUnmounting||a-t<100?ew:Td.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{t=a,l?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}X0.act=ew;class xT extends $.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n=typeof t=="function"?t(e.renderProps):t;return Td.createPortal(n,e.containerEl)}}function ew(r){r()}class bT extends yr{constructor(){super(...arguments),this.headerElRef=_t()}renderSimpleLayout(e,t){let{props:n,context:a}=this,l=[],c=To(a.options);return e&&l.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),A(Eo,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},A(Df,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:l}))}renderHScrollLayout(e,t,n,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{props:c,context:u}=this,f=!c.forPrint&&To(u.options),g=!c.forPrint&&U0(u.options),m=[];return e&&m.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),g&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:zd}]}),A(Eo,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},A(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:m}))}}function ao(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.row].push(n);return t}function Xl(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.firstCol].push(n);return t}function yv(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}const tw=Qe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function rw(r){let{display:e}=r.eventRange.ui;return e==="list-item"||e==="auto"&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class nw extends Oe{render(){let{props:e}=this;return A(Nf,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:tw,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class sw extends Oe{render(){let{props:e,context:t}=this,{options:n}=t,{seg:a}=e,l=n.eventTimeFormat||tw,c=v0(a,l,t,!0,e.defaultDisplayEventEnd);return A(Tf,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:w0(e.seg,t),defaultGenerator:ST,timeText:c,isResizing:!1,isDateSelecting:!1}))}}function ST(r){return A(ze,null,A("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&A("div",{className:"fc-event-time"},r.timeText),A("div",{className:"fc-event-title"},r.event.title||A(ze,null," ")))}class _T extends Oe{constructor(){super(...arguments),this.compileSegs=ve(ET)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return A(B0,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return A(ze,null,t.map(l=>{let c=l.eventRange.instance.instanceId;return A("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:a[c]?"hidden":""}},rw(l)?A(sw,Object.assign({seg:l,isDragging:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},bn(l,e.todayRange))):A(nw,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},bn(l,e.todayRange))))}))}})}}function ET(r){let e=[],t=[];for(let n of r)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}const kT=Qe({week:"narrow"});class CT extends yr{constructor(){super(...arguments),this.rootElRef=_t(),this.state={dayNumberId:Lo()},this.handleRootEl=e=>{mr(this.rootElRef,e),mr(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:a}=this,{options:l,dateEnv:c}=e,{date:u,dateProfile:f}=t;const g=t.showDayNumber&&DT(u,f.currentRange,c);return A(jf,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:AT,date:u,dateProfile:f,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:g,extraRenderProps:t.extraRenderProps},(m,y)=>A("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&A(z0,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Do(e,u,"week"),date:u,defaultFormat:kT}),!y.isDisabled&&(t.showDayNumber||Mf(l)||t.forceDayTop)?A("div",{className:"fc-daygrid-day-top"},A(m,{elTag:"a",elClasses:["fc-daygrid-day-number",g&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Do(e,u)),{id:n.dayNumberId})})):t.showDayNumber?A("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},A("a",{className:"fc-daygrid-day-number"}," ")):void 0,A("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,A("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},A(_T,{allDayDate:u,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),A("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function AT(r){return r.dayNumberText||A(ze,null," ")}function DT(r,e,t){const{start:n,end:a}=e,l=_n(a,-1),c=t.getYear(n),u=t.getMonth(n),f=t.getYear(l),g=t.getMonth(l);return!(c===f&&u===g)&&(r.valueOf()===n.valueOf()||t.getDay(r)===1&&r.valueOf()<a.valueOf())}function iw(r){return r.eventRange.instance.instanceId+":"+r.firstCol}function aw(r){return iw(r)+":"+r.lastCol}function TT(r,e,t,n,a,l,c){let u=new jT(D=>{let P=r[D.index].eventRange.instance.instanceId+":"+D.span.start+":"+(D.span.end-1);return a[P]||1});u.allowReslicing=!0,u.strictOrder=n,e===!0||t===!0?(u.maxCoord=l,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof t=="number"&&(u.maxStackCnt=t,u.hiddenConsumes=!0);let f=[],g=[];for(let D=0;D<r.length;D+=1){let P=r[D],N=aw(P);a[N]!=null?f.push({index:D,span:{start:P.firstCol,end:P.lastCol+1}}):g.push(P)}let m=u.addSegs(f),y=u.toRects(),{singleColPlacements:x,multiColPlacements:w,leftoverMargins:_}=NT(y,r,c),E=[],S=[];for(let D of g){w[D.firstCol].push({seg:D,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let P=D.firstCol;P<=D.lastCol;P+=1)x[P].push({seg:Xs(D,P,P+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<c.length;D+=1)E.push(0);for(let D of m){let P=r[D.index],N=D.span;w[N.start].push({seg:Xs(P,N.start,N.end,c),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=N.start;C<N.end;C+=1)E[C]+=1,x[C].push({seg:Xs(P,C,C+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<c.length;D+=1)S.push(_[D]);return{singleColPlacements:x,multiColPlacements:w,moreCnts:E,moreMarginTops:S}}function NT(r,e,t){let n=RT(r,t.length),a=[],l=[],c=[];for(let u=0;u<t.length;u+=1){let f=n[u],g=[],m=0,y=0;for(let w of f){let _=e[w.index];g.push({seg:Xs(_,u,u+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:w.levelCoord,marginTop:w.levelCoord-m}),m=w.levelCoord+w.thickness}let x=[];m=0,y=0;for(let w of f){let _=e[w.index],E=w.span.end-w.span.start>1,S=w.span.start===u;y+=w.levelCoord-m,m=w.levelCoord+w.thickness,E?(y+=w.thickness,S&&x.push({seg:Xs(_,w.span.start,w.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:w.levelCoord,marginTop:0})):S&&(x.push({seg:Xs(_,w.span.start,w.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:w.levelCoord,marginTop:y}),y=0)}a.push(g),l.push(x),c.push(y)}return{singleColPlacements:a,multiColPlacements:l,leftoverMargins:c}}function RT(r,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of r)for(let a=n.span.start;a<n.span.end;a+=1)t[a].push(n);return t}function Xs(r,e,t,n){if(r.firstCol===e&&r.lastCol===t-1)return r;let a=r.eventRange,l=a.range,c=ns(l,{start:n[e].date,end:yt(n[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:c},isStart:r.isStart&&c.start.valueOf()===l.start.valueOf(),isEnd:r.isEnd&&c.end.valueOf()===l.end.valueOf()})}class jT extends A0{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,a=l=>!this.forceHidden[ts(l)];for(let l=0;l<n.length;l+=1)n[l]=n[l].filter(a);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:a,forceHidden:l}=this,{touchingEntry:c,touchingLevel:u,touchingLateral:f}=e;if(this.hiddenConsumes&&c){const g=ts(c);if(!l[g])if(this.allowReslicing){const m=Object.assign(Object.assign({},c),{span:Cf(c.span,t.span)}),y=ts(m);l[y]=!0,a[u][f]=m,n.push(m),this.splitEntry(c,t,n)}else l[g]=!0,n.push(c)}super.handleInvalidInsertion(e,t,n)}}class lw extends yr{constructor(){super(...arguments),this.cellElRefs=new Mr,this.frameElRefs=new Mr,this.fgElRefs=new Mr,this.segHarnessRefs=new Mr,this.rootElRef=_t(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:a}=n,l=e.cells.length,c=Xl(e.businessHourSegs,l),u=Xl(e.bgEventSegs,l),f=Xl(this.getHighlightSegs(),l),g=Xl(this.getMirrorSegs(),l),{singleColPlacements:m,multiColPlacements:y,moreCnts:x,moreMarginTops:w}=TT(m0(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return A("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((E,S)=>{let D=this.renderFgSegs(S,e.forPrint?m[S]:y[S],e.todayRange,_),P=this.renderFgSegs(S,MT(g[S],y),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return A(CT,{key:E.key,elRef:this.cellElRefs.createRef(E.key),innerElRef:this.frameElRefs.createRef(E.key),dateProfile:e.dateProfile,date:E.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:E.extraRenderProps,extraDataAttrs:E.extraDataAttrs,extraClassNames:E.extraClassNames,extraDateSpan:E.extraDateSpan,moreCnt:x[S],moreMarginTop:w[S],singlePlacements:m[S],fgContentElRef:this.fgElRefs.createRef(E.key),fgContent:A(ze,null,A(ze,null,D),A(ze,null,P)),bgContent:A(ze,null,this.renderFillSegs(f[S],"highlight"),this.renderFillSegs(c[S],"non-business"),this.renderFillSegs(u[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!ar(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,a,l,c,u){let{context:f}=this,{eventSelection:g}=this.props,{framePositions:m}=this.state,y=this.props.cells.length===1,x=l||c||u,w=[];if(m)for(let _ of t){let{seg:E}=_,{instanceId:S}=E.eventRange.instance,D=_.isVisible&&!a[S],P=_.isAbsolute,N="",C="";P&&(f.isRtl?(C=0,N=m.lefts[E.lastCol]-m.lefts[E.firstCol]):(N=0,C=m.rights[E.firstCol]-m.rights[E.lastCol])),w.push(A("div",{className:"fc-daygrid-event-harness"+(P?" fc-daygrid-event-harness-abs":""),key:iw(E),ref:x?null:this.segHarnessRefs.createRef(aw(E)),style:{visibility:D?"":"hidden",marginTop:P?"":_.marginTop,top:P?_.absoluteTop:"",left:N,right:C}},rw(E)?A(sw,Object.assign({seg:E,isDragging:l,isSelected:S===g,defaultDisplayEventEnd:y},bn(E,n))):A(nw,Object.assign({seg:E,isDragging:l,isResizing:c,isDateSelecting:u,isSelected:S===g,defaultDisplayEventEnd:y},bn(E,n)))))}return w}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:a}=this.props,{framePositions:l}=this.state,c=[];if(l)for(let u of e){let f=n?{right:0,left:l.lefts[u.lastCol]-l.lefts[u.firstCol]}:{left:0,right:l.rights[u.firstCol]-l.rights[u.lastCol]};c.push(A("div",{key:y0(u.eventRange),className:"fc-daygrid-bg-harness",style:f},t==="bg-event"?A(F0,Object.assign({seg:u},bn(u,a))):H0(t)))}return A(ze,{},...c)}updateSizing(e){let{props:t,state:n,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let f=t.cells.map(g=>a.currentMap[g.key]);if(f.length){let g=this.rootElRef.current,m=new di(g,f,!0,!1);(!n.framePositions||!n.framePositions.similarTo(m))&&this.setState({framePositions:new di(g,f,!0,!1)})}}const l=this.state.segHeights,c=this.querySegHeights(),u=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},l),c),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let a=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}lw.addStateEquality({segHeights:ar});function MT(r,e){if(!r.length)return[];let t=IT(e);return r.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function IT(r){let e={};for(let t of r)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class OT extends yr{constructor(){super(...arguments),this.splitBusinessHourSegs=ve(ao),this.splitBgEventSegs=ve(PT),this.splitFgEventSegs=ve(ao),this.splitDateSelectionSegs=ve(ao),this.splitEventDrag=ve(yv),this.splitEventResize=ve(yv),this.rowRefs=new Mr}render(){let{props:e,context:t}=this,n=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,n),l=this.splitBgEventSegs(e.bgEventSegs,n),c=this.splitFgEventSegs(e.fgEventSegs,n),u=this.splitDateSelectionSegs(e.dateSelectionSegs,n),f=this.splitEventDrag(e.eventDrag,n),g=this.splitEventResize(e.eventResize,n),m=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return A(gi,{unit:"day"},(y,x)=>A(ze,null,e.cells.map((w,_)=>A(lw,{ref:this.rowRefs.createRef(_),key:w.length?w[0].date.toISOString():_,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:x,dateProfile:e.dateProfile,cells:w,renderIntro:e.renderRowIntro,businessHourSegs:a[_],eventSelection:e.eventSelection,bgEventSegs:l[_],fgEventSegs:c[_],dateSelectionSegs:u[_],eventDrag:f[_],eventResize:g[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:m,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new di(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new di(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:a}=this,l=n.leftToIndex(e),c=a.topToIndex(t);if(c!=null&&l!=null){let u=this.props.cells[c][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(c,l),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(c,l),rect:{left:n.lefts[l],right:n.rights[l],top:a.tops[c],bottom:a.bottoms[c]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,a=yt(n,1);return{start:n,end:a}}}function PT(r,e){return ao(r.filter(LT),e)}function LT(r){return r.eventRange.def.allDay}class UT extends yr{constructor(){super(...arguments),this.elRef=_t(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:a}=e,l=n===!0||t===!0;l&&!a&&(l=!1,t=null,n=null);let c=["fc-daygrid-body",l?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return A("div",{ref:this.elRef,className:c.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,A("tbody",{role:"presentation"},A(OT,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=FT(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function FT(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector(`[data-date="${Sk(e.currentDate)}-01"]`)),t||(t=r.querySelector(`[data-date="${cf(e.currentDate)}"]`)),t}class HT extends M0{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class ow extends yr{constructor(){super(...arguments),this.slicer=new HT,this.tableRef=_t()}render(){let{props:e,context:t}=this;return A(UT,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class zT extends bT{constructor(){super(...arguments),this.buildDayTableModel=ve(BT),this.headerRef=_t(),this.tableRef=_t()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,a=this.buildDayTableModel(n.dateProfile,t),l=e.dayHeaders&&A(N0,{ref:this.headerRef,dateProfile:n.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),c=u=>A(ow,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:a,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(l,c,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(l,c)}}function BT(r,e){let t=new R0(r.renderRange,e);return new j0(t,/year|month|week/.test(r.currentRangeUnit))}class $T extends s0{buildRenderRange(e,t,n){let a=super.buildRenderRange(e,t,n),{props:l}=this;return WT({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}}function WT(r){let{dateEnv:e,currentRange:t}=r,{start:n,end:a}=t,l;if(r.snapToWeek&&(n=e.startOfWeek(n),l=e.startOfWeek(a),l.valueOf()!==a.valueOf()&&(a=Gm(l,1))),r.fixedWeekCount){let c=e.startOfWeek(e.startOfMonth(yt(t.end,-1))),u=Math.ceil(dk(c,a));a=Gm(a,6-u)}return{start:n,end:a}}var VT=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';rf(VT);var qT=Ur({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:zT,dateProfileGeneratorClass:$T},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class GT extends iA{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?OC(e)?["timed","allDay"]:["allDay"]:["timed"]}}const YT=Qe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function cw(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return A(Lr.Consumer,null,t=>{if(!r.isLabeled)return A("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:n,options:a,viewApi:l}=t,c=a.slotLabelFormat==null?YT:Array.isArray(a.slotLabelFormat)?Qe(a.slotLabelFormat[0]):Qe(a.slotLabelFormat),u={level:0,time:r.time,date:n.toDate(r.date),view:l,text:n.format(r.date,c)};return A(Ft,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:u,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:QT,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},f=>A("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},A(f,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function QT(r){return r.text}class KT extends Oe{render(){return this.props.slatMetas.map(e=>A("tr",{key:e.key},A(cw,Object.assign({},e))))}}const ZT=Qe({week:"short"}),JT=5;class XT extends yr{constructor(){super(...arguments),this.allDaySplitter=new GT,this.headerElRef=_t(),this.rootElRef=_t(),this.scrollerElRef=_t(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:a}=this.props,l=a.renderRange,u=os(l.start,l.end)===1?Do(this.context,l.start,"week"):{};return n.weekNumbers&&e==="day"?A(z0,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:l.start,defaultFormat:ZT},f=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},A(f,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:u}))):A("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},A("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,a={text:t.allDayText,view:n};return A(Ft,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:eN,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},l=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},A(l,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:a,props:l}=this,c=[],u=To(a.options);return e&&c.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(c.push({type:"body",key:"all-day",chunk:{content:t}}),c.push({type:"body",key:"all-day-divider",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),c.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),A(Eo,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},A(Df,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:c}))}renderHScrollLayout(e,t,n,a,l,c,u){let f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");let{context:g,props:m}=this,y=!m.forPrint&&To(g.options),x=!m.forPrint&&U0(g.options),w=[];e&&w.push({type:"header",key:"header",isSticky:y,syncRowHeights:!0,chunks:[{key:"axis",rowContent:E=>A("tr",{role:"presentation"},this.renderHeadAxis("day",E.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(w.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:E=>A("tr",{role:"presentation"},this.renderTableRowAxis(E.rowSyncHeights[0]))},{key:"cols",content:t}]}),w.push({key:"all-day-divider",type:"body",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{colSpan:2,className:"fc-timegrid-divider "+g.theme.getClass("tableCellShaded")}))}));let _=g.options.nowIndicator;return w.push({type:"body",key:"body",liquid:!0,expandRows:!!g.options.expandRows,chunks:[{key:"axis",content:E=>A("div",{className:"fc-timegrid-axis-chunk"},A("table",{"aria-hidden":!0,style:{height:E.expandRows?E.clientHeight:""}},E.tableColGroupNode,A("tbody",null,A(KT,{slatMetas:c}))),A("div",{className:"fc-timegrid-now-indicator-container"},A(gi,{unit:_?"minute":"day"},S=>{let D=_&&u&&u.safeComputeTop(S);return typeof D=="number"?A(Rf,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:D},isAxis:!0,date:S}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),x&&w.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:zd},{key:"cols",content:zd}]}),A(Eo,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:g.viewSpec},A(f,{liquid:!m.isHeightAuto&&!m.forPrint,forPrint:m.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:l}]}],sections:w}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=JT),{dayMaxEvents:e,dayMaxEventRows:t}}}function eN(r){return r.text}class tN{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(Ir(t.currentRange,e)){let n=Be(e),a=e.valueOf()-n.valueOf();if(a>=ir(t.slotMinTime)&&a<ir(t.slotMaxTime))return this.computeTimeTop(De(a))}return null}computeDateTop(e,t){return t||(t=Be(e)),this.computeTimeTop(De(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,a=t.els.length,l=(e.milliseconds-ir(n.slotMinTime))/ir(this.slotDuration),c,u;return l=Math.max(0,l),l=Math.min(a,l),c=Math.floor(l),c=Math.min(c,a-1),u=l-c,t.tops[c]+t.getHeight(c)*u}}class rN extends Oe{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:a}=e;return A("tbody",null,e.slatMetas.map((l,c)=>{let u={time:l.time,date:t.dateEnv.toDate(l.date),view:t.viewApi};return A("tr",{key:l.key,ref:a.createRef(l.key)},e.axis&&A(cw,Object.assign({},l)),A(Ft,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!l.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":l.isoTimeStr},renderProps:u,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class nN extends Oe{constructor(){super(...arguments),this.rootElRef=_t(),this.slatElRefs=new Mr}render(){let{props:e,context:t}=this;return A("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},A("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,A(rN,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new tN(new di(this.rootElRef.current,sN(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function sN(r,e){return e.map(t=>r[t.key])}function sa(r,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(r)for(n=0;n<r.length;n+=1)t[r[n].col].push(r[n]);return t}function wv(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}class iN extends Oe{render(){let{props:e}=this;return A(B0,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>dw(e.hiddenSegs,e),defaultGenerator:aN,forceTimed:!0},t=>A(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function aN(r){return r.shortText}function lN(r,e,t){let n=new A0;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let a=n.addSegs(r),l=yA(a),c=oN(n);return c=fN(c,1),{segRects:hN(c),hiddenGroups:l}}function oN(r){const{entriesByLevel:e}=r,t=Of((n,a)=>n+":"+a,(n,a)=>{let l=dN(r,n,a),c=xv(l,t),u=e[n][a];return[Object.assign(Object.assign({},u),{nextLevelNodes:c[0]}),u.thickness+c[1]]});return xv(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function xv(r,e){if(!r)return[[],0];let{level:t,lateralStart:n,lateralEnd:a}=r,l=n,c=[];for(;l<a;)c.push(e(t,l)),l+=1;return c.sort(cN),[c.map(uN),c[0][1]]}function cN(r,e){return e[1]-r[1]}function uN(r){return r[0]}function dN(r,e,t){let{levelCoords:n,entriesByLevel:a}=r,l=a[e][t],c=n[e]+l.thickness,u=n.length,f=e;for(;f<u&&n[f]<c;f+=1);for(;f<u;f+=1){let g=a[f],m,y=Hd(g,l.span.start,Fd),x=y[0]+y[1],w=x;for(;(m=g[w])&&m.span.start<l.span.end;)w+=1;if(x<w)return{level:f,lateralStart:x,lateralEnd:w}}return null}function fN(r,e){const t=Of((n,a,l)=>ts(n),(n,a,l)=>{let{nextLevelNodes:c,thickness:u}=n,f=u+l,g=u/f,m,y=[];if(!c.length)m=e;else for(let w of c)if(m===void 0){let _=t(w,a,f);m=_[0],y.push(_[1])}else{let _=t(w,m,0);y.push(_[1])}let x=(m-a)*g;return[m-x,Object.assign(Object.assign({},n),{thickness:x,nextLevelNodes:y})]});return r.map(n=>t(n,0,0)[1])}function hN(r){let e=[];const t=Of((a,l,c)=>ts(a),(a,l,c)=>{let u=Object.assign(Object.assign({},a),{levelCoord:l,stackDepth:c,stackForward:0});return e.push(u),u.stackForward=n(a.nextLevelNodes,l+a.thickness,c+1)+1});function n(a,l,c){let u=0;for(let f of a)u=Math.max(t(f,l,c),u);return u}return n(r,0,0),e}function Of(r,e){const t={};return(...n)=>{let a=r(...n);return a in t?t[a]:t[a]=e(...n)}}function bv(r,e,t=null,n=0){let a=[];if(t)for(let l=0;l<r.length;l+=1){let c=r[l],u=t.computeDateTop(c.start,e),f=Math.max(u+(n||0),t.computeDateTop(c.end,e));a.push({start:Math.round(u),end:Math.round(f)})}return a}function pN(r,e,t,n){let a=[],l=[];for(let g=0;g<r.length;g+=1){let m=e[g];m?a.push({index:g,thickness:1,span:m}):l.push(r[g])}let{segRects:c,hiddenGroups:u}=lN(a,t,n),f=[];for(let g of c)f.push({seg:r[g.index],rect:g});for(let g of l)f.push({seg:g,rect:null});return{segPlacements:f,hiddenGroups:u}}const gN=Qe({hour:"numeric",minute:"2-digit",meridiem:!1});class uw extends Oe{render(){return A(Nf,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:gN}))}}class mN extends Oe{constructor(){super(...arguments),this.sortEventSegs=ve(m0)}render(){let{props:e,context:t}=this,{options:n}=t,a=n.selectMirror,l=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],c=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},u=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return A(jf,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},f=>A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(u,c,!1,!1,!1)),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,{},!!e.eventDrag,!!e.eventResize,!!a,"mirror")),A("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Mf(n)&&A(f,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,a,l,c){let{props:u}=this;return u.forPrint?dw(e,u):this.renderPositionedFgSegs(e,t,n,a,l,c)}renderPositionedFgSegs(e,t,n,a,l,c){let{eventMaxStack:u,eventShortHeight:f,eventOrderStrict:g,eventMinHeight:m}=this.context.options,{date:y,slatCoords:x,eventSelection:w,todayRange:_,nowDate:E}=this.props,S=n||a||l,D=bv(e,y,x,m),{segPlacements:P,hiddenGroups:N}=pN(e,D,g,u);return A(ze,null,this.renderHiddenGroups(N,e),P.map(C=>{let{seg:z,rect:F}=C,W=z.eventRange.instance.instanceId,I=S||!!(!t[W]&&F),ie=hd(F&&F.span),ue=!S&&F?this.computeSegHStyle(F):{left:0,right:0},J=!!F&&F.stackForward>0,he=!!F&&F.span.end-F.span.start<f;return A("div",{className:"fc-timegrid-event-harness"+(J?" fc-timegrid-event-harness-inset":""),key:c||W,style:Object.assign(Object.assign({visibility:I?"":"hidden"},ie),ue)},A(uw,Object.assign({seg:z,isDragging:n,isResizing:a,isDateSelecting:l,isSelected:W===w,isShort:he},bn(z,_,E))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:a,todayRange:l,nowDate:c,eventSelection:u,eventDrag:f,eventResize:g}=this.props;return A(ze,null,e.map(m=>{let y=hd(m.span),x=vN(m.entries,t);return A(iN,{key:Qy($0(x)),hiddenSegs:x,top:y.top,bottom:y.bottom,extraDateSpan:n,dateProfile:a,todayRange:l,nowDate:c,eventSelection:u,eventDrag:f,eventResize:g})}))}renderFillSegs(e,t){let{props:n,context:a}=this,c=bv(e,n.date,n.slatCoords,a.options.eventMinHeight).map((u,f)=>{let g=e[f];return A("div",{key:y0(g.eventRange),className:"fc-timegrid-bg-harness",style:hd(u)},t==="bg-event"?A(F0,Object.assign({seg:g},bn(g,n.todayRange,n.nowDate))):H0(t))});return A(ze,null,c)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((a,l)=>A(Rf,{key:l,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(a.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,a=n.slotEventOverlap,l=e.levelCoord,c=e.levelCoord+e.thickness,u,f;a&&(c=Math.min(1,l+(c-l)*2)),t?(u=1-c,f=l):(u=l,f=1-c);let g={zIndex:e.stackDepth+1,left:u*100+"%",right:f*100+"%"};return a&&!e.stackForward&&(g[t?"marginLeft":"marginRight"]=10*2),g}}function dw(r,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:a,eventResize:l}){let c=(a?a.affectedInstances:null)||(l?l.affectedInstances:null)||{};return A(ze,null,r.map(u=>{let f=u.eventRange.instance.instanceId;return A("div",{key:f,style:{visibility:c[f]?"hidden":""}},A(uw,Object.assign({seg:u,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:f===n,isShort:!1},bn(u,e,t))))}))}function hd(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}function vN(r,e){return r.map(t=>e[t.index])}class yN extends Oe{constructor(){super(...arguments),this.splitFgEventSegs=ve(sa),this.splitBgEventSegs=ve(sa),this.splitBusinessHourSegs=ve(sa),this.splitNowIndicatorSegs=ve(sa),this.splitDateSelectionSegs=ve(sa),this.splitEventDrag=ve(wv),this.splitEventResize=ve(wv),this.rootElRef=_t(),this.cellElRefs=new Mr}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),a=e.cells.length,l=this.splitFgEventSegs(e.fgEventSegs,a),c=this.splitBgEventSegs(e.bgEventSegs,a),u=this.splitBusinessHourSegs(e.businessHourSegs,a),f=this.splitNowIndicatorSegs(e.nowIndicatorSegs,a),g=this.splitDateSelectionSegs(e.dateSelectionSegs,a),m=this.splitEventDrag(e.eventDrag,a),y=this.splitEventResize(e.eventResize,a);return A("div",{className:"fc-timegrid-cols",ref:this.rootElRef},A("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,A("tbody",{role:"presentation"},A("tr",{role:"row"},e.axis&&A("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&A(Rf,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((x,w)=>A(mN,{key:x.key,elRef:this.cellElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,fgEventSegs:l[w],bgEventSegs:c[w],businessHourSegs:u[w],nowIndicatorSegs:f[w],dateSelectionSegs:g[w],eventDrag:m[w],eventResize:y[w],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new di(this.rootElRef.current,wN(this.cellElRefs.currentMap,e.cells),!0,!1))}}function wN(r,e){return e.map(t=>r[t.key])}class xN extends yr{constructor(){super(...arguments),this.processSlotOptions=ve(bN),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let a=n.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),t(a)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return A("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A(nN,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),A(yN,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:a}=this.context,{colCoords:l}=this,{dateProfile:c}=this.props,{slatCoords:u}=this.state,{snapDuration:f,snapsPerSlot:g}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),m=l.leftToIndex(e),y=u.positions.topToIndex(t);if(m!=null&&y!=null){let x=this.props.cells[m],w=u.positions.tops[y],_=u.positions.getHeight(y),E=(t-w)/_,S=Math.floor(E*g),D=y*g+S,P=this.props.cells[m].date,N=Md(c.slotMinTime,lk(f,D)),C=n.add(P,N),z=n.add(C,f);return{dateProfile:c,dateSpan:Object.assign({range:{start:C,end:z},allDay:!1},x.extraDateSpan),dayEl:l.els[m],rect:{left:l.lefts[m],right:l.rights[m],top:w,bottom:w+_},layer:0}}return null}}function bN(r,e){let t=e||r,n=of(r,t);return n===null&&(t=r,n=1),{snapDuration:t,snapsPerSlot:n}}class SN extends M0{sliceRange(e,t){let n=[];for(let a=0;a<t.length;a+=1){let l=ns(e,t[a]);l&&n.push({start:l.start,end:l.end,isStart:l.start.valueOf()===e.start.valueOf(),isEnd:l.end.valueOf()===e.end.valueOf(),col:a})}return n}}class _N extends yr{constructor(){super(...arguments),this.buildDayRanges=ve(EN),this.slicer=new SN,this.timeColsRef=_t()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:a}=e,{nowIndicator:l,nextDayThreshold:c}=t.options,u=this.buildDayRanges(a,n,t.dateEnv);return A(gi,{unit:l?"minute":"day"},(f,g)=>A(xN,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,u),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:a.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:f,nowIndicatorSegs:l&&this.slicer.sliceNowDate(f,n,c,t,u),todayRange:g,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function EN(r,e,t){let n=[];for(let a of r.headerDates)n.push({start:t.add(a,e.slotMinTime),end:t.add(a,e.slotMaxTime)});return n}const Sv=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function kN(r,e,t,n,a){let l=new Date(0),c=r,u=De(0),f=t||CN(n),g=[];for(;ir(c)<ir(e);){let m=a.add(l,c),y=of(u,f)!==null;g.push({date:m,time:c,key:m.toISOString(),isoTimeStr:_k(m),isLabeled:y}),c=Md(c,n),u=Md(u,n)}return g}function CN(r){let e,t,n;for(e=Sv.length-1;e>=0;e-=1)if(t=De(Sv[e]),n=of(t,r),n!==null&&n>1)return t;return r}class AN extends XT{constructor(){super(...arguments),this.buildTimeColsModel=ve(DN),this.buildSlatMetas=ve(kN)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:a}=this,{dateProfile:l}=a,c=this.buildTimeColsModel(l,n),u=this.allDaySplitter.splitProps(a),f=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:g}=e,m=!g,y=g,x=e.dayHeaders&&A(N0,{dates:c.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:m?this.renderHeadAxis:null}),w=e.allDaySlot!==!1&&(E=>A(ow,Object.assign({},u.allDay,{dateProfile:l,dayTableModel:c,nextDayThreshold:e.nextDayThreshold,tableMinWidth:E.tableMinWidth,colGroupNode:E.tableColGroupNode,renderRowIntro:m?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:E.clientWidth,clientHeight:E.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),_=E=>A(_N,Object.assign({},u.timed,{dayTableModel:c,dateProfile:l,axis:m,slotDuration:e.slotDuration,slatMetas:f,forPrint:a.forPrint,tableColGroupNode:E.tableColGroupNode,tableMinWidth:E.tableMinWidth,clientWidth:E.clientWidth,clientHeight:E.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:E.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return y?this.renderHScrollLayout(x,w,_,c.colCnt,g,f,this.state.slatCoords):this.renderSimpleLayout(x,w,_)}}function DN(r,e){let t=new R0(r.renderRange,e);return new j0(t,!1)}var TN='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';rf(TN);const NN={allDaySlot:Boolean};var RN=Ur({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:NN,views:{timeGrid:{component:AN,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Af.touchMouseIgnoreWait=500;let $d=0,No=0,Wd=!1;class fw{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&jN(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,MN()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:a,deltaX:n-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new zo,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),IN()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),ON()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||vt(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Wd=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?vt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $d||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Wd=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:a}}createEventFromTouch(e,t){let n=e.touches,a,l,c=0,u=0;return n&&n.length?(a=n[0].pageX,l=n[0].pageY):(a=e.pageX,l=e.pageY),t?(this.origPageX=a,this.origPageY=l):(c=a-this.origPageX,u=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:c,deltaY:u}}}function jN(r){return r.button===0&&!r.ctrlKey}function MN(){$d+=1,setTimeout(()=>{$d-=1},Af.touchMouseIgnoreWait)}function IN(){No+=1,No===1&&window.addEventListener("touchmove",hw,{passive:!1})}function ON(){No-=1,No||window.removeEventListener("touchmove",hw,{passive:!1})}function hw(r){Wd&&r.preventDefault()}class PN{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",ua(n,{left:a.left,top:a.top}),q1(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(sf(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ua(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),ua(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class pw extends kf{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class gw extends pw{constructor(e,t){super(new mA(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return pA(this.scrollController.el)}}class LN extends pw{constructor(e){super(new vA,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const _v=typeof performance=="function"?performance.now:Date.now;class UN{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=_v();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,a=t-window.scrollY,l=this.pointerScreenY===null?0:a-this.pointerScreenY,c=this.pointerScreenX===null?0:n-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_v()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:a}=this,l=a-e.distance,c=l*l/(a*a)*this.maxVelocity*t,u=1;switch(e.name){case"left":u=-1;case"right":n.setScrollLeft(n.getScrollLeft()+c*u);break;case"top":u=-1;case"bottom":n.setScrollTop(n.getScrollTop()+c*u);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,a=null,l=this.scrollCaches||[];for(let c of l){let u=c.clientRect,f=e-u.left,g=u.right-e,m=t-u.top,y=u.bottom-t;f>=0&&g>=0&&m>=0&&y>=0&&(m<=n&&this.everMovedUp&&c.canScrollUp()&&(!a||a.distance>m)&&(a={scrollCache:c,name:"top",distance:m}),y<=n&&this.everMovedDown&&c.canScrollDown()&&(!a||a.distance>y)&&(a={scrollCache:c,name:"bottom",distance:y}),f<=n&&this.everMovedLeft&&c.canScrollLeft()&&(!a||a.distance>f)&&(a={scrollCache:c,name:"left",distance:f}),g<=n&&this.everMovedRight&&c.canScrollRight()&&(!a||a.distance>g)&&(a={scrollCache:c,name:"right",distance:g}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new LN(!1):new gw(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class Da extends xA{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,G1(document.body),Q1(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let l=this.minDistance,c,{deltaX:u,deltaY:f}=a;c=u*u+f*f,c>=l*l&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,Y1(document.body),K1(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new fw(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new PN,this.autoScroller=new UN}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class FN{constructor(e){this.el=e,this.origRect=Ef(e),this.scrollCaches=C0(e).map(t=>new gw(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let a of this.scrollCaches)if(!HN(a.getEventTarget())&&!tA(n,a.clientRect))return!1;return!0}}function HN(r){let e=r.tagName;return e==="HTML"||e==="BODY"}class Bo{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):a.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new zo}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,a=e.subjectEl,l;a instanceof HTMLElement&&(l=Ef(a),n=rA(n,l));let c=this.initialHit=this.queryHitForOffset(n.left,n.top);if(c){if(this.useSubjectCenter&&l){let u=_0(l,c.rect);u&&(n=nA(u))}this.coordAdjust=sA(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!$o(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=Pr(this.droppableStore,e=>(e.component.prepareHits(),new FN(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:a}=this,l=null;for(let c in n){let u=n[c].component,f=a[c];if(f&&f.isWithinClipping(e,t)){let g=f.computeLeft(),m=f.computeTop(),y=e-g,x=t-m,{origRect:w}=f,_=w.right-w.left,E=w.bottom-w.top;if(y>=0&&y<_&&x>=0&&x<E){let S=u.queryHit(y,x,_,E);S&&Fo(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||f.el.contains(f.el.getRootNode().elementFromPoint(y+g-window.scrollX,x+m-window.scrollY)))&&(!l||S.layer>l.layer)&&(S.componentId=c,S.context=u.context,S.rect.left+=g,S.rect.right+=g,S.rect.top+=m,S.rect.bottom+=m,l=S)}}}return l}}function $o(r,e){return!r&&!e?!0:!!r!=!!e?!1:WC(r.dateSpan,e.dateSpan)}function mw(r,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(r,e));return Object.assign(t,zN(r,e.dateEnv)),t}function zN(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}class BN extends pi{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:a}=this,l=n.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(l))},this.handleDragEnd=n=>{let{component:a}=this,{pointer:l}=this.dragging;if(!l.wasTouchScroll){let{initialHit:c,finalHit:u}=this.hitDragging;if(c&&u&&$o(c,u)){let{context:f}=a,g=Object.assign(Object.assign({},mw(c.dateSpan,f)),{dayEl:c.dayEl,jsEvent:n.origEvent,view:f.viewApi||f.calendarApi.view});f.emitter.trigger("dateClick",g)}}},this.dragging=new Da(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Bo(this.dragging,Sf(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class $N extends pi{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=c=>{let{component:u,dragging:f}=this,{options:g}=u.context,m=g.selectable&&u.isValidDateDownEl(c.origEvent.target);f.setIgnoreMove(!m),f.delay=c.isTouch?WN(u):null},this.handleDragStart=c=>{this.component.context.calendarApi.unselect(c)},this.handleHitUpdate=(c,u)=>{let{context:f}=this.component,g=null,m=!1;if(c){let y=this.hitDragging.initialHit;c.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,c)||(g=VN(y,c,f.pluginHooks.dateSelectionTransformers)),(!g||!CA(g,c.dateProfile,f))&&(m=!0,g=null)}g?f.dispatch({type:"SELECT_DATES",selection:g}):u||f.dispatch({type:"UNSELECT_DATES"}),m?af():lf(),u||(this.dragSelection=g)},this.handlePointerUp=c=>{this.dragSelection&&(h0(this.dragSelection,c,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,a=this.dragging=new Da(e.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;let l=this.hitDragging=new Bo(this.dragging,Sf(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function WN(r){let{options:e}=r.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function VN(r,e,t){let n=r.dateSpan,a=e.dateSpan,l=[n.range.start,n.range.end,a.range.start,a.range.end];l.sort(tk);let c={};for(let u of t){let f=u(r,e);if(f===!1)return null;f&&Object.assign(c,f)}return c.range={start:l[0],end:l[3]},c.allDay=n.allDay,c}class Ta extends pi{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let u=c.origEvent.target,{component:f,dragging:g}=this,{mirror:m}=g,{options:y}=f.context,x=f.context;this.subjectEl=c.subjectEl;let w=this.subjectSeg=ui(c.subjectEl),E=(this.eventRange=w.eventRange).instance.instanceId;this.relevantEvents=yf(x.getCurrentData().eventStore,E),g.minDistance=c.isTouch?0:y.eventDragMinDistance,g.delay=c.isTouch&&E!==f.props.eventSelection?GN(f):null,y.fixedMirrorParent?m.parentNode=y.fixedMirrorParent:m.parentNode=vt(u,".fc"),m.revertDuration=y.dragRevertDuration;let S=f.isValidSegDownEl(u)&&!vt(u,".fc-event-resizer");g.setIgnoreMove(!S),this.isDragging=S&&c.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=c=>{let u=this.component.context,f=this.eventRange,g=f.instance.instanceId;c.isTouch?g!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(c),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new qe(u,f.def,f.instance),jsEvent:c.origEvent,view:u.viewApi}))},this.handleHitUpdate=(c,u)=>{if(!this.isDragging)return;let f=this.relevantEvents,g=this.hitDragging.initialHit,m=this.component.context,y=null,x=null,w=null,_=!1,E={affectedEvents:f,mutatedEvents:Ut(),isEvent:!0};if(c){y=c.context;let S=y.options;m===y||S.editable&&S.droppable?(x=qN(g,c,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),x&&(w=bf(f,y.getCurrentData().eventUiBases,x,y),E.mutatedEvents=w,I0(E,c.dateProfile,y)||(_=!0,x=null,w=null,E.mutatedEvents=Ut()))):y=null}this.displayDrag(y,E),_?af():lf(),u||(m===y&&$o(g,c)&&(x=null),this.dragging.setMirrorNeedsRevert(!x),this.dragging.setMirrorIsVisible(!c||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=x,this.mutatedRelevantEvents=w)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=c=>{if(this.isDragging){let u=this.component.context,f=u.viewApi,{receivingContext:g,validMutation:m}=this,y=this.eventRange.def,x=this.eventRange.instance,w=new qe(u,y,x),_=this.relevantEvents,E=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:w,jsEvent:c.origEvent,view:f}),m){if(g===u){let D=new qe(u,E.defs[y.defId],x?E.instances[x.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:E});let P={oldEvent:w,event:D,relatedEvents:es(E,u,x),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:_})}},N={};for(let C of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(N,C(m,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},P),N),{el:c.subjectEl,delta:m.datesDelta,jsEvent:c.origEvent,view:f})),u.emitter.trigger("eventChange",P)}else if(g){let D={event:w,relatedEvents:es(_,u,x),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:_})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},D),{draggedEl:c.subjectEl,view:f})),u.dispatch({type:"REMOVE_EVENTS",eventStore:_}),u.emitter.trigger("eventRemove",D);let P=E.defs[y.defId],N=E.instances[x.instanceId],C=new qe(g,P,N);g.dispatch({type:"MERGE_EVENTS",eventStore:E});let z={event:C,relatedEvents:es(E,g,N),revert(){g.dispatch({type:"REMOVE_EVENTS",eventStore:E})}};g.emitter.trigger("eventAdd",z),c.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:x.instanceId}),g.emitter.trigger("drop",Object.assign(Object.assign({},mw(S.dateSpan,g)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:S.context.viewApi})),g.emitter.trigger("eventReceive",Object.assign(Object.assign({},z),{draggedEl:c.subjectEl,view:S.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,a=this.dragging=new Da(e.el);a.pointer.selector=Ta.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;let l=this.hitDragging=new Bo(this.dragging,Ud);l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,a=this.receivingContext;a&&a!==e&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Ut(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ta.SELECTOR=".fc-event-draggable, .fc-event-resizable";function qN(r,e,t,n){let a=r.dateSpan,l=e.dateSpan,c=a.range.start,u=l.range.start,f={};a.allDay!==l.allDay&&(f.allDay=l.allDay,f.hasEnd=e.context.options.allDayMaintainDuration,l.allDay?c=Be(t):c=t);let g=Ks(c,u,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);g.milliseconds&&(f.allDay=!1);let m={datesDelta:g,standardProps:f};for(let y of n)y(m,r,e);return m}function GN(r){let{options:e}=r.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class YN extends pi{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let{component:c}=this,u=this.querySegEl(l),f=ui(u),g=this.eventRange=f.eventRange;this.dragging.minDistance=c.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&this.component.props.eventSelection!==g.instance.instanceId)},this.handleDragStart=l=>{let{context:c}=this.component,u=this.eventRange;this.relevantEvents=yf(c.getCurrentData().eventStore,this.eventRange.instance.instanceId);let f=this.querySegEl(l);this.draggingSegEl=f,this.draggingSeg=ui(f),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:f,event:new qe(c,u.def,u.instance),jsEvent:l.origEvent,view:c.viewApi})},this.handleHitUpdate=(l,c,u)=>{let{context:f}=this.component,g=this.relevantEvents,m=this.hitDragging.initialHit,y=this.eventRange.instance,x=null,w=null,_=!1,E={affectedEvents:g,mutatedEvents:Ut(),isEvent:!0};l&&(l.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,l)||(x=QN(m,l,u.subjectEl.classList.contains("fc-event-resizer-start"),y.range))),x&&(w=bf(g,f.getCurrentData().eventUiBases,x,f),E.mutatedEvents=w,I0(E,l.dateProfile,f)||(_=!0,x=null,w=null,E.mutatedEvents=null)),w?f.dispatch({type:"SET_EVENT_RESIZE",state:E}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),_?af():lf(),c||(x&&$o(m,l)&&(x=null),this.validMutation=x,this.mutatedRelevantEvents=w)},this.handleDragEnd=l=>{let{context:c}=this.component,u=this.eventRange.def,f=this.eventRange.instance,g=new qe(c,u,f),m=this.relevantEvents,y=this.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:g,jsEvent:l.origEvent,view:c.viewApi}),this.validMutation){let x=new qe(c,y.defs[u.defId],f?y.instances[f.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:y});let w={oldEvent:g,event:x,relatedEvents:es(y,c,f),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:m})}};c.emitter.trigger("eventResize",Object.assign(Object.assign({},w),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||De(0),endDelta:this.validMutation.endDelta||De(0),jsEvent:l.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",w)}else c.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new Da(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new Bo(this.dragging,Sf(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return vt(e.subjectEl,".fc-event")}}function QN(r,e,t,n){let a=r.context.dateEnv,l=r.dateSpan.range.start,c=e.dateSpan.range.start,u=Ks(l,c,a,r.largeUnit);if(t){if(a.add(n.start,u)<n.end)return{startDelta:u}}else if(a.add(n.end,u)>n.start)return{endDelta:u};return null}class KN{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let a=this.context.options.unselectCancel,l=Wy(n.origEvent);this.matchesCancel=!!vt(l,a),this.matchesEvent=!!vt(l,Ta.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:a}=this,{documentPointer:l}=this,c=a.getCurrentData();if(!l.wasTouchScroll){if(c.dateSelection&&!this.isRecentPointerDateSelect){let u=a.options.unselectAuto;u&&(!u||!this.matchesCancel)&&a.calendarApi.unselect(n)}c.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new fw(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ZN={fixedMirrorParent:U},JN={dateClick:U,eventDragStart:U,eventDragStop:U,eventDrop:U,eventResizeStart:U,eventResizeStop:U,eventResize:U,drop:U,eventReceive:U,eventLeave:U};Af.dataAttrPrefix="";var XN=Ur({name:"@fullcalendar/interaction",componentInteractions:[BN,$N,Ta,YN],calendarInteractions:[KN],elementDraggingImpl:Da,optionRefiners:ZN,listenerRefiners:JN}),lo={exports:{}},eR=lo.exports,Ev;function tR(){return Ev||(Ev=1,function(r,e){(function(t,n){r.exports=n()})(eR,function(){var t=1e3,n=6e4,a=36e5,l="millisecond",c="second",u="minute",f="hour",g="day",m="week",y="month",x="quarter",w="year",_="date",E="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var ee=["th","st","nd","rd"],X=ae%100;return"["+ae+(ee[(X-20)%10]||ee[X]||ee[0])+"]"}},N=function(ae,ee,X){var te=String(ae);return!te||te.length>=ee?ae:""+Array(ee+1-te.length).join(X)+ae},C={s:N,z:function(ae){var ee=-ae.utcOffset(),X=Math.abs(ee),te=Math.floor(X/60),H=X%60;return(ee<=0?"+":"-")+N(te,2,"0")+":"+N(H,2,"0")},m:function ae(ee,X){if(ee.date()<X.date())return-ae(X,ee);var te=12*(X.year()-ee.year())+(X.month()-ee.month()),H=ee.clone().add(te,y),K=X-H<0,q=ee.clone().add(te+(K?-1:1),y);return+(-(te+(X-H)/(K?H-q:q-H))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:y,y:w,w:m,d:g,D:_,h:f,m:u,s:c,ms:l,Q:x}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},z="en",F={};F[z]=P;var W="$isDayjsObject",I=function(ae){return ae instanceof he||!(!ae||!ae[W])},ie=function ae(ee,X,te){var H;if(!ee)return z;if(typeof ee=="string"){var K=ee.toLowerCase();F[K]&&(H=K),X&&(F[K]=X,H=K);var q=ee.split("-");if(!H&&q.length>1)return ae(q[0])}else{var R=ee.name;F[R]=ee,H=R}return!te&&H&&(z=H),H||!te&&z},ue=function(ae,ee){if(I(ae))return ae.clone();var X=typeof ee=="object"?ee:{};return X.date=ae,X.args=arguments,new he(X)},J=C;J.l=ie,J.i=I,J.w=function(ae,ee){return ue(ae,{locale:ee.$L,utc:ee.$u,x:ee.$x,$offset:ee.$offset})};var he=function(){function ae(X){this.$L=ie(X.locale,null,!0),this.parse(X),this.$x=this.$x||X.x||{},this[W]=!0}var ee=ae.prototype;return ee.parse=function(X){this.$d=function(te){var H=te.date,K=te.utc;if(H===null)return new Date(NaN);if(J.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var q=H.match(S);if(q){var R=q[2]-1||0,B=(q[7]||"0").substring(0,3);return K?new Date(Date.UTC(q[1],R,q[3]||1,q[4]||0,q[5]||0,q[6]||0,B)):new Date(q[1],R,q[3]||1,q[4]||0,q[5]||0,q[6]||0,B)}}return new Date(H)}(X),this.init()},ee.init=function(){var X=this.$d;this.$y=X.getFullYear(),this.$M=X.getMonth(),this.$D=X.getDate(),this.$W=X.getDay(),this.$H=X.getHours(),this.$m=X.getMinutes(),this.$s=X.getSeconds(),this.$ms=X.getMilliseconds()},ee.$utils=function(){return J},ee.isValid=function(){return this.$d.toString()!==E},ee.isSame=function(X,te){var H=ue(X);return this.startOf(te)<=H&&H<=this.endOf(te)},ee.isAfter=function(X,te){return ue(X)<this.startOf(te)},ee.isBefore=function(X,te){return this.endOf(te)<ue(X)},ee.$g=function(X,te,H){return J.u(X)?this[te]:this.set(H,X)},ee.unix=function(){return Math.floor(this.valueOf()/1e3)},ee.valueOf=function(){return this.$d.getTime()},ee.startOf=function(X,te){var H=this,K=!!J.u(te)||te,q=J.p(X),R=function(je,Ue){var jt=J.w(H.$u?Date.UTC(H.$y,Ue,je):new Date(H.$y,Ue,je),H);return K?jt:jt.endOf(g)},B=function(je,Ue){return J.w(H.toDate()[je].apply(H.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Ue)),H)},de=this.$W,fe=this.$M,we=this.$D,_e="set"+(this.$u?"UTC":"");switch(q){case w:return K?R(1,0):R(31,11);case y:return K?R(1,fe):R(0,fe+1);case m:var Te=this.$locale().weekStart||0,Ae=(de<Te?de+7:de)-Te;return R(K?we-Ae:we+(6-Ae),fe);case g:case _:return B(_e+"Hours",0);case f:return B(_e+"Minutes",1);case u:return B(_e+"Seconds",2);case c:return B(_e+"Milliseconds",3);default:return this.clone()}},ee.endOf=function(X){return this.startOf(X,!1)},ee.$set=function(X,te){var H,K=J.p(X),q="set"+(this.$u?"UTC":""),R=(H={},H[g]=q+"Date",H[_]=q+"Date",H[y]=q+"Month",H[w]=q+"FullYear",H[f]=q+"Hours",H[u]=q+"Minutes",H[c]=q+"Seconds",H[l]=q+"Milliseconds",H)[K],B=K===g?this.$D+(te-this.$W):te;if(K===y||K===w){var de=this.clone().set(_,1);de.$d[R](B),de.init(),this.$d=de.set(_,Math.min(this.$D,de.daysInMonth())).$d}else R&&this.$d[R](B);return this.init(),this},ee.set=function(X,te){return this.clone().$set(X,te)},ee.get=function(X){return this[J.p(X)]()},ee.add=function(X,te){var H,K=this;X=Number(X);var q=J.p(te),R=function(fe){var we=ue(K);return J.w(we.date(we.date()+Math.round(fe*X)),K)};if(q===y)return this.set(y,this.$M+X);if(q===w)return this.set(w,this.$y+X);if(q===g)return R(1);if(q===m)return R(7);var B=(H={},H[u]=n,H[f]=a,H[c]=t,H)[q]||1,de=this.$d.getTime()+X*B;return J.w(de,this)},ee.subtract=function(X,te){return this.add(-1*X,te)},ee.format=function(X){var te=this,H=this.$locale();if(!this.isValid())return H.invalidDate||E;var K=X||"YYYY-MM-DDTHH:mm:ssZ",q=J.z(this),R=this.$H,B=this.$m,de=this.$M,fe=H.weekdays,we=H.months,_e=H.meridiem,Te=function(Ue,jt,Fr,wr){return Ue&&(Ue[jt]||Ue(te,K))||Fr[jt].slice(0,wr)},Ae=function(Ue){return J.s(R%12||12,Ue,"0")},je=_e||function(Ue,jt,Fr){var wr=Ue<12?"AM":"PM";return Fr?wr.toLowerCase():wr};return K.replace(D,function(Ue,jt){return jt||function(Fr){switch(Fr){case"YY":return String(te.$y).slice(-2);case"YYYY":return J.s(te.$y,4,"0");case"M":return de+1;case"MM":return J.s(de+1,2,"0");case"MMM":return Te(H.monthsShort,de,we,3);case"MMMM":return Te(we,de);case"D":return te.$D;case"DD":return J.s(te.$D,2,"0");case"d":return String(te.$W);case"dd":return Te(H.weekdaysMin,te.$W,fe,2);case"ddd":return Te(H.weekdaysShort,te.$W,fe,3);case"dddd":return fe[te.$W];case"H":return String(R);case"HH":return J.s(R,2,"0");case"h":return Ae(1);case"hh":return Ae(2);case"a":return je(R,B,!0);case"A":return je(R,B,!1);case"m":return String(B);case"mm":return J.s(B,2,"0");case"s":return String(te.$s);case"ss":return J.s(te.$s,2,"0");case"SSS":return J.s(te.$ms,3,"0");case"Z":return q}return null}(Ue)||q.replace(":","")})},ee.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ee.diff=function(X,te,H){var K,q=this,R=J.p(te),B=ue(X),de=(B.utcOffset()-this.utcOffset())*n,fe=this-B,we=function(){return J.m(q,B)};switch(R){case w:K=we()/12;break;case y:K=we();break;case x:K=we()/3;break;case m:K=(fe-de)/6048e5;break;case g:K=(fe-de)/864e5;break;case f:K=fe/a;break;case u:K=fe/n;break;case c:K=fe/t;break;default:K=fe}return H?K:J.a(K)},ee.daysInMonth=function(){return this.endOf(y).$D},ee.$locale=function(){return F[this.$L]},ee.locale=function(X,te){if(!X)return this.$L;var H=this.clone(),K=ie(X,te,!0);return K&&(H.$L=K),H},ee.clone=function(){return J.w(this.$d,this)},ee.toDate=function(){return new Date(this.valueOf())},ee.toJSON=function(){return this.isValid()?this.toISOString():null},ee.toISOString=function(){return this.$d.toISOString()},ee.toString=function(){return this.$d.toUTCString()},ae}(),Le=he.prototype;return ue.prototype=Le,[["$ms",l],["$s",c],["$m",u],["$H",f],["$W",g],["$M",y],["$y",w],["$D",_]].forEach(function(ae){Le[ae[1]]=function(ee){return this.$g(ee,ae[0],ae[1])}}),ue.extend=function(ae,ee){return ae.$i||(ae(ee,he,ue),ae.$i=!0),ue},ue.locale=ie,ue.isDayjs=I,ue.unix=function(ae){return ue(1e3*ae)},ue.en=F[z],ue.Ls=F,ue.p={},ue})}(lo)),lo.exports}var rR=tR();const Ne=Ro(rR),nR=[{value:"exercise",label:"Exercise",color:"#f59e0b"},{value:"study",label:"Study",color:"#3b82f6"},{value:"spiritual",label:"Spiritual",color:"#ec4899"},{value:"work",label:"Work",color:"#10b981"},{value:"personal",label:"Personal",color:"#6366f1"},{value:"family",label:"Family",color:"#ef4444"},{value:"hygiene",label:"Hygiene",color:"#0ea5e9"},{value:"meal",label:"Meal",color:"#65a30d"},{value:"other",label:"Other",color:"#6b7280"}],sR=[{value:"none",label:"No Repeat"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"weekdays",label:"Weekdays Only"},{value:"weekends",label:"Weekends Only"}],iR=[{value:"private",label:"Private"},{value:"family",label:"Family"},{value:"public",label:"Public"}];function aR({isOpen:r,onClose:e,onSave:t,onDelete:n,task:a,initialDate:l}){const[c,u]=$.useState({title:"",category:"other",start_time:"",end_time:"",repeat_pattern:"none",alarm:!1,visibility:"private",completed:!1});$.useEffect(()=>{if(a)u({title:a.title||"",category:a.category||"other",start_time:a.start_time?Ne(a.start_time).format("YYYY-MM-DDTHH:mm"):"",end_time:a.end_time?Ne(a.end_time).format("YYYY-MM-DDTHH:mm"):"",repeat_pattern:a.repeat_pattern||"none",alarm:a.alarm||!1,visibility:a.visibility||"private",completed:a.completed||!1});else if(l){const y=Ne(l).hour(9).minute(0).format("YYYY-MM-DDTHH:mm"),x=Ne(l).hour(10).minute(0).format("YYYY-MM-DDTHH:mm");u({title:"",category:"other",start_time:y,end_time:x,repeat_pattern:"none",alarm:!1,visibility:"private",completed:!1})}},[a,l]);const f=y=>{if(y.preventDefault(),!c.title.trim()){alert("Please enter a task title");return}if(!c.start_time){alert("Please select a start time");return}t({title:c.title.trim(),category:c.category,start_time:c.start_time,end_time:c.end_time||null,repeat_pattern:c.repeat_pattern,alarm:c.alarm,visibility:c.visibility,completed:c.completed})},g=(y,x)=>{u(w=>({...w,[y]:x}))},m=()=>{if(c.start_time){const y=Ne(c.start_time).add(1,"hour").format("YYYY-MM-DDTHH:mm");g("end_time",y)}};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-light text-gray-800",children:a?"Edit Task":"Create New Task"}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(ef,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:f,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Task Title"}),h.jsx("input",{type:"text",value:c.title,onChange:y=>g("title",y.target.value),className:"input-dreamy w-full",placeholder:"What needs to be done?",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(u1,{className:"w-4 h-4"}),"Category"]}),h.jsx("select",{value:c.category,onChange:y=>g("category",y.target.value),className:"input-dreamy w-full",children:nR.map(y=>h.jsx("option",{value:y.value,children:y.label},y.value))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(Qs,{className:"w-4 h-4"}),"Visibility"]}),h.jsx("select",{value:c.visibility,onChange:y=>g("visibility",y.target.value),className:"input-dreamy w-full",children:iR.map(y=>h.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ma,{className:"w-4 h-4"}),"Start Time"]}),h.jsx("input",{type:"datetime-local",value:c.start_time,onChange:y=>g("start_time",y.target.value),className:"input-dreamy w-full",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ma,{className:"w-4 h-4"}),"End Time",h.jsx("button",{type:"button",onClick:m,className:"text-xs text-blue-500 hover:text-blue-700 ml-2",children:"+1 hour"})]}),h.jsx("input",{type:"datetime-local",value:c.end_time,onChange:y=>g("end_time",y.target.value),className:"input-dreamy w-full"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(wy,{className:"w-4 h-4"}),"Repeat Pattern"]}),h.jsx("select",{value:c.repeat_pattern,onChange:y=>g("repeat_pattern",y.target.value),className:"input-dreamy w-full",children:sR.map(y=>h.jsx("option",{value:y.value,children:y.label},y.value))})]}),h.jsxs("div",{className:"flex flex-wrap gap-6",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:c.alarm,onChange:y=>g("alarm",y.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),h.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[h.jsx(po,{className:"w-4 h-4"}),"Set Alarm"]})]}),a&&h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:c.completed,onChange:y=>g("completed",y.target.checked),className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Mark as Completed"})]})]}),h.jsxs("div",{className:"flex justify-between pt-6",children:[h.jsx("div",{children:a&&n&&h.jsxs("button",{type:"button",onClick:n,className:"btn-dreamy text-red-600 border-red-200 hover:bg-red-50 flex items-center gap-2",children:[h.jsx(vn,{className:"w-4 h-4"}),"Delete Task"]})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:a?"Update Task":"Create Task"})]})]})]})]})})}):null}const lR=[{time:"6:30 AM – 7:00 AM",task:"Wake up, brush teeth, floss, exfoliate",category:"hygiene"},{time:"7:00 AM – 8:00 AM",task:"Jog/Exercise",category:"exercise"},{time:"8:00 AM – 8:30 AM",task:"Shower, hygiene",category:"hygiene"},{time:"8:30 AM – 9:00 AM",task:"Make/eat breakfast, grace, dishes",category:"meal"},{time:"9:00 AM – 11:00 AM",task:"Business cold calls",category:"work"},{time:"11:00 AM – 5:00 PM",task:"GED math study (6 hours)",category:"study"},{time:"5:00 PM – 6:00 PM",task:"Scripture & prayer",category:"spiritual"},{time:"6:00 PM – 7:00 PM",task:"Dinner + dishes + kitchen cleanup",category:"meal"},{time:"7:00 PM – 8:00 PM",task:"Personal development book reading",category:"personal"},{time:"8:00 PM – 9:00 PM",task:"Cooking video training",category:"personal"},{time:"9:00 PM – 9:30 PM",task:"PM hygiene",category:"hygiene"},{time:"9:30 PM – 9:45 PM",task:"Final prayer",category:"spiritual"},{time:"9:45 PM",task:"Sleep",category:"other"}],kv=r=>({exercise:"#f59e0b",study:"#3b82f6",spiritual:"#ec4899",work:"#10b981",personal:"#6366f1",hygiene:"#0ea5e9",meal:"#65a30d",other:"#6b7280"})[r]||"#6b7280";function oR({isOpen:r,onClose:e,onApply:t}){const[n,a]=$.useState(Ne().format("YYYY-MM-DD")),[l,c]=$.useState(!1),u=async()=>{c(!0);try{await t(n),e()}catch(f){console.error("Failed to apply default schedule:",f)}finally{c(!1)}};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(ma,{className:"w-6 h-6 text-blue-400"}),"Default Schedule Template"]}),h.jsx("p",{className:"text-sm text-gray-600/80 font-light mt-1",children:"Apply the complete daily routine designed for 1% better living"})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(ef,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[h.jsx(Ca,{className:"w-4 h-4"}),"Select Date to Apply Schedule"]}),h.jsx("input",{type:"date",value:n,onChange:f=>a(f.target.value),className:"input-dreamy w-full max-w-xs",min:Ne().format("YYYY-MM-DD")})]}),h.jsxs("div",{className:"space-y-4 mb-8",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[h.jsx(bm,{className:"w-5 h-5 text-green-500"}),"Schedule Overview"]}),h.jsx("div",{className:"grid gap-3",children:lR.map((f,g)=>h.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl border border-white/50 hover:bg-white/70 transition-colors",children:[h.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:kv(f.category)}}),h.jsx("div",{className:"text-sm font-medium text-gray-600 min-w-[140px]",children:f.time}),h.jsx("div",{className:"text-sm text-gray-800 flex-1",children:f.task}),h.jsx("div",{className:"text-xs px-2 py-1 rounded-full text-white font-medium capitalize",style:{backgroundColor:kv(f.category)},children:f.category})]},g))})]}),h.jsxs("div",{className:"bg-blue-50/80 rounded-xl p-4 mb-6",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Schedule Summary"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-blue-600",children:"13"}),h.jsx("div",{className:"text-blue-700",children:"Total Tasks"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-green-600",children:"15h 15m"}),h.jsx("div",{className:"text-green-700",children:"Scheduled Time"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-purple-600",children:"8"}),h.jsx("div",{className:"text-purple-700",children:"Categories"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-orange-600",children:"3"}),h.jsx("div",{className:"text-orange-700",children:"With Alarms"})]})]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("button",{onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsx("button",{onClick:u,disabled:l,className:"btn-dreamy-primary flex items-center gap-2",children:l?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),"Applying..."]}):h.jsxs(h.Fragment,{children:[h.jsx(bm,{className:"w-4 h-4"}),"Apply Schedule to ",Ne(n).format("MMM D, YYYY")]})})]})]})})}):null}function Cv(){const{user:r,profile:e}=vr(),[t,n]=$.useState([]),[a,l]=$.useState([]),[c,u]=$.useState(!0),[f,g]=$.useState(null),[m,y]=$.useState(!1),[x,w]=$.useState(!1),[_,E]=$.useState(null),[S,D]=$.useState("timeGridWeek"),P=$.useRef(null);$.useEffect(()=>{r&&N()},[r]);const N=async()=>{if(r){u(!0);try{const{data:J,error:he}=await xe.from("tasks").select("*").eq("user_id",r.id).order("start_time",{ascending:!0});if(he)throw he;l(J||[]),n(C(J||[]))}catch(J){ne.error("Failed to load tasks: "+J.message)}finally{u(!1)}}},C=J=>J.map(he=>({id:he.id,title:he.title,start:he.start_time||"",end:he.end_time||"",backgroundColor:z(he.category),borderColor:z(he.category,!0),textColor:"#374151",extendedProps:{category:he.category,completed:he.completed,assignedTo:he.assigned_to,alarm:he.alarm}})),z=(J,he=!1)=>{const Le={exercise:{bg:"#fef3c7",border:"#f59e0b"},study:{bg:"#dbeafe",border:"#3b82f6"},spiritual:{bg:"#fce7f3",border:"#ec4899"},work:{bg:"#d1fae5",border:"#10b981"},personal:{bg:"#e0e7ff",border:"#6366f1"},family:{bg:"#fed7d7",border:"#ef4444"},hygiene:{bg:"#f0f9ff",border:"#0ea5e9"},meal:{bg:"#f7fee7",border:"#65a30d"},default:{bg:"#f3f4f6",border:"#6b7280"}},ae=Le[J||"default"]||Le.default;return he?ae.border:ae.bg},F=J=>{g(J.startStr),E(null),y(!0)},W=J=>{const he=a.find(Le=>Le.id===J.event.id);he&&(E(he),g(null),y(!0))},I=async J=>{if(r)try{if(_){const{error:he}=await xe.from("tasks").update({...J,updated_at:new Date().toISOString()}).eq("id",_.id);if(he)throw he;ne.success("Task updated successfully!")}else{const{error:he}=await xe.from("tasks").insert({...J,user_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(he)throw he;ne.success("Task created successfully!")}await N(),y(!1),E(null),g(null)}catch(he){ne.error("Failed to save task: "+he.message)}},ie=async J=>{try{const{error:he}=await xe.from("tasks").delete().eq("id",J);if(he)throw he;ne.success("Task deleted successfully!"),await N(),y(!1),E(null)}catch(he){ne.error("Failed to delete task: "+he.message)}},ue=async J=>{if(!r)return;const he=[{title:"Wake up, brush teeth, floss, exfoliate",category:"hygiene",start_time:`${J}T06:30:00`,end_time:`${J}T07:00:00`,alarm:!0},{title:"Jog/Exercise",category:"exercise",start_time:`${J}T07:00:00`,end_time:`${J}T08:00:00`,alarm:!0},{title:"Shower, hygiene",category:"hygiene",start_time:`${J}T08:00:00`,end_time:`${J}T08:30:00`},{title:"Make/eat breakfast, grace, dishes",category:"meal",start_time:`${J}T08:30:00`,end_time:`${J}T09:00:00`},{title:"Business cold calls",category:"work",start_time:`${J}T09:00:00`,end_time:`${J}T11:00:00`},{title:"GED math study",category:"study",start_time:`${J}T11:00:00`,end_time:`${J}T17:00:00`},{title:"Scripture & prayer",category:"spiritual",start_time:`${J}T17:00:00`,end_time:`${J}T18:00:00`},{title:"Dinner + dishes + kitchen cleanup",category:"meal",start_time:`${J}T18:00:00`,end_time:`${J}T19:00:00`},{title:"Personal development book reading",category:"personal",start_time:`${J}T19:00:00`,end_time:`${J}T20:00:00`},{title:"Cooking video training",category:"personal",start_time:`${J}T20:00:00`,end_time:`${J}T21:00:00`},{title:"PM hygiene",category:"hygiene",start_time:`${J}T21:00:00`,end_time:`${J}T21:30:00`},{title:"Final prayer",category:"spiritual",start_time:`${J}T21:30:00`,end_time:`${J}T21:45:00`}];try{const Le=he.map(ee=>({...ee,user_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),completed:!1,visibility:"private"})),{error:ae}=await xe.from("tasks").insert(Le);if(ae)throw ae;ne.success("Default schedule applied successfully!"),await N()}catch(Le){ne.error("Failed to apply default schedule: "+Le.message)}};return c?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-300"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(Ca,{className:"w-8 h-8 text-blue-400"}),"Life Calendar"]}),h.jsxs("p",{className:"text-gray-600/80 font-light mt-1",children:["Welcome back, ",e==null?void 0:e.display_name," (",e==null?void 0:e.relationship_role,")"]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>w(!0),className:"btn-dreamy flex items-center gap-2",children:[h.jsx(ma,{className:"w-4 h-4"}),"Apply Default Schedule"]}),h.jsxs("button",{onClick:()=>{E(null),g(new Date().toISOString().split("T")[0]),y(!0)},className:"btn-dreamy-primary flex items-center gap-2",children:[h.jsx(hi,{className:"w-4 h-4"}),"Add Task"]})]})]}),h.jsx("div",{className:"card-floating p-6",children:h.jsx(X0,{ref:P,plugins:[qT,RN,XN],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:S,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:t,select:F,eventClick:W,height:"600px",slotMinTime:"06:00:00",slotMaxTime:"23:00:00",slotDuration:"00:30:00",scrollTime:"07:00:00",eventDisplay:"block",eventBackgroundColor:"transparent",eventBorderColor:"transparent",displayEventTime:!0,allDaySlot:!1})}),m&&h.jsx(aR,{isOpen:m,onClose:()=>{y(!1),E(null),g(null)},onSave:I,onDelete:_?()=>ie(_.id):void 0,task:_,initialDate:f}),x&&h.jsx(oR,{isOpen:x,onClose:()=>w(!1),onApply:ue})]})}const cR=["Better Husband","Better Wife","Better Mom","Better Dad","Better Son","Better Daughter","Better Leader","Better Student","Better Friend","Better Athlete","Better Professional","Better Human"];function uR(){const{user:r}=vr(),[e,t]=$.useState([]),[n,a]=$.useState(!0),[l,c]=$.useState(!1),[u,f]=$.useState(Ne().format("YYYY-MM-DD")),[g,m]=$.useState(null),[y,x]=$.useState({averageScore:0,totalDays:0,streak:0,completedTasks:0});$.useEffect(()=>{r&&w()},[r]);const w=async()=>{if(r){a(!0);try{const{data:S,error:D}=await xe.from("growth_logs").select("*").eq("user_id",r.id).order("date",{ascending:!1}).limit(30);if(D)throw D;t(S||[]);const P=Ne().format("YYYY-MM-DD"),N=S==null?void 0:S.find(C=>C.date===P);m(N||null),_(S||[])}catch(S){ne.error("Failed to load growth logs: "+S.message)}finally{a(!1)}}},_=S=>{var F;if(S.length===0){x({averageScore:0,totalDays:0,streak:0,completedTasks:0});return}const P=S.reduce((W,I)=>{var ie;return W+(parseFloat(((ie=I.score_1percent)==null?void 0:ie.toString())||"0")||0)},0)/S.length,N=S.reduce((W,I)=>W+(I.completed_tasks||0),0);let C=0;const z=[...S].sort((W,I)=>Ne(I.date).unix()-Ne(W.date).unix());for(const W of z)if((parseFloat(((F=W.score_1percent)==null?void 0:F.toString())||"0")||0)>=.8)C++;else break;x({averageScore:Math.round(P*100)/100,totalDays:S.length,streak:C,completedTasks:N})},E=async(S,D,P)=>{if(!r)return;const N=Ne().format("YYYY-MM-DD");try{const{data:C}=await xe.from("tasks").select("completed").eq("user_id",r.id).gte("start_time",N).lt("start_time",Ne(N).add(1,"day").format("YYYY-MM-DD")),z=(C==null?void 0:C.filter(I=>I.completed).length)||0,F=((C==null?void 0:C.length)||0)-z,W={user_id:r.id,date:N,score_1percent:S,identity_tags:D,completed_tasks:z,missed_tasks:F,notes:P||null,updated_at:new Date().toISOString()};if(g){const{error:I}=await xe.from("growth_logs").update(W).eq("id",g.id);if(I)throw I;ne.success("Progress updated successfully!")}else{const{error:I}=await xe.from("growth_logs").insert({...W,created_at:new Date().toISOString()});if(I)throw I;ne.success("Progress logged successfully!")}await w(),c(!1)}catch(C){ne.error("Failed to save progress: "+C.message)}};return n?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(xy,{className:"w-8 h-8 text-green-400"}),"1% Better Tracker"]}),h.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Track your daily progress towards becoming the best version of yourself"})]}),h.jsxs("button",{onClick:()=>c(!0),className:"btn-dreamy-primary flex items-center gap-2",children:[h.jsx(hi,{className:"w-4 h-4"}),"Log Today's Progress"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-green-500 mb-2",children:y.averageScore}),h.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-blue-500 mb-2",children:y.totalDays}),h.jsx("div",{className:"text-sm text-gray-600",children:"Days Tracked"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-orange-500 mb-2",children:y.streak}),h.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-purple-500 mb-2",children:y.completedTasks}),h.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Completed"})]})]}),g?h.jsxs("div",{className:"card-floating p-6",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(Dd,{className:"w-5 h-5 text-yellow-500"}),"Today's Progress"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-light text-green-500 mb-1",children:g.score_1percent}),h.jsx("div",{className:"text-sm text-gray-600",children:"1% Better Score"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-xl font-light text-blue-500 mb-1",children:[g.completed_tasks,"/",(g.completed_tasks||0)+(g.missed_tasks||0)]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Completed"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-gray-700 mb-1",children:"Identity Focus:"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:(g.identity_tags||[]).map((S,D)=>h.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:S},D))})]})]}),g.notes&&h.jsx("div",{className:"mt-4 p-3 bg-gray-50/80 rounded-lg",children:h.jsx("p",{className:"text-sm text-gray-700",children:g.notes})})]}):h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No progress logged today"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking your 1% better journey for today"}),h.jsx("button",{onClick:()=>c(!0),className:"btn-dreamy-primary",children:"Log Today's Progress"})]}),h.jsxs("div",{className:"card-floating p-6",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(YE,{className:"w-5 h-5 text-blue-500"}),"Recent Progress"]}),e.length>0?h.jsx("div",{className:"space-y-3",children:e.slice(0,7).map(S=>{var D,P;return h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50/80 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"text-sm font-medium text-gray-600",children:Ne(S.date).format("MMM D")}),h.jsx("div",{className:`text-lg font-medium ${(parseFloat(((D=S.score_1percent)==null?void 0:D.toString())||"0")||0)>=1?"text-green-500":(parseFloat(((P=S.score_1percent)==null?void 0:P.toString())||"0")||0)>=.5?"text-yellow-500":"text-red-500"}`,children:S.score_1percent}),h.jsxs("div",{className:"text-sm text-gray-600",children:[S.completed_tasks,"/",(S.completed_tasks||0)+(S.missed_tasks||0)," tasks"]})]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:(S.identity_tags||[]).slice(0,3).map((N,C)=>h.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:N},C))})]},S.id)})}):h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No progress logs yet. Start your 1% better journey today!"})]}),l&&h.jsx(dR,{isOpen:l,onClose:()=>c(!1),onSave:E,existingLog:g})]})}function dR({isOpen:r,onClose:e,onSave:t,existingLog:n}){var x;const[a,l]=$.useState(((x=n==null?void 0:n.score_1percent)==null?void 0:x.toString())||"1"),[c,u]=$.useState((n==null?void 0:n.identity_tags)||[]),[f,g]=$.useState((n==null?void 0:n.notes)||""),m=w=>{w.preventDefault();const _=parseFloat(a);if(isNaN(_)||_<0||_>2){ne.error("Please enter a valid score between 0 and 2");return}t(_,c,f)},y=w=>{u(_=>_.includes(w)?_.filter(E=>E!==w):[..._,w])};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-light text-gray-800",children:[n?"Update":"Log"," Today's Progress"]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:"×"})]}),h.jsxs("form",{onSubmit:m,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"1% Better Score (0-2)"}),h.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:a,onChange:w=>l(w.target.value),className:"input-dreamy w-full",placeholder:"1.0"}),h.jsx("p",{className:"text-xs text-gray-500",children:"0 = Worse than yesterday, 1 = Same as yesterday, 2 = Much better than yesterday"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Identity Focus (Select all that apply)"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:cR.map(w=>h.jsx("button",{type:"button",onClick:()=>y(w),className:`p-2 text-sm rounded-lg border transition-colors ${c.includes(w)?"bg-purple-100 border-purple-300 text-purple-700":"bg-white/50 border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:w},w))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),h.jsx("textarea",{value:f,onChange:w=>g(w.target.value),className:"input-dreamy w-full h-24 resize-none",placeholder:"What made today special? What did you learn?"})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-dreamy-primary",children:[n?"Update":"Log"," Progress"]})]})]})]})})}):null}const Ys=[{value:"personal",label:"Personal Growth",color:"bg-blue-100 text-blue-700"},{value:"family",label:"Family Love",color:"bg-pink-100 text-pink-700"},{value:"spiritual",label:"Spiritual",color:"bg-purple-100 text-purple-700"},{value:"goals",label:"Goals & Dreams",color:"bg-green-100 text-green-700"},{value:"gratitude",label:"Gratitude",color:"bg-yellow-100 text-yellow-700"}];function fR(){var P,N;const{user:r,profile:e}=vr(),[t,n]=$.useState([]),[a,l]=$.useState(!0),[c,u]=$.useState(!1),[f,g]=$.useState("all"),[m,y]=$.useState(null),[x,w]=$.useState(0);$.useEffect(()=>{r&&_()},[r,f]);const _=async()=>{if(r){l(!0);try{let C=xe.from("affirmations").select("*").eq("user_id",r.id).order("date",{ascending:!1});f!=="all"&&(C=C.eq("type",f));const{data:z,error:F}=await C;if(F)throw F;n(z||[]);const W=Ne().format("YYYY-MM-DD"),I=z==null?void 0:z.find(ie=>ie.date===W);y(I||null),E(z||[])}catch(C){ne.error("Failed to load affirmations: "+C.message)}finally{l(!1)}}},E=C=>{let z=0;const F=Ne();for(let W=0;W<30;W++){const I=F.subtract(W,"day").format("YYYY-MM-DD");if(C.some(ue=>ue.date===I&&ue.completed))z++;else if(W>0)break}w(z)},S=async(C,z,F)=>{if(!r)return;const W=Ne().format("YYYY-MM-DD");try{const I={user_id:r.id,date:W,content:C.trim(),type:z,shared_with:F?[e==null?void 0:e.family_id]:null,completed:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(m){const{error:ie}=await xe.from("affirmations").update(I).eq("id",m.id);if(ie)throw ie;ne.success("Affirmation updated successfully!")}else{const{error:ie}=await xe.from("affirmations").insert(I);if(ie)throw ie;ne.success("Affirmation saved successfully!")}await _(),u(!1)}catch(I){ne.error("Failed to save affirmation: "+I.message)}},D=async(C,z)=>{try{const{error:F}=await xe.from("affirmations").update({is_favorite:!z,updated_at:new Date().toISOString()}).eq("id",C);if(F)throw F;await _(),ne.success(z?"Removed from favorites":"Added to favorites")}catch(F){ne.error("Failed to update favorite: "+F.message)}};return a?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-400"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(va,{className:"w-8 h-8 text-pink-400"}),"Daily Affirmations"]}),h.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Speak life into your dreams and identity"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("select",{value:f,onChange:C=>g(C.target.value),className:"input-dreamy",children:[h.jsx("option",{value:"all",children:"All Types"}),Ys.map(C=>h.jsx("option",{value:C.value,children:C.label},C.value))]}),h.jsxs("button",{onClick:()=>u(!0),className:"btn-dreamy-primary flex items-center gap-2",children:[h.jsx(hi,{className:"w-4 h-4"}),m?"Update Today":"Add Today"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-pink-500 mb-2",children:x}),h.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-purple-500 mb-2",children:t.filter(C=>C.is_favorite).length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Favorites"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-blue-500 mb-2",children:t.length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total Affirmations"})]})]}),m?h.jsxs("div",{className:"card-floating p-6",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(Ca,{className:"w-5 h-5 text-pink-500"}),"Today's Affirmation"]}),h.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl p-6",children:[h.jsxs("p",{className:"text-lg text-gray-800 leading-relaxed mb-4",children:['"',m.content,'"']}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${((P=Ys.find(C=>C.value===m.type))==null?void 0:P.color)||"bg-gray-100 text-gray-700"}`,children:((N=Ys.find(C=>C.value===m.type))==null?void 0:N.label)||"Other"}),h.jsx("button",{onClick:()=>D(m.id,m.is_favorite||!1),className:`p-2 rounded-full transition-colors ${m.is_favorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,children:h.jsx(Dd,{className:`w-5 h-5 ${m.is_favorite?"fill-current":""}`})})]})]})]}):h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No affirmation for today"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Start your day with a powerful affirmation"}),h.jsx("button",{onClick:()=>u(!0),className:"btn-dreamy-primary",children:"Create Today's Affirmation"})]}),h.jsxs("div",{className:"card-floating p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Your Affirmation Journey"}),t.length>0?h.jsx("div",{className:"space-y-4",children:t.map(C=>{var z,F;return h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:Ne(C.date).format("MMM D, YYYY")}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${((z=Ys.find(W=>W.value===C.type))==null?void 0:z.color)||"bg-gray-100 text-gray-700"}`,children:((F=Ys.find(W=>W.value===C.type))==null?void 0:F.label)||"Other"}),C.shared_with&&h.jsx(o1,{className:"w-4 h-4 text-blue-500"})]}),h.jsx("button",{onClick:()=>D(C.id,C.is_favorite||!1),className:`p-1 rounded-full transition-colors ${C.is_favorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,children:h.jsx(Dd,{className:`w-4 h-4 ${C.is_favorite?"fill-current":""}`})})]}),h.jsxs("p",{className:"text-gray-800 leading-relaxed",children:['"',C.content,'"']})]},C.id)})}):h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No affirmations yet. Start your daily affirmation practice!"})]}),c&&h.jsx(hR,{isOpen:c,onClose:()=>u(!1),onSave:S,existingAffirmation:m})]})}function hR({isOpen:r,onClose:e,onSave:t,existingAffirmation:n}){const[a,l]=$.useState((n==null?void 0:n.content)||""),[c,u]=$.useState((n==null?void 0:n.type)||"personal"),[f,g]=$.useState(!!(n!=null&&n.shared_with)),m=y=>{if(y.preventDefault(),!a.trim()){ne.error("Please enter an affirmation");return}t(a,c,f)};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-light text-gray-800",children:[n?"Update":"Create"," Today's Affirmation"]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:"×"})]}),h.jsxs("form",{onSubmit:m,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Your Affirmation"}),h.jsx("textarea",{value:a,onChange:y=>l(y.target.value),className:"input-dreamy w-full h-32 resize-none",placeholder:"I am becoming the best version of myself every day...",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),h.jsx("select",{value:c,onChange:y=>u(y.target.value),className:"input-dreamy w-full",children:Ys.map(y=>h.jsx("option",{value:y.value,children:y.label},y.value))})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"checkbox",id:"shareWithFamily",checked:f,onChange:y=>g(y.target.checked),className:"rounded border-gray-300 text-pink-500 focus:ring-pink-500"}),h.jsx("label",{htmlFor:"shareWithFamily",className:"text-sm text-gray-700",children:"Share with family"})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-dreamy-primary",children:[n?"Update":"Save"," Affirmation"]})]})]})]})})}):null}function pR(){var P,N;const{user:r,profile:e}=vr(),[t,n]=$.useState(null),[a,l]=$.useState([]),[c,u]=$.useState(!0),[f,g]=$.useState(!1),[m,y]=$.useState(!1);$.useEffect(()=>{r&&e&&x()},[r,e]);const x=async()=>{if(!(e!=null&&e.family_id)){u(!1);return}u(!0);try{const{data:C,error:z}=await xe.from("family_groups").select("*").eq("id",e.family_id).maybeSingle();if(z)throw z;n(C);const{data:F,error:W}=await xe.from("users").select("*").eq("family_id",e.family_id).order("created_at",{ascending:!0});if(W)throw W;l(F||[])}catch(C){ne.error("Failed to load family data: "+C.message)}finally{u(!1)}},w=async C=>{if(r)try{const{data:z,error:F}=await xe.from("family_groups").insert({family_name:C,created_by:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(F)throw F;const{error:W}=await xe.from("users").update({family_id:z.id,updated_at:new Date().toISOString()}).eq("id",r.id);if(W)throw W;ne.success("Family created successfully!"),await x(),g(!1)}catch(z){ne.error("Failed to create family: "+z.message)}},_=async C=>{if(r)try{const{data:z,error:F}=await xe.from("family_groups").select("*").eq("id",C).maybeSingle();if(F)throw F;if(!z){ne.error("Family not found");return}const{error:W}=await xe.from("users").update({family_id:C,updated_at:new Date().toISOString()}).eq("id",r.id);if(W)throw W;ne.success(`Joined ${z.family_name} family!`),await x(),y(!1)}catch(z){ne.error("Failed to join family: "+z.message)}},E=async C=>{if(t)try{const F=[...t.milestones||[],C],{error:W}=await xe.from("family_groups").update({milestones:F,updated_at:new Date().toISOString()}).eq("id",t.id);if(W)throw W;ne.success("Milestone added!"),await x()}catch(z){ne.error("Failed to add milestone: "+z.message)}},S=C=>{switch(C==null?void 0:C.toLowerCase()){case"mom":case"wife":return h.jsx(va,{className:"w-5 h-5 text-pink-500"});case"dad":case"husband":return h.jsx(XE,{className:"w-5 h-5 text-blue-500"});case"son":case"daughter":return h.jsx(GE,{className:"w-5 h-5 text-yellow-500"});default:return h.jsx(Qs,{className:"w-5 h-5 text-gray-500"})}},D=C=>{switch(C==null?void 0:C.toLowerCase()){case"mom":case"wife":return"bg-pink-100 text-pink-700";case"dad":case"husband":return"bg-blue-100 text-blue-700";case"son":case"daughter":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return c?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400"})}):t?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(Qs,{className:"w-8 h-8 text-purple-400"}),t.family_name," Family"]}),h.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Growing together, 1% better every day"})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Family ID: ",h.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:t.id})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-purple-500 mb-2",children:a.length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Family Members"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-blue-500 mb-2",children:t.current_children||0}),h.jsx("div",{className:"text-sm text-gray-600",children:"Children"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-green-500 mb-2",children:((P=t.milestones)==null?void 0:P.length)||0}),h.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),h.jsxs("div",{className:"card-floating p-6 text-center",children:[h.jsx("div",{className:"text-3xl font-light text-orange-500 mb-2",children:t.planned_children||0}),h.jsx("div",{className:"text-sm text-gray-600",children:"Planned Children"})]})]}),h.jsxs("div",{className:"card-floating p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Family Members"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(C=>h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full flex items-center justify-center",children:S(C.relationship_role)}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:C.display_name}),h.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs ${D(C.relationship_role)}`,children:C.relationship_role||"Member"})]})]}),C.growth_identity&&h.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',C.growth_identity,'"']}),C.age&&h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Age: ",C.age]})]},C.id))})]}),h.jsxs("div",{className:"card-floating p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Family Milestones"}),h.jsxs("button",{onClick:()=>{const C=prompt("Enter a new family milestone:");C&&E(C)},className:"btn-dreamy flex items-center gap-2",children:[h.jsx(hi,{className:"w-4 h-4"}),"Add Milestone"]})]}),((N=t.milestones)==null?void 0:N.length)>0?h.jsx("div",{className:"space-y-3",children:t.milestones.map((C,z)=>h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50/80 rounded-lg",children:[h.jsx(wy,{className:"w-5 h-5 text-yellow-500"}),h.jsx("span",{className:"text-gray-800",children:C})]},z))}):h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No milestones yet. Add your first family milestone!"})]})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center justify-center gap-3 mb-4",children:[h.jsx(Qs,{className:"w-8 h-8 text-purple-400"}),"Family Management"]}),h.jsx("p",{className:"text-gray-600/80 font-light mb-8",children:"Connect with your family to share schedules, goals, and growth"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[h.jsxs("div",{className:"card-floating p-8 text-center",children:[h.jsx(Qs,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-3",children:"Create New Family"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Start a new family group and invite others to join"}),h.jsx("button",{onClick:()=>g(!0),className:"btn-dreamy-primary",children:"Create Family"})]}),h.jsxs("div",{className:"card-floating p-8 text-center",children:[h.jsx(va,{className:"w-12 h-12 text-pink-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-3",children:"Join Existing Family"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Enter a family ID to join an existing family group"}),h.jsx("button",{onClick:()=>y(!0),className:"btn-dreamy",children:"Join Family"})]})]}),f&&h.jsx(gR,{isOpen:f,onClose:()=>g(!1),onCreate:w}),m&&h.jsx(mR,{isOpen:m,onClose:()=>y(!1),onJoin:_})]})}function gR({isOpen:r,onClose:e,onCreate:t}){const[n,a]=$.useState(""),l=c=>{if(c.preventDefault(),!n.trim()){ne.error("Please enter a family name");return}t(n.trim())};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-2xl font-light text-gray-800 mb-6",children:"Create New Family"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Family Name"}),h.jsx("input",{type:"text",value:n,onChange:c=>a(c.target.value),className:"input-dreamy w-full",placeholder:"The Smith Family",required:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:"Create Family"})]})]})]})})}):null}function mR({isOpen:r,onClose:e,onJoin:t}){const[n,a]=$.useState(""),l=c=>{if(c.preventDefault(),!n.trim()){ne.error("Please enter a family ID");return}t(n.trim())};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-2xl font-light text-gray-800 mb-6",children:"Join Family"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Family ID"}),h.jsx("input",{type:"text",value:n,onChange:c=>a(c.target.value),className:"input-dreamy w-full font-mono",placeholder:"Enter family ID",required:!0}),h.jsx("p",{className:"text-xs text-gray-500",children:"Ask a family member for the family ID to join their group"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:"Join Family"})]})]})]})})}):null}const pd=[{id:"addresses",label:"Addresses",icon:n1,color:"text-blue-500"},{id:"vehicles",label:"Vehicles",icon:ZE,color:"text-green-500"},{id:"jobs",label:"Jobs",icon:QE,color:"text-purple-500"},{id:"businesses",label:"Businesses",icon:KE,color:"text-orange-500"},{id:"income",label:"Income Tracking",icon:gy,color:"text-emerald-500"}];function vR(){var F,W;const{user:r}=vr(),[e,t]=$.useState("addresses"),[n,a]=$.useState([]),[l,c]=$.useState([]),[u,f]=$.useState([]),[g,m]=$.useState([]),[y,x]=$.useState(!0),[w,_]=$.useState(!1),[E,S]=$.useState(null);$.useEffect(()=>{r&&D()},[r,e]);const D=async()=>{if(r){x(!0);try{switch(e){case"addresses":const{data:I,error:ie}=await xe.from("addresses").select("*").eq("user_id",r.id).order("is_primary",{ascending:!1});if(ie)throw ie;a(I||[]);break;case"vehicles":const{data:ue,error:J}=await xe.from("vehicles").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(J)throw J;c(ue||[]);break;case"jobs":const{data:he,error:Le}=await xe.from("jobs").select("*").eq("user_id",r.id).order("is_current",{ascending:!1});if(Le)throw Le;f(he||[]);break;case"businesses":const{data:ae,error:ee}=await xe.from("businesses").select("*").eq("user_id",r.id).order("is_active",{ascending:!1});if(ee)throw ee;m(ae||[]);break}}catch(I){ne.error("Failed to load data: "+I.message)}finally{x(!1)}}},P=()=>{S(null),_(!0)},N=I=>{S(I),_(!0)},C=async(I,ie)=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:ue}=await xe.from(ie).delete().eq("id",I);if(ue)throw ue;ne.success("Item deleted successfully!"),await D()}catch(ue){ne.error("Failed to delete item: "+ue.message)}},z=()=>{switch(e){case"addresses":return h.jsxs("div",{className:"space-y-4",children:[n.map(I=>h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm font-medium text-gray-800 capitalize",children:I.type}),I.is_primary&&h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Primary"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>N(I),className:"p-1 text-gray-500 hover:text-blue-500",children:h.jsx(aa,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C(I.id,"addresses"),className:"p-1 text-gray-500 hover:text-red-500",children:h.jsx(vn,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"text-sm text-gray-700",children:[h.jsx("p",{children:I.address_line_1}),I.address_line_2&&h.jsx("p",{children:I.address_line_2}),h.jsxs("p",{children:[I.city,", ",I.state," ",I.zip_code]}),h.jsx("p",{children:I.country})]})]},I.id)),n.length===0&&h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No addresses added yet."})]});case"vehicles":return h.jsxs("div",{className:"space-y-4",children:[l.map(I=>h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("h4",{className:"font-medium text-gray-800",children:[I.year," ",I.make," ",I.model]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>N(I),className:"p-1 text-gray-500 hover:text-blue-500",children:h.jsx(aa,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C(I.id,"vehicles"),className:"p-1 text-gray-500 hover:text-red-500",children:h.jsx(vn,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[I.color&&h.jsxs("p",{children:["Color: ",I.color]}),I.license_plate&&h.jsxs("p",{children:["License: ",I.license_plate]}),I.insurance_company&&h.jsxs("p",{children:["Insurance: ",I.insurance_company]}),I.registration_expiry&&h.jsxs("p",{children:["Registration Expires: ",Ne(I.registration_expiry).format("MMM D, YYYY")]})]})]},I.id)),l.length===0&&h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No vehicles added yet."})]});case"jobs":return h.jsxs("div",{className:"space-y-4",children:[u.map(I=>h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:I.position}),h.jsx("p",{className:"text-sm text-gray-600",children:I.company_name})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[I.is_current&&h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Current"}),h.jsx("button",{onClick:()=>N(I),className:"p-1 text-gray-500 hover:text-blue-500",children:h.jsx(aa,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C(I.id,"jobs"),className:"p-1 text-gray-500 hover:text-red-500",children:h.jsx(vn,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[h.jsxs("p",{children:["Type: ",I.employment_type]}),h.jsxs("p",{children:["Started: ",Ne(I.start_date).format("MMM D, YYYY")]}),I.end_date&&h.jsxs("p",{children:["Ended: ",Ne(I.end_date).format("MMM D, YYYY")]}),I.salary&&h.jsxs("p",{children:["Salary: $",I.salary.toLocaleString()]})]})]},I.id)),u.length===0&&h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No jobs added yet."})]});case"businesses":return h.jsxs("div",{className:"space-y-4",children:[g.map(I=>h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:I.business_name}),h.jsx("p",{className:"text-sm text-gray-600",children:I.business_type})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[I.is_active&&h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Active"}),h.jsx("button",{onClick:()=>N(I),className:"p-1 text-gray-500 hover:text-blue-500",children:h.jsx(aa,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C(I.id,"businesses"),className:"p-1 text-gray-500 hover:text-red-500",children:h.jsx(vn,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsxs("p",{children:["Started: ",Ne(I.start_date).format("MMM D, YYYY")]}),I.description&&h.jsx("p",{className:"mt-2",children:I.description})]})]},I.id)),g.length===0&&h.jsx("p",{className:"text-gray-600 text-center py-8",children:"No businesses added yet."})]});case"income":return h.jsxs("div",{className:"text-center py-12",children:[h.jsx(gy,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"Income Tracking"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Track your income from jobs and businesses"}),h.jsx("button",{className:"btn-dreamy-primary",children:"Coming Soon"})]});default:return null}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(my,{className:"w-8 h-8 text-orange-400"}),"Life Logistics"]}),h.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Organize your addresses, vehicles, jobs, and business information"})]}),e!=="income"&&h.jsxs("button",{onClick:P,className:"btn-dreamy-primary flex items-center gap-2",children:[h.jsx(hi,{className:"w-4 h-4"}),"Add ",(F=pd.find(I=>I.id===e))==null?void 0:F.label.slice(0,-1)]})]}),h.jsx("div",{className:"card-floating p-1",children:h.jsx("div",{className:"flex flex-wrap gap-1",children:pd.map(I=>{const ie=I.icon,ue=e===I.id;return h.jsxs("button",{onClick:()=>t(I.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${ue?"bg-white shadow-sm":"hover:bg-white/50"}`,children:[h.jsx(ie,{className:`w-4 h-4 ${ue?I.color:"text-gray-500"}`}),h.jsx("span",{className:`text-sm font-medium ${ue?"text-gray-800":"text-gray-600"}`,children:I.label})]},I.id)})})}),h.jsx("div",{className:"card-floating p-6",children:y?h.jsx("div",{className:"flex items-center justify-center h-48",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400"})}):z()}),w&&h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h2",{className:"text-xl font-medium text-gray-800 mb-4",children:[E?"Edit":"Add"," ",(W=pd.find(I=>I.id===e))==null?void 0:W.label.slice(0,-1)]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Modal content would go here..."}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>_(!1),className:"btn-dreamy",children:"Cancel"}),h.jsx("button",{className:"btn-dreamy-primary",children:"Save"})]})]})})})]})}const Vd=[{value:"trash",label:"Regular Trash",color:"bg-gray-100 text-gray-700",icon:"🗑️"},{value:"recycling",label:"Recycling",color:"bg-green-100 text-green-700",icon:"♻️"},{value:"yard_waste",label:"Yard Waste",color:"bg-brown-100 text-brown-700",icon:"🍃"},{value:"bulk",label:"Bulk Items",color:"bg-blue-100 text-blue-700",icon:"📦"},{value:"hazardous",label:"Hazardous Waste",color:"bg-red-100 text-red-700",icon:"⚠️"}],yR=[{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"custom",label:"Custom"}],vw=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}];function wR(){const{user:r}=vr(),[e,t]=$.useState([]),[n,a]=$.useState([]),[l,c]=$.useState(!0),[u,f]=$.useState(!1),[g,m]=$.useState(null),[y,x]=$.useState([]);$.useEffect(()=>{r&&w()},[r]);const w=async()=>{if(r){c(!0);try{const{data:N,error:C}=await xe.from("garbage_schedule").select("*").eq("user_id",r.id).order("next_collection",{ascending:!0});if(C)throw C;t(N||[]);const z=Ne().add(7,"days").format("YYYY-MM-DD"),F=(N||[]).filter(ie=>ie.next_collection<=z);x(F);const{data:W,error:I}=await xe.from("addresses").select("*").eq("user_id",r.id);if(I)throw I;a(W||[])}catch(N){ne.error("Failed to load garbage schedules: "+N.message)}finally{c(!1)}}},_=(N,C,z)=>{const F=vw.findIndex(I=>I.value===N.toLowerCase());if(F===-1)return Ne().format("YYYY-MM-DD");let W=Ne();for(;W.day()!==F+1;)W=W.add(1,"day");if(z){const I=Ne(z);if(W.diff(I,"days")<7)switch(C){case"weekly":W=W.add(1,"week");break;case"bi-weekly":W=W.add(2,"weeks");break;case"monthly":W=W.add(1,"month");break}}return W.format("YYYY-MM-DD")},E=async N=>{if(r)try{const C=_(N.collection_day,N.frequency,g==null?void 0:g.next_collection),z={...N,user_id:r.id,next_collection:C,updated_at:new Date().toISOString()};if(g){const{error:F}=await xe.from("garbage_schedule").update(z).eq("id",g.id);if(F)throw F;ne.success("Schedule updated successfully!")}else{const{error:F}=await xe.from("garbage_schedule").insert({...z,created_at:new Date().toISOString()});if(F)throw F;ne.success("Schedule created successfully!")}await w(),f(!1),m(null)}catch(C){ne.error("Failed to save schedule: "+C.message)}},S=async N=>{if(confirm("Are you sure you want to delete this schedule?"))try{const{error:C}=await xe.from("garbage_schedule").delete().eq("id",N);if(C)throw C;ne.success("Schedule deleted successfully!"),await w()}catch(C){ne.error("Failed to delete schedule: "+C.message)}},D=async N=>{try{const C=_(N.collection_day,N.frequency,Ne().format("YYYY-MM-DD")),{error:z}=await xe.from("garbage_schedule").update({next_collection:C,updated_at:new Date().toISOString()}).eq("id",N.id);if(z)throw z;ne.success("Marked as collected! Next collection updated."),await w()}catch(C){ne.error("Failed to update collection: "+C.message)}},P=N=>Vd.find(C=>C.value===N)||Vd[0];return l?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(vn,{className:"w-8 h-8 text-gray-400"}),"Garbage & Recycling"]}),h.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Never miss a collection day again"})]}),h.jsxs("button",{onClick:()=>{m(null),f(!0)},className:"btn-dreamy-primary flex items-center gap-2",children:[h.jsx(hi,{className:"w-4 h-4"}),"Add Schedule"]})]}),y.length>0&&h.jsxs("div",{className:"card-floating p-6",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(po,{className:"w-5 h-5 text-orange-500"}),"Upcoming Collections (Next 7 Days)"]}),h.jsx("div",{className:"grid gap-3",children:y.map(N=>{const C=P(N.waste_type),z=Ne(N.next_collection).isSame(Ne(),"day"),F=Ne(N.next_collection).isSame(Ne().add(1,"day"),"day");return h.jsx("div",{className:`p-4 rounded-xl border-2 ${z?"bg-red-50 border-red-200":F?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:C.icon}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:C.label}),h.jsxs("p",{className:"text-sm text-gray-600",children:[z?"Today":F?"Tomorrow":Ne(N.next_collection).format("MMM D"),N.collection_time&&` at ${N.collection_time}`]})]})]}),h.jsx("button",{onClick:()=>D(N),className:"btn-dreamy text-xs",children:"Mark Collected"})]})},N.id)})})]}),h.jsxs("div",{className:"card-floating p-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"All Collection Schedules"}),e.length>0?h.jsx("div",{className:"grid gap-4",children:e.map(N=>{const C=P(N.waste_type);return h.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-xl",children:C.icon}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:C.label}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Ca,{className:"w-4 h-4"}),N.collection_day,"s"]}),h.jsx("span",{children:N.frequency}),N.collection_time&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(ma,{className:"w-4 h-4"}),N.collection_time]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"text-right text-sm",children:[h.jsx("p",{className:"font-medium text-gray-800",children:"Next Collection"}),h.jsx("p",{className:"text-gray-600",children:Ne(N.next_collection).format("MMM D, YYYY")})]}),h.jsx("button",{onClick:()=>{m(N),f(!0)},className:"p-2 text-gray-500 hover:text-blue-500",children:h.jsx(aa,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>S(N.id),className:"p-2 text-gray-500 hover:text-red-500",children:h.jsx(d1,{className:"w-4 h-4"})})]})]}),N.notes&&h.jsx("p",{className:"text-sm text-gray-600 bg-white/50 p-2 rounded",children:N.notes})]},N.id)})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(vn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No schedules yet"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Add your first garbage collection schedule"}),h.jsx("button",{onClick:()=>f(!0),className:"btn-dreamy-primary",children:"Add Schedule"})]})]}),u&&h.jsx(xR,{isOpen:u,onClose:()=>{f(!1),m(null)},onSave:E,schedule:g,addresses:n})]})}function xR({isOpen:r,onClose:e,onSave:t,schedule:n,addresses:a}){const[l,c]=$.useState({waste_type:(n==null?void 0:n.waste_type)||"trash",collection_day:(n==null?void 0:n.collection_day)||"monday",collection_time:(n==null?void 0:n.collection_time)||"",frequency:(n==null?void 0:n.frequency)||"weekly",address_id:(n==null?void 0:n.address_id)||"",auto_reminder:(n==null?void 0:n.auto_reminder)??!0,notes:(n==null?void 0:n.notes)||""}),u=f=>{f.preventDefault(),t(l)};return r?h.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h2",{className:"text-2xl font-light text-gray-800 mb-6",children:[n?"Edit":"Add"," Collection Schedule"]}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Waste Type"}),h.jsx("select",{value:l.waste_type,onChange:f=>c(g=>({...g,waste_type:f.target.value})),className:"input-dreamy w-full",children:Vd.map(f=>h.jsxs("option",{value:f.value,children:[f.icon," ",f.label]},f.value))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Collection Day"}),h.jsx("select",{value:l.collection_day,onChange:f=>c(g=>({...g,collection_day:f.target.value})),className:"input-dreamy w-full",children:vw.map(f=>h.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Frequency"}),h.jsx("select",{value:l.frequency,onChange:f=>c(g=>({...g,frequency:f.target.value})),className:"input-dreamy w-full",children:yR.map(f=>h.jsx("option",{value:f.value,children:f.label},f.value))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Collection Time (Optional)"}),h.jsx("input",{type:"time",value:l.collection_time,onChange:f=>c(g=>({...g,collection_time:f.target.value})),className:"input-dreamy w-full"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),h.jsx("textarea",{value:l.notes,onChange:f=>c(g=>({...g,notes:f.target.value})),className:"input-dreamy w-full h-20 resize-none",placeholder:"Special instructions, bin location, etc."})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"checkbox",id:"autoReminder",checked:l.auto_reminder,onChange:f=>c(g=>({...g,auto_reminder:f.target.checked})),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),h.jsx("label",{htmlFor:"autoReminder",className:"text-sm text-gray-700",children:"Send automatic reminders"})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-dreamy-primary",children:[n?"Update":"Create"," Schedule"]})]})]})]})})}):null}const bR=[{id:"profile",label:"Profile",icon:by,color:"text-blue-500"},{id:"audio",label:"Audio & Alarms",icon:po,color:"text-purple-500"},{id:"notifications",label:"Notifications",icon:po,color:"text-green-500"},{id:"appearance",label:"Appearance",icon:l1,color:"text-pink-500"},{id:"privacy",label:"Privacy",icon:c1,color:"text-orange-500"},{id:"help",label:"Help & Support",icon:JE,color:"text-gray-500"}],SR=[{value:"mom",label:"Mom"},{value:"dad",label:"Dad"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"partner",label:"Partner"},{value:"individual",label:"Individual"}];function _R(){const{user:r,profile:e,refreshProfile:t}=vr(),[n,a]=$.useState("profile"),[l,c]=$.useState(!1),[u,f]=$.useState({display_name:(e==null?void 0:e.display_name)||"",relationship_role:(e==null?void 0:e.relationship_role)||"individual",age:(e==null?void 0:e.age)||"",bio:(e==null?void 0:e.bio)||"",growth_identity:(e==null?void 0:e.growth_identity)||""}),[g,m]=$.useState({entrance_sound:!0,task_alarms:!0,reminder_sounds:!0,custom_alarm_file:null}),{playEntranceSound:y}=py();$.useEffect(()=>{var S;e&&f({display_name:e.display_name||"",relationship_role:e.relationship_role||"individual",age:((S=e.age)==null?void 0:S.toString())||"",bio:e.bio||"",growth_identity:e.growth_identity||""})},[e]);const x=async()=>{if(r){c(!0);try{await $E(r.id,{display_name:u.display_name,relationship_role:u.relationship_role,age:u.age?parseInt(u.age.toString()):null,bio:u.bio,growth_identity:u.growth_identity}),await t(),ne.success("Profile updated successfully!")}catch(S){ne.error("Failed to update profile: "+S.message)}finally{c(!1)}}},w=async()=>{if(!(!g.custom_alarm_file||!r)){c(!0);try{const S=new FileReader;S.onloadend=async()=>{try{const D=S.result,{data:P,error:N}=await xe.functions.invoke("audio-upload",{body:{audioData:D,fileName:`alarm-${Date.now()}-${g.custom_alarm_file.name}`,userId:r.id}});if(N)throw N;ne.success("Custom alarm uploaded successfully!"),m(C=>({...C,custom_alarm_file:null}))}catch(D){ne.error("Failed to upload alarm: "+D.message)}finally{c(!1)}},S.readAsDataURL(g.custom_alarm_file)}catch(S){ne.error("Failed to process file: "+S.message),c(!1)}}},_=async()=>{if(r)try{const[S,D,P]=await Promise.all([xe.from("tasks").select("*").eq("user_id",r.id),xe.from("affirmations").select("*").eq("user_id",r.id),xe.from("growth_logs").select("*").eq("user_id",r.id)]),N={profile:e,tasks:S.data||[],affirmations:D.data||[],growthLogs:P.data||[],exportDate:new Date().toISOString()},C=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),z=URL.createObjectURL(C),F=document.createElement("a");F.href=z,F.download=`zenzalife-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(z),ne.success("Data exported successfully!")}catch(S){ne.error("Failed to export data: "+S.message)}},E=()=>{switch(n){case"profile":return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Name"}),h.jsx("input",{type:"text",value:u.display_name,onChange:S=>f(D=>({...D,display_name:S.target.value})),className:"input-dreamy w-full",placeholder:"Your name"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role in Family"}),h.jsx("select",{value:u.relationship_role,onChange:S=>f(D=>({...D,relationship_role:S.target.value})),className:"input-dreamy w-full",children:SR.map(S=>h.jsx("option",{value:S.value,children:S.label},S.value))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Age (Optional)"}),h.jsx("input",{type:"number",value:u.age,onChange:S=>f(D=>({...D,age:S.target.value})),className:"input-dreamy w-full max-w-xs",placeholder:"Your age",min:"1",max:"120"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Growth Identity"}),h.jsx("input",{type:"text",value:u.growth_identity,onChange:S=>f(D=>({...D,growth_identity:S.target.value})),className:"input-dreamy w-full",placeholder:"I am becoming..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bio"}),h.jsx("textarea",{value:u.bio,onChange:S=>f(D=>({...D,bio:S.target.value})),className:"input-dreamy w-full h-24 resize-none",placeholder:"Tell us about yourself..."})]}),h.jsx("button",{onClick:x,disabled:l,className:"btn-dreamy-primary",children:l?"Saving...":"Save Profile"})]});case"audio":return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Sound Settings"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:g.entrance_sound,onChange:S=>m(D=>({...D,entrance_sound:S.target.checked})),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Play entrance sound on app load"}),h.jsx("button",{onClick:y,className:"text-xs text-blue-500 hover:text-blue-700 underline",children:"Test"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:g.task_alarms,onChange:S=>m(D=>({...D,task_alarms:S.target.checked})),className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Enable task alarms"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:g.reminder_sounds,onChange:S=>m(D=>({...D,reminder_sounds:S.target.checked})),className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Play reminder sounds"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Custom Alarm Upload"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"file",accept:"audio/*",onChange:S=>m(D=>{var P;return{...D,custom_alarm_file:((P=S.target.files)==null?void 0:P[0])||null}}),className:"input-dreamy w-full"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Upload your own alarm sound (MP3, WAV, etc.)"}),g.custom_alarm_file&&h.jsxs("button",{onClick:w,disabled:l,className:"btn-dreamy-primary flex items-center gap-2",children:[h.jsx(f1,{className:"w-4 h-4"}),l?"Uploading...":"Upload Alarm"]})]})]})]});case"notifications":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Notification Preferences"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-blue-50/80 rounded-xl",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Browser Notifications"}),h.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Get notified about upcoming tasks and reminders"}),h.jsx("button",{className:"btn-dreamy text-sm",children:"Enable Notifications"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Task reminders"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Daily affirmation reminders"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Progress tracking reminders"})]})]})]})]});case"appearance":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Appearance Settings"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[h.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Theme"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"ZenzaLife uses a dreamy, cloud-like aesthetic designed for tranquility"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{className:"btn-dreamy-primary text-sm",children:"Light (Current)"}),h.jsx("button",{className:"btn-dreamy text-sm opacity-50",children:"Dark (Coming Soon)"})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Show entrance animation"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Enable smooth transitions"})]})]})]})]});case"privacy":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Privacy & Data"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-green-50/80 rounded-xl",children:[h.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Data Export"}),h.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Download all your ZenzaLife data in JSON format"}),h.jsxs("button",{onClick:_,className:"btn-dreamy flex items-center gap-2 text-sm",children:[h.jsx(e1,{className:"w-4 h-4"}),"Export My Data"]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Allow family to see my progress"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Share affirmations with family"})]})]})]})]});case"help":return h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Help & Support"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-blue-50/80 rounded-xl",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"About ZenzaLife"}),h.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"A comprehensive family life management platform designed to help you become 1% better every day."}),h.jsx("p",{className:"text-xs text-blue-600",children:"Version 1.0.0 - Built with love for elevated living"})]}),h.jsxs("div",{className:"grid gap-3",children:[h.jsxs("button",{className:"p-3 bg-white/50 rounded-lg text-left hover:bg-white/70 transition-colors",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:"Getting Started Guide"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Learn how to set up your schedule and family"})]}),h.jsxs("button",{className:"p-3 bg-white/50 rounded-lg text-left hover:bg-white/70 transition-colors",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:"Keyboard Shortcuts"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Speed up your workflow with shortcuts"})]}),h.jsxs("button",{className:"p-3 bg-white/50 rounded-lg text-left hover:bg-white/70 transition-colors",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:"Contact Support"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Get help with any issues or questions"})]})]})]})]});default:return null}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[h.jsx(vy,{className:"w-8 h-8 text-gray-400"}),"Settings"]}),h.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Customize your ZenzaLife experience"})]}),h.jsx("div",{className:"card-floating p-1",children:h.jsx("div",{className:"flex flex-wrap gap-1",children:bR.map(S=>{const D=S.icon,P=n===S.id;return h.jsxs("button",{onClick:()=>a(S.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${P?"bg-white shadow-sm":"hover:bg-white/50"}`,children:[h.jsx(D,{className:`w-4 h-4 ${P?S.color:"text-gray-500"}`}),h.jsx("span",{className:`text-sm font-medium ${P?"text-gray-800":"text-gray-600"}`,children:S.label})]},S.id)})})}),h.jsx("div",{className:"card-floating p-6",children:E()})]})}const ER=[{id:"calendar",label:"Calendar",icon:Ca,color:"text-blue-500"},{id:"growth",label:"1% Better",icon:xy,color:"text-green-500"},{id:"affirmations",label:"Affirmations",icon:va,color:"text-pink-500"},{id:"family",label:"Family",icon:Qs,color:"text-purple-500"},{id:"logistics",label:"Life Logistics",icon:my,color:"text-orange-500"},{id:"garbage",label:"Garbage/Recycling",icon:vn,color:"text-gray-500"},{id:"settings",label:"Settings",icon:vy,color:"text-gray-600"}];function Av(){var g,m;const{user:r,profile:e,signOut:t}=vr(),[n,a]=$.useState("calendar"),[l,c]=$.useState(!1),u=async()=>{try{await t(),ne.success("Signed out successfully")}catch(y){ne.error("Failed to sign out: "+y.message)}},f=()=>{switch(n){case"calendar":return h.jsx(Cv,{});case"growth":return h.jsx(uR,{});case"affirmations":return h.jsx(fR,{});case"family":return h.jsx(pR,{});case"logistics":return h.jsx(vR,{});case"garbage":return h.jsx(wR,{});case"settings":return h.jsx(_R,{});default:return h.jsx(Cv,{})}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100",children:[h.jsxs("div",{className:`fixed left-0 top-0 h-full bg-white/80 backdrop-blur-lg border-r border-white/50 z-40 transition-all duration-300 ${l?"w-16":"w-64"}`,children:[h.jsx("div",{className:"p-6 border-b border-white/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-400 rounded-lg flex items-center justify-center",children:h.jsx(yy,{className:"w-5 h-5 text-white"})}),!l&&h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-light text-gray-800",children:"ZenzaLife"}),h.jsx("p",{className:"text-xs text-gray-600/80",children:"Scheduler"})]})]})}),h.jsx("div",{className:"p-4 border-b border-white/30",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-gray-700",children:((m=(g=e==null?void 0:e.display_name)==null?void 0:g.charAt(0))==null?void 0:m.toUpperCase())||"U"})}),!l&&h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(e==null?void 0:e.display_name)||"User"}),h.jsx("p",{className:"text-xs text-gray-600/80 capitalize",children:(e==null?void 0:e.relationship_role)||"Individual"})]})]})}),h.jsx("nav",{className:"p-4 space-y-2",children:ER.map(y=>{const x=y.icon,w=n===y.id;return h.jsxs("button",{onClick:()=>a(y.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl transition-all duration-200 ${w?"bg-white/70 shadow-sm":"hover:bg-white/40"}`,title:l?y.label:void 0,children:[h.jsx(x,{className:`w-5 h-5 ${w?y.color:"text-gray-600"}`}),!l&&h.jsx("span",{className:`text-sm font-medium ${w?"text-gray-800":"text-gray-600"}`,children:y.label})]},y.id)})}),h.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:h.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-red-50 text-gray-600 hover:text-red-600 transition-colors",title:l?"Sign Out":void 0,children:[h.jsx(i1,{className:"w-5 h-5"}),!l&&h.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})}),h.jsx("button",{onClick:()=>c(!l),className:"absolute -right-3 top-20 w-6 h-6 bg-white rounded-full shadow-md flex items-center justify-center hover:shadow-lg transition-shadow",children:h.jsx("span",{className:`text-xs transition-transform duration-300 ${l?"rotate-180":""}`,children:"‹"})})]}),h.jsx("div",{className:`transition-all duration-300 ${l?"ml-16":"ml-64"}`,children:h.jsx("div",{className:"p-6",children:f()})})]})}const kR=new qb;function CR(){const{user:r,loading:e}=vr(),[t,n]=$.useState(!0),[a,l]=$.useState("signin");return e?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-300 mx-auto"}),h.jsx("p",{className:"text-gray-600 font-light",children:"Loading ZenzaLife..."})]})}):r?t?h.jsx(h1,{onComplete:()=>n(!1),children:h.jsx(Av,{})}):h.jsx(Av,{}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:h.jsx("div",{className:"w-full max-w-md mx-auto p-6",children:h.jsx(g1,{mode:a,onModeChange:l})})})}function AR(){return h.jsx(Yb,{client:kR,children:h.jsxs(WE,{children:[h.jsx(CR,{}),h.jsx(US,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",color:"#374151",fontSize:"14px",padding:"12px 16px"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}_b.createRoot(document.getElementById("root")).render(h.jsx(oo.StrictMode,{children:h.jsx(AR,{})}));
