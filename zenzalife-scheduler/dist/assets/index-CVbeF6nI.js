var Tm=n=>{throw TypeError(n)};var Uu=(n,e,t)=>e.has(n)||Tm("Cannot "+t);var Y=(n,e,t)=>(Uu(n,e,"read from private field"),t?t.call(n):e.get(n)),Pe=(n,e,t)=>e.has(n)?Tm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Se=(n,e,t,r)=>(Uu(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),pt=(n,e,t)=>(Uu(n,e,"access private method"),t);var Ul=(n,e,t,r)=>({set _(a){Se(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Ro(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function xb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),t}var Hu={exports:{}},ra={},zu={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function wb(){if(Rm)return Ae;Rm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function E(R,V,q){this.props=R,this.context=V,this.refs=_,this.updater=q||w}E.prototype.isReactComponent={},E.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=E.prototype;function U(R,V,q){this.props=R,this.context=V,this.refs=_,this.updater=q||w}var I=U.prototype=new C;I.constructor=U,S(I,E.prototype),I.isPureReactComponent=!0;var T=Array.isArray,W=Object.prototype.hasOwnProperty,P={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function j(R,V,q){var K,de={},we=null,Ce=null;if(V!=null)for(K in V.ref!==void 0&&(Ce=V.ref),V.key!==void 0&&(we=""+V.key),V)W.call(V,K)&&!N.hasOwnProperty(K)&&(de[K]=V[K]);var Ee=arguments.length-2;if(Ee===1)de.children=q;else if(1<Ee){for(var De=Array(Ee),Re=0;Re<Ee;Re++)De[Re]=arguments[Re+2];de.children=De}if(R&&R.defaultProps)for(K in Ee=R.defaultProps,Ee)de[K]===void 0&&(de[K]=Ee[K]);return{$$typeof:n,type:R,key:we,ref:Ce,props:de,_owner:P.current}}function L(R,V){return{$$typeof:n,type:R.type,key:V,ref:R.ref,props:R.props,_owner:R._owner}}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function oe(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(q){return V[q]})}var Me=/\/+/g;function je(R,V){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):V.toString(36)}function fe(R,V,q,K,de){var we=typeof R;(we==="undefined"||we==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(we){case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=R,de=de(Ce),R=K===""?"."+je(Ce,0):K,T(de)?(q="",R!=null&&(q=R.replace(Me,"$&/")+"/"),fe(de,V,q,"",function(Re){return Re})):de!=null&&(G(de)&&(de=L(de,q+(!de.key||Ce&&Ce.key===de.key?"":(""+de.key).replace(Me,"$&/")+"/")+R)),V.push(de)),1;if(Ce=0,K=K===""?".":K+":",T(R))for(var Ee=0;Ee<R.length;Ee++){we=R[Ee];var De=K+je(we,Ee);Ce+=fe(we,V,q,De,de)}else if(De=x(R),typeof De=="function")for(R=De.call(R),Ee=0;!(we=R.next()).done;)we=we.value,De=K+je(we,Ee++),Ce+=fe(we,V,q,De,de);else if(we==="object")throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ie(R,V,q){if(R==null)return R;var K=[],de=0;return fe(R,K,"","",function(we){return V.call(q,we,de++)}),K}function ne(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(q){(R._status===0||R._status===-1)&&(R._status=1,R._result=q)},function(q){(R._status===0||R._status===-1)&&(R._status=2,R._result=q)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var re={current:null},$={transition:null},ee={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:$,ReactCurrentOwner:P};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:ie,forEach:function(R,V,q){ie(R,function(){V.apply(this,arguments)},q)},count:function(R){var V=0;return ie(R,function(){V++}),V},toArray:function(R){return ie(R,function(V){return V})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ae.Component=E,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=U,Ae.StrictMode=r,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ae.act=Q,Ae.cloneElement=function(R,V,q){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var K=S({},R.props),de=R.key,we=R.ref,Ce=R._owner;if(V!=null){if(V.ref!==void 0&&(we=V.ref,Ce=P.current),V.key!==void 0&&(de=""+V.key),R.type&&R.type.defaultProps)var Ee=R.type.defaultProps;for(De in V)W.call(V,De)&&!N.hasOwnProperty(De)&&(K[De]=V[De]===void 0&&Ee!==void 0?Ee[De]:V[De])}var De=arguments.length-2;if(De===1)K.children=q;else if(1<De){Ee=Array(De);for(var Re=0;Re<De;Re++)Ee[Re]=arguments[Re+2];K.children=Ee}return{$$typeof:n,type:R.type,key:de,ref:we,props:K,_owner:Ce}},Ae.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Ae.createElement=j,Ae.createFactory=function(R){var V=j.bind(null,R);return V.type=R,V},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:u,render:R}},Ae.isValidElement=G,Ae.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ne}},Ae.memo=function(R,V){return{$$typeof:p,type:R,compare:V===void 0?null:V}},Ae.startTransition=function(R){var V=$.transition;$.transition={};try{R()}finally{$.transition=V}},Ae.unstable_act=Q,Ae.useCallback=function(R,V){return re.current.useCallback(R,V)},Ae.useContext=function(R){return re.current.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R){return re.current.useDeferredValue(R)},Ae.useEffect=function(R,V){return re.current.useEffect(R,V)},Ae.useId=function(){return re.current.useId()},Ae.useImperativeHandle=function(R,V,q){return re.current.useImperativeHandle(R,V,q)},Ae.useInsertionEffect=function(R,V){return re.current.useInsertionEffect(R,V)},Ae.useLayoutEffect=function(R,V){return re.current.useLayoutEffect(R,V)},Ae.useMemo=function(R,V){return re.current.useMemo(R,V)},Ae.useReducer=function(R,V,q){return re.current.useReducer(R,V,q)},Ae.useRef=function(R){return re.current.useRef(R)},Ae.useState=function(R){return re.current.useState(R)},Ae.useSyncExternalStore=function(R,V,q){return re.current.useSyncExternalStore(R,V,q)},Ae.useTransition=function(){return re.current.useTransition()},Ae.version="18.3.1",Ae}var Mm;function Yd(){return Mm||(Mm=1,zu.exports=wb()),zu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function bb(){if(Im)return ra;Im=1;var n=Yd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(u,h,p){var g,v={},x=null,w=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:u,key:x,ref:w,props:v,_owner:a.current}}return ra.Fragment=t,ra.jsx=o,ra.jsxs=o,ra}var Om;function Sb(){return Om||(Om=1,Hu.exports=bb()),Hu.exports}var d=Sb(),O=Yd();const ci=Ro(O);var Hl={},Bu={exports:{}},jt={},$u={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function _b(){return Pm||(Pm=1,function(n){function e($,ee){var Q=$.length;$.push(ee);e:for(;0<Q;){var R=Q-1>>>1,V=$[R];if(0<a(V,ee))$[R]=ee,$[Q]=V,Q=R;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],Q=$.pop();if(Q!==ee){$[0]=Q;e:for(var R=0,V=$.length,q=V>>>1;R<q;){var K=2*(R+1)-1,de=$[K],we=K+1,Ce=$[we];if(0>a(de,Q))we<V&&0>a(Ce,de)?($[R]=Ce,$[we]=Q,R=we):($[R]=de,$[K]=Q,R=K);else if(we<V&&0>a(Ce,Q))$[R]=Ce,$[we]=Q,R=we;else break e}}return ee}function a($,ee){var Q=$.sortIndex-ee.sortIndex;return Q!==0?Q:$.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],p=[],g=1,v=null,x=3,w=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var ee=t(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=$)r(p),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=t(p)}}function T($){if(_=!1,I($),!S)if(t(h)!==null)S=!0,ne(W);else{var ee=t(p);ee!==null&&re(T,ee.startTime-$)}}function W($,ee){S=!1,_&&(_=!1,C(j),j=-1),w=!0;var Q=x;try{for(I(ee),v=t(h);v!==null&&(!(v.expirationTime>ee)||$&&!oe());){var R=v.callback;if(typeof R=="function"){v.callback=null,x=v.priorityLevel;var V=R(v.expirationTime<=ee);ee=n.unstable_now(),typeof V=="function"?v.callback=V:v===t(h)&&r(h),I(ee)}else r(h);v=t(h)}if(v!==null)var q=!0;else{var K=t(p);K!==null&&re(T,K.startTime-ee),q=!1}return q}finally{v=null,x=Q,w=!1}}var P=!1,N=null,j=-1,L=5,G=-1;function oe(){return!(n.unstable_now()-G<L)}function Me(){if(N!==null){var $=n.unstable_now();G=$;var ee=!0;try{ee=N(!0,$)}finally{ee?je():(P=!1,N=null)}}else P=!1}var je;if(typeof U=="function")je=function(){U(Me)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ie=fe.port2;fe.port1.onmessage=Me,je=function(){ie.postMessage(null)}}else je=function(){E(Me,0)};function ne($){N=$,P||(P=!0,je())}function re($,ee){j=E(function(){$(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){S||w||(S=!0,ne(W))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var Q=x;x=ee;try{return $()}finally{x=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=x;x=$;try{return ee()}finally{x=Q}},n.unstable_scheduleCallback=function($,ee,Q){var R=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?R+Q:R):Q=R,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Q+V,$={id:g++,callback:ee,priorityLevel:$,startTime:Q,expirationTime:V,sortIndex:-1},Q>R?($.sortIndex=Q,e(p,$),t(h)===null&&$===t(p)&&(_?(C(j),j=-1):_=!0,re(T,Q-R))):($.sortIndex=V,e(h,$),S||w||(S=!0,ne(W))),$},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function($){var ee=x;return function(){var Q=x;x=ee;try{return $.apply(this,arguments)}finally{x=Q}}}}(Wu)),Wu}var Lm;function Eb(){return Lm||(Lm=1,$u.exports=_b()),$u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function kb(){if(Fm)return jt;Fm=1;var n=Yd(),e=Eb();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function l(s,i){o(s,i),o(s+"Capture",i)}function o(s,i){for(a[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function w(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,i,c,f){if(i===null||typeof i>"u"||w(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(s,i,c,f,m,y,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=b}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];E[i]=new _(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(C,U);E[i]=new _(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(C,U);E[i]=new _(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(C,U);E[i]=new _(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function I(s,i,c,f){var m=E.hasOwnProperty(i)?E[i]:null;(m!==null?m.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,c,m,f)&&(c=null),f||m===null?x(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(i=m.attributeName,f=m.attributeNamespace,c===null?s.removeAttribute(i):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),oe=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),$=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,R;function V(s){if(R===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+s}var q=!1;function K(s,i){if(!s||q)return"";q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var f=z}Reflect.construct(s,[],i)}else{try{i.call()}catch(z){f=z}s.call(i.prototype)}else{try{throw Error()}catch(z){f=z}s()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var m=z.stack.split(`
`),y=f.stack.split(`
`),b=m.length-1,k=y.length-1;1<=b&&0<=k&&m[b]!==y[k];)k--;for(;1<=b&&0<=k;b--,k--)if(m[b]!==y[k]){if(b!==1||k!==1)do if(b--,k--,0>k||m[b]!==y[k]){var D=`
`+m[b].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=b&&0<=k);break}}}finally{q=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?V(s):""}function de(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=K(s.type,!1),s;case 11:return s=K(s.type.render,!1),s;case 1:return s=K(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case P:return"Portal";case L:return"Profiler";case j:return"StrictMode";case je:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case oe:return(s.displayName||"Context")+".Consumer";case G:return(s._context.displayName||"Context")+".Provider";case Me:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ie:return i=s.displayName||null,i!==null?i:we(s.type)||"Memo";case ne:i=s._payload,s=s._init;try{return we(s(i))}catch{}}return null}function Ce(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(i);case 8:return i===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Re(s){var i=De(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(b){f=""+b,y.call(this,b)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Rt(s){s._valueTracker||(s._valueTracker=Re(s))}function Hn(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=De(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function wn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function qo(s,i){var c=i.checked;return Q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ff(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Ee(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Uf(s,i){i=i.checked,i!=null&&I(s,"checked",i,!1)}function Yo(s,i){Uf(s,i);var c=Ee(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Go(s,i.type,c):i.hasOwnProperty("defaultValue")&&Go(s,i.type,Ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Hf(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Go(s,i,c){(i!=="number"||wn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var vi=Array.isArray;function fs(s,i,c,f){if(s=s.options,i){i={};for(var m=0;m<c.length;m++)i["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=i.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ee(c),i=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Qo(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function zf(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(vi(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Ee(c)}}function Bf(s,i){var c=Ee(i.value),f=Ee(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function $f(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Wf(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zo(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Wf(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ta,Vf=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,m){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ta.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function xi(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_x=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(s){_x.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),wi[i]=wi[s]})});function qf(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||wi.hasOwnProperty(s)&&wi[s]?(""+i).trim():i+"px"}function Yf(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,m=qf(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,m):s[c]=m}}var Ex=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(s,i){if(i){if(Ex[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Jo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function ec(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var tc=null,hs=null,ps=null;function Gf(s){if(s=Bi(s)){if(typeof tc!="function")throw Error(t(280));var i=s.stateNode;i&&(i=el(i),tc(s.stateNode,s.type,i))}}function Qf(s){hs?ps?ps.push(s):ps=[s]:hs=s}function Zf(){if(hs){var s=hs,i=ps;if(ps=hs=null,Gf(s),i)for(s=0;s<i.length;s++)Gf(i[s])}}function Kf(s,i){return s(i)}function Jf(){}var nc=!1;function Xf(s,i,c){if(nc)return s(i,c);nc=!0;try{return Kf(s,i,c)}finally{nc=!1,(hs!==null||ps!==null)&&(Jf(),Zf())}}function bi(s,i){var c=s.stateNode;if(c===null)return null;var f=el(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var rc=!1;if(u)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){rc=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{rc=!1}function kx(s,i,c,f,m,y,b,k,D){var z=Array.prototype.slice.call(arguments,3);try{i.apply(c,z)}catch(J){this.onError(J)}}var _i=!1,Ra=null,Ma=!1,sc=null,Cx={onError:function(s){_i=!0,Ra=s}};function Ax(s,i,c,f,m,y,b,k,D){_i=!1,Ra=null,kx.apply(Cx,arguments)}function Nx(s,i,c,f,m,y,b,k,D){if(Ax.apply(this,arguments),_i){if(_i){var z=Ra;_i=!1,Ra=null}else throw Error(t(198));Ma||(Ma=!0,sc=z)}}function Ar(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function eh(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function th(s){if(Ar(s)!==s)throw Error(t(188))}function jx(s){var i=s.alternate;if(!i){if(i=Ar(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,f=i;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return th(m),s;if(y===f)return th(m),i;y=y.sibling}throw Error(t(188))}if(c.return!==f.return)c=m,f=y;else{for(var b=!1,k=m.child;k;){if(k===c){b=!0,c=m,f=y;break}if(k===f){b=!0,f=m,c=y;break}k=k.sibling}if(!b){for(k=y.child;k;){if(k===c){b=!0,c=y,f=m;break}if(k===f){b=!0,f=y,c=m;break}k=k.sibling}if(!b)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function nh(s){return s=jx(s),s!==null?rh(s):null}function rh(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=rh(s);if(i!==null)return i;s=s.sibling}return null}var sh=e.unstable_scheduleCallback,ih=e.unstable_cancelCallback,Dx=e.unstable_shouldYield,Tx=e.unstable_requestPaint,Je=e.unstable_now,Rx=e.unstable_getCurrentPriorityLevel,ic=e.unstable_ImmediatePriority,ah=e.unstable_UserBlockingPriority,Ia=e.unstable_NormalPriority,Mx=e.unstable_LowPriority,lh=e.unstable_IdlePriority,Oa=null,cn=null;function Ix(s){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Oa,s,void 0,(s.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Lx,Ox=Math.log,Px=Math.LN2;function Lx(s){return s>>>=0,s===0?32:31-(Ox(s)/Px|0)|0}var Pa=64,La=4194304;function Ei(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Fa(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,m=s.suspendedLanes,y=s.pingedLanes,b=c&268435455;if(b!==0){var k=b&~m;k!==0?f=Ei(k):(y&=b,y!==0&&(f=Ei(y)))}else b=c&~m,b!==0?f=Ei(b):y!==0&&(f=Ei(y));if(f===0)return 0;if(i!==0&&i!==f&&(i&m)===0&&(m=f&-f,y=i&-i,m>=y||m===16&&(y&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-Gt(i),m=1<<c,f|=s[c],i&=~m;return f}function Fx(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ux(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var b=31-Gt(y),k=1<<b,D=m[b];D===-1?((k&c)===0||(k&f)!==0)&&(m[b]=Fx(k,i)):D<=i&&(s.expiredLanes|=k),y&=~k}}function ac(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function oh(){var s=Pa;return Pa<<=1,(Pa&4194240)===0&&(Pa=64),s}function lc(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function ki(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Gt(i),s[i]=c}function Hx(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-Gt(c),y=1<<m;i[m]=0,f[m]=-1,s[m]=-1,c&=~y}}function oc(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-Gt(c),m=1<<f;m&i|s[f]&i&&(s[f]|=i),c&=~m}}var Fe=0;function ch(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var uh,cc,dh,fh,hh,uc=!1,Ua=[],zn=null,Bn=null,$n=null,Ci=new Map,Ai=new Map,Wn=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ph(s,i){switch(s){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(i.pointerId)}}function Ni(s,i,c,f,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},i!==null&&(i=Bi(i),i!==null&&cc(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Bx(s,i,c,f,m){switch(i){case"focusin":return zn=Ni(zn,s,i,c,f,m),!0;case"dragenter":return Bn=Ni(Bn,s,i,c,f,m),!0;case"mouseover":return $n=Ni($n,s,i,c,f,m),!0;case"pointerover":var y=m.pointerId;return Ci.set(y,Ni(Ci.get(y)||null,s,i,c,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Ai.set(y,Ni(Ai.get(y)||null,s,i,c,f,m)),!0}return!1}function mh(s){var i=Nr(s.target);if(i!==null){var c=Ar(i);if(c!==null){if(i=c.tag,i===13){if(i=eh(c),i!==null){s.blockedOn=i,hh(s.priority,function(){dh(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ha(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=fc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Xo=f,c.target.dispatchEvent(f),Xo=null}else return i=Bi(c),i!==null&&cc(i),s.blockedOn=c,!1;i.shift()}return!0}function gh(s,i,c){Ha(s)&&c.delete(i)}function $x(){uc=!1,zn!==null&&Ha(zn)&&(zn=null),Bn!==null&&Ha(Bn)&&(Bn=null),$n!==null&&Ha($n)&&($n=null),Ci.forEach(gh),Ai.forEach(gh)}function ji(s,i){s.blockedOn===i&&(s.blockedOn=null,uc||(uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$x)))}function Di(s){function i(m){return ji(m,s)}if(0<Ua.length){ji(Ua[0],s);for(var c=1;c<Ua.length;c++){var f=Ua[c];f.blockedOn===s&&(f.blockedOn=null)}}for(zn!==null&&ji(zn,s),Bn!==null&&ji(Bn,s),$n!==null&&ji($n,s),Ci.forEach(i),Ai.forEach(i),c=0;c<Wn.length;c++)f=Wn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Wn.length&&(c=Wn[0],c.blockedOn===null);)mh(c),c.blockedOn===null&&Wn.shift()}var ms=T.ReactCurrentBatchConfig,za=!0;function Wx(s,i,c,f){var m=Fe,y=ms.transition;ms.transition=null;try{Fe=1,dc(s,i,c,f)}finally{Fe=m,ms.transition=y}}function Vx(s,i,c,f){var m=Fe,y=ms.transition;ms.transition=null;try{Fe=4,dc(s,i,c,f)}finally{Fe=m,ms.transition=y}}function dc(s,i,c,f){if(za){var m=fc(s,i,c,f);if(m===null)jc(s,i,f,Ba,c),ph(s,f);else if(Bx(m,s,i,c,f))f.stopPropagation();else if(ph(s,f),i&4&&-1<zx.indexOf(s)){for(;m!==null;){var y=Bi(m);if(y!==null&&uh(y),y=fc(s,i,c,f),y===null&&jc(s,i,f,Ba,c),y===m)break;m=y}m!==null&&f.stopPropagation()}else jc(s,i,f,null,c)}}var Ba=null;function fc(s,i,c,f){if(Ba=null,s=ec(f),s=Nr(s),s!==null)if(i=Ar(s),i===null)s=null;else if(c=i.tag,c===13){if(s=eh(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Ba=s,null}function yh(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rx()){case ic:return 1;case ah:return 4;case Ia:case Mx:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Vn=null,hc=null,$a=null;function vh(){if($a)return $a;var s,i=hc,c=i.length,f,m="value"in Vn?Vn.value:Vn.textContent,y=m.length;for(s=0;s<c&&i[s]===m[s];s++);var b=c-s;for(f=1;f<=b&&i[c-f]===m[y-f];f++);return $a=m.slice(s,1<f?1-f:void 0)}function Wa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Va(){return!0}function xh(){return!1}function Mt(s){function i(c,f,m,y,b){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Va:xh,this.isPropagationStopped=xh,this}return Q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),i}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Mt(gs),Ti=Q({},gs,{view:0,detail:0}),qx=Mt(Ti),mc,gc,Ri,qa=Q({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ri&&(Ri&&s.type==="mousemove"?(mc=s.screenX-Ri.screenX,gc=s.screenY-Ri.screenY):gc=mc=0,Ri=s),mc)},movementY:function(s){return"movementY"in s?s.movementY:gc}}),wh=Mt(qa),Yx=Q({},qa,{dataTransfer:0}),Gx=Mt(Yx),Qx=Q({},Ti,{relatedTarget:0}),yc=Mt(Qx),Zx=Q({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=Mt(Zx),Jx=Q({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xx=Mt(Jx),ew=Q({},gs,{data:0}),bh=Mt(ew),tw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sw(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=rw[s])?!!i[s]:!1}function vc(){return sw}var iw=Q({},Ti,{key:function(s){if(s.key){var i=tw[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(s){return s.type==="keypress"?Wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),aw=Mt(iw),lw=Q({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=Mt(lw),ow=Q({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),cw=Mt(ow),uw=Q({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dw=Mt(uw),fw=Q({},qa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),hw=Mt(fw),pw=[9,13,27,32],xc=u&&"CompositionEvent"in window,Mi=null;u&&"documentMode"in document&&(Mi=document.documentMode);var mw=u&&"TextEvent"in window&&!Mi,_h=u&&(!xc||Mi&&8<Mi&&11>=Mi),Eh=" ",kh=!1;function Ch(s,i){switch(s){case"keyup":return pw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ys=!1;function gw(s,i){switch(s){case"compositionend":return Ah(i);case"keypress":return i.which!==32?null:(kh=!0,Eh);case"textInput":return s=i.data,s===Eh&&kh?null:s;default:return null}}function yw(s,i){if(ys)return s==="compositionend"||!xc&&Ch(s,i)?(s=vh(),$a=hc=Vn=null,ys=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _h&&i.locale!=="ko"?null:i.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!vw[s.type]:i==="textarea"}function jh(s,i,c,f){Qf(f),i=Ka(i,"onChange"),0<i.length&&(c=new pc("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var Ii=null,Oi=null;function xw(s){Yh(s,0)}function Ya(s){var i=Ss(s);if(Hn(i))return s}function ww(s,i){if(s==="change")return i}var Dh=!1;if(u){var wc;if(u){var bc="oninput"in document;if(!bc){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),bc=typeof Th.oninput=="function"}wc=bc}else wc=!1;Dh=wc&&(!document.documentMode||9<document.documentMode)}function Rh(){Ii&&(Ii.detachEvent("onpropertychange",Mh),Oi=Ii=null)}function Mh(s){if(s.propertyName==="value"&&Ya(Oi)){var i=[];jh(i,Oi,s,ec(s)),Xf(xw,i)}}function bw(s,i,c){s==="focusin"?(Rh(),Ii=i,Oi=c,Ii.attachEvent("onpropertychange",Mh)):s==="focusout"&&Rh()}function Sw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ya(Oi)}function _w(s,i){if(s==="click")return Ya(i)}function Ew(s,i){if(s==="input"||s==="change")return Ya(i)}function kw(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Qt=typeof Object.is=="function"?Object.is:kw;function Pi(s,i){if(Qt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!h.call(i,m)||!Qt(s[m],i[m]))return!1}return!0}function Ih(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Oh(s,i){var c=Ih(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ih(c)}}function Ph(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ph(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Lh(){for(var s=window,i=wn();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=wn(s.document)}return i}function Sc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Cw(s){var i=Lh(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&Ph(c.ownerDocument.documentElement,c)){if(f!==null&&Sc(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,y=Math.min(f.start,m);f=f.end===void 0?y:Math.min(f.end,m),!s.extend&&y>f&&(m=f,f=y,y=m),m=Oh(c,y);var b=Oh(c,f);m&&b&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),y>f?(s.addRange(i),s.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Aw=u&&"documentMode"in document&&11>=document.documentMode,vs=null,_c=null,Li=null,Ec=!1;function Fh(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ec||vs==null||vs!==wn(f)||(f=vs,"selectionStart"in f&&Sc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Li&&Pi(Li,f)||(Li=f,f=Ka(_c,"onSelect"),0<f.length&&(i=new pc("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=vs)))}function Ga(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var xs={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},kc={},Uh={};u&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Qa(s){if(kc[s])return kc[s];if(!xs[s])return s;var i=xs[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in Uh)return kc[s]=i[c];return s}var Hh=Qa("animationend"),zh=Qa("animationiteration"),Bh=Qa("animationstart"),$h=Qa("transitionend"),Wh=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(s,i){Wh.set(s,i),l(i,[s])}for(var Cc=0;Cc<Vh.length;Cc++){var Ac=Vh[Cc],Nw=Ac.toLowerCase(),jw=Ac[0].toUpperCase()+Ac.slice(1);qn(Nw,"on"+jw)}qn(Hh,"onAnimationEnd"),qn(zh,"onAnimationIteration"),qn(Bh,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn($h,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function qh(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,Nx(f,i,void 0,s),s.currentTarget=null}function Yh(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var b=f.length-1;0<=b;b--){var k=f[b],D=k.instance,z=k.currentTarget;if(k=k.listener,D!==y&&m.isPropagationStopped())break e;qh(m,k,z),y=D}else for(b=0;b<f.length;b++){if(k=f[b],D=k.instance,z=k.currentTarget,k=k.listener,D!==y&&m.isPropagationStopped())break e;qh(m,k,z),y=D}}}if(Ma)throw s=sc,Ma=!1,sc=null,s}function $e(s,i){var c=i[Oc];c===void 0&&(c=i[Oc]=new Set);var f=s+"__bubble";c.has(f)||(Gh(i,s,2,!1),c.add(f))}function Nc(s,i,c){var f=0;i&&(f|=4),Gh(c,s,f,i)}var Za="_reactListening"+Math.random().toString(36).slice(2);function Ui(s){if(!s[Za]){s[Za]=!0,r.forEach(function(c){c!=="selectionchange"&&(Dw.has(c)||Nc(c,!1,s),Nc(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Za]||(i[Za]=!0,Nc("selectionchange",!1,i))}}function Gh(s,i,c,f){switch(yh(i)){case 1:var m=Wx;break;case 4:m=Vx;break;default:m=dc}c=m.bind(null,i,c,s),m=void 0,!rc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(i,c,{capture:!0,passive:m}):s.addEventListener(i,c,!0):m!==void 0?s.addEventListener(i,c,{passive:m}):s.addEventListener(i,c,!1)}function jc(s,i,c,f,m){var y=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var k=f.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(b===4)for(b=f.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;b=b.return}for(;k!==null;){if(b=Nr(k),b===null)return;if(D=b.tag,D===5||D===6){f=y=b;continue e}k=k.parentNode}}f=f.return}Xf(function(){var z=y,J=ec(c),X=[];e:{var Z=Wh.get(s);if(Z!==void 0){var ae=pc,ue=s;switch(s){case"keypress":if(Wa(c)===0)break e;case"keydown":case"keyup":ae=aw;break;case"focusin":ue="focus",ae=yc;break;case"focusout":ue="blur",ae=yc;break;case"beforeblur":case"afterblur":ae=yc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=cw;break;case Hh:case zh:case Bh:ae=Kx;break;case $h:ae=dw;break;case"scroll":ae=qx;break;case"wheel":ae=hw;break;case"copy":case"cut":case"paste":ae=Xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Sh}var he=(i&4)!==0,Xe=!he&&s==="scroll",F=he?Z!==null?Z+"Capture":null:Z;he=[];for(var M=z,H;M!==null;){H=M;var te=H.stateNode;if(H.tag===5&&te!==null&&(H=te,F!==null&&(te=bi(M,F),te!=null&&he.push(Hi(M,te,H)))),Xe)break;M=M.return}0<he.length&&(Z=new ae(Z,ue,null,c,J),X.push({event:Z,listeners:he}))}}if((i&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",Z&&c!==Xo&&(ue=c.relatedTarget||c.fromElement)&&(Nr(ue)||ue[bn]))break e;if((ae||Z)&&(Z=J.window===J?J:(Z=J.ownerDocument)?Z.defaultView||Z.parentWindow:window,ae?(ue=c.relatedTarget||c.toElement,ae=z,ue=ue?Nr(ue):null,ue!==null&&(Xe=Ar(ue),ue!==Xe||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ae=null,ue=z),ae!==ue)){if(he=wh,te="onMouseLeave",F="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(he=Sh,te="onPointerLeave",F="onPointerEnter",M="pointer"),Xe=ae==null?Z:Ss(ae),H=ue==null?Z:Ss(ue),Z=new he(te,M+"leave",ae,c,J),Z.target=Xe,Z.relatedTarget=H,te=null,Nr(J)===z&&(he=new he(F,M+"enter",ue,c,J),he.target=H,he.relatedTarget=Xe,te=he),Xe=te,ae&&ue)t:{for(he=ae,F=ue,M=0,H=he;H;H=ws(H))M++;for(H=0,te=F;te;te=ws(te))H++;for(;0<M-H;)he=ws(he),M--;for(;0<H-M;)F=ws(F),H--;for(;M--;){if(he===F||F!==null&&he===F.alternate)break t;he=ws(he),F=ws(F)}he=null}else he=null;ae!==null&&Qh(X,Z,ae,he,!1),ue!==null&&Xe!==null&&Qh(X,Xe,ue,he,!0)}}e:{if(Z=z?Ss(z):window,ae=Z.nodeName&&Z.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Z.type==="file")var pe=ww;else if(Nh(Z))if(Dh)pe=Ew;else{pe=Sw;var ge=bw}else(ae=Z.nodeName)&&ae.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=_w);if(pe&&(pe=pe(s,z))){jh(X,pe,c,J);break e}ge&&ge(s,Z,z),s==="focusout"&&(ge=Z._wrapperState)&&ge.controlled&&Z.type==="number"&&Go(Z,"number",Z.value)}switch(ge=z?Ss(z):window,s){case"focusin":(Nh(ge)||ge.contentEditable==="true")&&(vs=ge,_c=z,Li=null);break;case"focusout":Li=_c=vs=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Fh(X,c,J);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":Fh(X,c,J)}var ye;if(xc)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ys?Ch(s,c)&&(be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(be="onCompositionStart");be&&(_h&&c.locale!=="ko"&&(ys||be!=="onCompositionStart"?be==="onCompositionEnd"&&ys&&(ye=vh()):(Vn=J,hc="value"in Vn?Vn.value:Vn.textContent,ys=!0)),ge=Ka(z,be),0<ge.length&&(be=new bh(be,s,null,c,J),X.push({event:be,listeners:ge}),ye?be.data=ye:(ye=Ah(c),ye!==null&&(be.data=ye)))),(ye=mw?gw(s,c):yw(s,c))&&(z=Ka(z,"onBeforeInput"),0<z.length&&(J=new bh("onBeforeInput","beforeinput",null,c,J),X.push({event:J,listeners:z}),J.data=ye))}Yh(X,i)})}function Hi(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Ka(s,i){for(var c=i+"Capture",f=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=bi(s,c),y!=null&&f.unshift(Hi(s,y,m)),y=bi(s,i),y!=null&&f.push(Hi(s,y,m))),s=s.return}return f}function ws(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Qh(s,i,c,f,m){for(var y=i._reactName,b=[];c!==null&&c!==f;){var k=c,D=k.alternate,z=k.stateNode;if(D!==null&&D===f)break;k.tag===5&&z!==null&&(k=z,m?(D=bi(c,y),D!=null&&b.unshift(Hi(c,D,k))):m||(D=bi(c,y),D!=null&&b.push(Hi(c,D,k)))),c=c.return}b.length!==0&&s.push({event:i,listeners:b})}var Tw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function Zh(s){return(typeof s=="string"?s:""+s).replace(Tw,`
`).replace(Rw,"")}function Ja(s,i,c){if(i=Zh(i),Zh(s)!==i&&c)throw Error(t(425))}function Xa(){}var Dc=null,Tc=null;function Rc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mc=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(s){return Kh.resolve(null).then(s).catch(Ow)}:Mc;function Ow(s){setTimeout(function(){throw s})}function Ic(s,i){var c=i,f=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(f===0){s.removeChild(m),Di(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=m}while(c);Di(i)}function Yn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Jh(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var bs=Math.random().toString(36).slice(2),un="__reactFiber$"+bs,zi="__reactProps$"+bs,bn="__reactContainer$"+bs,Oc="__reactEvents$"+bs,Pw="__reactListeners$"+bs,Lw="__reactHandles$"+bs;function Nr(s){var i=s[un];if(i)return i;for(var c=s.parentNode;c;){if(i=c[bn]||c[un]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=Jh(s);s!==null;){if(c=s[un])return c;s=Jh(s)}return i}s=c,c=s.parentNode}return null}function Bi(s){return s=s[un]||s[bn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ss(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function el(s){return s[zi]||null}var Pc=[],_s=-1;function Gn(s){return{current:s}}function We(s){0>_s||(s.current=Pc[_s],Pc[_s]=null,_s--)}function Ue(s,i){_s++,Pc[_s]=s.current,s.current=i}var Qn={},ut=Gn(Qn),Et=Gn(!1),jr=Qn;function Es(s,i){var c=s.type.contextTypes;if(!c)return Qn;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=i[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function kt(s){return s=s.childContextTypes,s!=null}function tl(){We(Et),We(ut)}function Xh(s,i,c){if(ut.current!==Qn)throw Error(t(168));Ue(ut,i),Ue(Et,c)}function ep(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var m in f)if(!(m in i))throw Error(t(108,Ce(s)||"Unknown",m));return Q({},c,f)}function nl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Qn,jr=ut.current,Ue(ut,s),Ue(Et,Et.current),!0}function tp(s,i,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=ep(s,i,jr),f.__reactInternalMemoizedMergedChildContext=s,We(Et),We(ut),Ue(ut,s)):We(Et),Ue(Et,c)}var Sn=null,rl=!1,Lc=!1;function np(s){Sn===null?Sn=[s]:Sn.push(s)}function Fw(s){rl=!0,np(s)}function Zn(){if(!Lc&&Sn!==null){Lc=!0;var s=0,i=Fe;try{var c=Sn;for(Fe=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Sn=null,rl=!1}catch(m){throw Sn!==null&&(Sn=Sn.slice(s+1)),sh(ic,Zn),m}finally{Fe=i,Lc=!1}}return null}var ks=[],Cs=0,sl=null,il=0,Ht=[],zt=0,Dr=null,_n=1,En="";function Tr(s,i){ks[Cs++]=il,ks[Cs++]=sl,sl=s,il=i}function rp(s,i,c){Ht[zt++]=_n,Ht[zt++]=En,Ht[zt++]=Dr,Dr=s;var f=_n;s=En;var m=32-Gt(f)-1;f&=~(1<<m),c+=1;var y=32-Gt(i)+m;if(30<y){var b=m-m%5;y=(f&(1<<b)-1).toString(32),f>>=b,m-=b,_n=1<<32-Gt(i)+m|c<<m|f,En=y+s}else _n=1<<y|c<<m|f,En=s}function Fc(s){s.return!==null&&(Tr(s,1),rp(s,1,0))}function Uc(s){for(;s===sl;)sl=ks[--Cs],ks[Cs]=null,il=ks[--Cs],ks[Cs]=null;for(;s===Dr;)Dr=Ht[--zt],Ht[zt]=null,En=Ht[--zt],Ht[zt]=null,_n=Ht[--zt],Ht[zt]=null}var It=null,Ot=null,Ve=!1,Zt=null;function sp(s,i){var c=Vt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function ip(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,It=s,Ot=Yn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,It=s,Ot=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Dr!==null?{id:_n,overflow:En}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Vt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,It=s,Ot=null,!0):!1;default:return!1}}function Hc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zc(s){if(Ve){var i=Ot;if(i){var c=i;if(!ip(s,i)){if(Hc(s))throw Error(t(418));i=Yn(c.nextSibling);var f=It;i&&ip(s,i)?sp(f,c):(s.flags=s.flags&-4097|2,Ve=!1,It=s)}}else{if(Hc(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ve=!1,It=s}}}function ap(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;It=s}function al(s){if(s!==It)return!1;if(!Ve)return ap(s),Ve=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Rc(s.type,s.memoizedProps)),i&&(i=Ot)){if(Hc(s))throw lp(),Error(t(418));for(;i;)sp(s,i),i=Yn(i.nextSibling)}if(ap(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Ot=Yn(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Ot=null}}else Ot=It?Yn(s.stateNode.nextSibling):null;return!0}function lp(){for(var s=Ot;s;)s=Yn(s.nextSibling)}function As(){Ot=It=null,Ve=!1}function Bc(s){Zt===null?Zt=[s]:Zt.push(s)}var Uw=T.ReactCurrentBatchConfig;function $i(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var m=f,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(b){var k=m.refs;b===null?delete k[y]:k[y]=b},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function ll(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function op(s){var i=s._init;return i(s._payload)}function cp(s){function i(F,M){if(s){var H=F.deletions;H===null?(F.deletions=[M],F.flags|=16):H.push(M)}}function c(F,M){if(!s)return null;for(;M!==null;)i(F,M),M=M.sibling;return null}function f(F,M){for(F=new Map;M!==null;)M.key!==null?F.set(M.key,M):F.set(M.index,M),M=M.sibling;return F}function m(F,M){return F=sr(F,M),F.index=0,F.sibling=null,F}function y(F,M,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<M?(F.flags|=2,M):H):(F.flags|=2,M)):(F.flags|=1048576,M)}function b(F){return s&&F.alternate===null&&(F.flags|=2),F}function k(F,M,H,te){return M===null||M.tag!==6?(M=Mu(H,F.mode,te),M.return=F,M):(M=m(M,H),M.return=F,M)}function D(F,M,H,te){var pe=H.type;return pe===N?J(F,M,H.props.children,te,H.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ne&&op(pe)===M.type)?(te=m(M,H.props),te.ref=$i(F,M,H),te.return=F,te):(te=Tl(H.type,H.key,H.props,null,F.mode,te),te.ref=$i(F,M,H),te.return=F,te)}function z(F,M,H,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Iu(H,F.mode,te),M.return=F,M):(M=m(M,H.children||[]),M.return=F,M)}function J(F,M,H,te,pe){return M===null||M.tag!==7?(M=Ur(H,F.mode,te,pe),M.return=F,M):(M=m(M,H),M.return=F,M)}function X(F,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Mu(""+M,F.mode,H),M.return=F,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case W:return H=Tl(M.type,M.key,M.props,null,F.mode,H),H.ref=$i(F,null,M),H.return=F,H;case P:return M=Iu(M,F.mode,H),M.return=F,M;case ne:var te=M._init;return X(F,te(M._payload),H)}if(vi(M)||ee(M))return M=Ur(M,F.mode,H,null),M.return=F,M;ll(F,M)}return null}function Z(F,M,H,te){var pe=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return pe!==null?null:k(F,M,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return H.key===pe?D(F,M,H,te):null;case P:return H.key===pe?z(F,M,H,te):null;case ne:return pe=H._init,Z(F,M,pe(H._payload),te)}if(vi(H)||ee(H))return pe!==null?null:J(F,M,H,te,null);ll(F,H)}return null}function ae(F,M,H,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return F=F.get(H)||null,k(M,F,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case W:return F=F.get(te.key===null?H:te.key)||null,D(M,F,te,pe);case P:return F=F.get(te.key===null?H:te.key)||null,z(M,F,te,pe);case ne:var ge=te._init;return ae(F,M,H,ge(te._payload),pe)}if(vi(te)||ee(te))return F=F.get(H)||null,J(M,F,te,pe,null);ll(M,te)}return null}function ue(F,M,H,te){for(var pe=null,ge=null,ye=M,be=M=0,it=null;ye!==null&&be<H.length;be++){ye.index>be?(it=ye,ye=null):it=ye.sibling;var Oe=Z(F,ye,H[be],te);if(Oe===null){ye===null&&(ye=it);break}s&&ye&&Oe.alternate===null&&i(F,ye),M=y(Oe,M,be),ge===null?pe=Oe:ge.sibling=Oe,ge=Oe,ye=it}if(be===H.length)return c(F,ye),Ve&&Tr(F,be),pe;if(ye===null){for(;be<H.length;be++)ye=X(F,H[be],te),ye!==null&&(M=y(ye,M,be),ge===null?pe=ye:ge.sibling=ye,ge=ye);return Ve&&Tr(F,be),pe}for(ye=f(F,ye);be<H.length;be++)it=ae(ye,F,be,H[be],te),it!==null&&(s&&it.alternate!==null&&ye.delete(it.key===null?be:it.key),M=y(it,M,be),ge===null?pe=it:ge.sibling=it,ge=it);return s&&ye.forEach(function(ir){return i(F,ir)}),Ve&&Tr(F,be),pe}function he(F,M,H,te){var pe=ee(H);if(typeof pe!="function")throw Error(t(150));if(H=pe.call(H),H==null)throw Error(t(151));for(var ge=pe=null,ye=M,be=M=0,it=null,Oe=H.next();ye!==null&&!Oe.done;be++,Oe=H.next()){ye.index>be?(it=ye,ye=null):it=ye.sibling;var ir=Z(F,ye,Oe.value,te);if(ir===null){ye===null&&(ye=it);break}s&&ye&&ir.alternate===null&&i(F,ye),M=y(ir,M,be),ge===null?pe=ir:ge.sibling=ir,ge=ir,ye=it}if(Oe.done)return c(F,ye),Ve&&Tr(F,be),pe;if(ye===null){for(;!Oe.done;be++,Oe=H.next())Oe=X(F,Oe.value,te),Oe!==null&&(M=y(Oe,M,be),ge===null?pe=Oe:ge.sibling=Oe,ge=Oe);return Ve&&Tr(F,be),pe}for(ye=f(F,ye);!Oe.done;be++,Oe=H.next())Oe=ae(ye,F,be,Oe.value,te),Oe!==null&&(s&&Oe.alternate!==null&&ye.delete(Oe.key===null?be:Oe.key),M=y(Oe,M,be),ge===null?pe=Oe:ge.sibling=Oe,ge=Oe);return s&&ye.forEach(function(vb){return i(F,vb)}),Ve&&Tr(F,be),pe}function Xe(F,M,H,te){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case W:e:{for(var pe=H.key,ge=M;ge!==null;){if(ge.key===pe){if(pe=H.type,pe===N){if(ge.tag===7){c(F,ge.sibling),M=m(ge,H.props.children),M.return=F,F=M;break e}}else if(ge.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ne&&op(pe)===ge.type){c(F,ge.sibling),M=m(ge,H.props),M.ref=$i(F,ge,H),M.return=F,F=M;break e}c(F,ge);break}else i(F,ge);ge=ge.sibling}H.type===N?(M=Ur(H.props.children,F.mode,te,H.key),M.return=F,F=M):(te=Tl(H.type,H.key,H.props,null,F.mode,te),te.ref=$i(F,M,H),te.return=F,F=te)}return b(F);case P:e:{for(ge=H.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){c(F,M.sibling),M=m(M,H.children||[]),M.return=F,F=M;break e}else{c(F,M);break}else i(F,M);M=M.sibling}M=Iu(H,F.mode,te),M.return=F,F=M}return b(F);case ne:return ge=H._init,Xe(F,M,ge(H._payload),te)}if(vi(H))return ue(F,M,H,te);if(ee(H))return he(F,M,H,te);ll(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(c(F,M.sibling),M=m(M,H),M.return=F,F=M):(c(F,M),M=Mu(H,F.mode,te),M.return=F,F=M),b(F)):c(F,M)}return Xe}var Ns=cp(!0),up=cp(!1),ol=Gn(null),cl=null,js=null,$c=null;function Wc(){$c=js=cl=null}function Vc(s){var i=ol.current;We(ol),s._currentValue=i}function qc(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function Ds(s,i){cl=s,$c=js=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Ct=!0),s.firstContext=null)}function Bt(s){var i=s._currentValue;if($c!==s)if(s={context:s,memoizedValue:i,next:null},js===null){if(cl===null)throw Error(t(308));js=s,cl.dependencies={lanes:0,firstContext:s}}else js=js.next=s;return i}var Rr=null;function Yc(s){Rr===null?Rr=[s]:Rr.push(s)}function dp(s,i,c,f){var m=i.interleaved;return m===null?(c.next=c,Yc(i)):(c.next=m.next,m.next=c),i.interleaved=c,kn(s,f)}function kn(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Kn=!1;function Gc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Cn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Jn(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ie&2)!==0){var m=f.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),f.pending=i,kn(s,c)}return m=f.interleaved,m===null?(i.next=i,Yc(f)):(i.next=m.next,m.next=i),f.interleaved=i,kn(s,c)}function ul(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,oc(s,c)}}function hp(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=b:y=y.next=b,c=c.next}while(c!==null);y===null?m=y=i:y=y.next=i}else m=y=i;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function dl(s,i,c,f){var m=s.updateQueue;Kn=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var D=k,z=D.next;D.next=null,b===null?y=z:b.next=z,b=D;var J=s.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==b&&(k===null?J.firstBaseUpdate=z:k.next=z,J.lastBaseUpdate=D))}if(y!==null){var X=m.baseState;b=0,J=z=D=null,k=y;do{var Z=k.lane,ae=k.eventTime;if((f&Z)===Z){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ue=s,he=k;switch(Z=i,ae=c,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){X=ue.call(ae,X,Z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,Z=typeof ue=="function"?ue.call(ae,X,Z):ue,Z==null)break e;X=Q({},X,Z);break e;case 2:Kn=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[k]:Z.push(k))}else ae={eventTime:ae,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(z=J=ae,D=X):J=J.next=ae,b|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(J===null&&(D=X),m.baseState=D,m.firstBaseUpdate=z,m.lastBaseUpdate=J,i=m.shared.interleaved,i!==null){m=i;do b|=m.lane,m=m.next;while(m!==i)}else y===null&&(m.shared.lanes=0);Or|=b,s.lanes=b,s.memoizedState=X}}function pp(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],m=f.callback;if(m!==null){if(f.callback=null,f=c,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Wi={},dn=Gn(Wi),Vi=Gn(Wi),qi=Gn(Wi);function Mr(s){if(s===Wi)throw Error(t(174));return s}function Qc(s,i){switch(Ue(qi,i),Ue(Vi,s),Ue(dn,Wi),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Zo(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Zo(i,s)}We(dn),Ue(dn,i)}function Ts(){We(dn),We(Vi),We(qi)}function mp(s){Mr(qi.current);var i=Mr(dn.current),c=Zo(i,s.type);i!==c&&(Ue(Vi,s),Ue(dn,c))}function Zc(s){Vi.current===s&&(We(dn),We(Vi))}var Ye=Gn(0);function fl(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kc=[];function Jc(){for(var s=0;s<Kc.length;s++)Kc[s]._workInProgressVersionPrimary=null;Kc.length=0}var hl=T.ReactCurrentDispatcher,Xc=T.ReactCurrentBatchConfig,Ir=0,Ge=null,tt=null,rt=null,pl=!1,Yi=!1,Gi=0,Hw=0;function dt(){throw Error(t(321))}function eu(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!Qt(s[c],i[c]))return!1;return!0}function tu(s,i,c,f,m,y){if(Ir=y,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,hl.current=s===null||s.memoizedState===null?Ww:Vw,s=c(f,m),Yi){y=0;do{if(Yi=!1,Gi=0,25<=y)throw Error(t(301));y+=1,rt=tt=null,i.updateQueue=null,hl.current=qw,s=c(f,m)}while(Yi)}if(hl.current=yl,i=tt!==null&&tt.next!==null,Ir=0,rt=tt=Ge=null,pl=!1,i)throw Error(t(300));return s}function nu(){var s=Gi!==0;return Gi=0,s}function fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ge.memoizedState=rt=s:rt=rt.next=s,rt}function $t(){if(tt===null){var s=Ge.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var i=rt===null?Ge.memoizedState:rt.next;if(i!==null)rt=i,tt=s;else{if(s===null)throw Error(t(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},rt===null?Ge.memoizedState=rt=s:rt=rt.next=s}return rt}function Qi(s,i){return typeof i=="function"?i(s):i}function ru(s){var i=$t(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=tt,m=f.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}f.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,f=f.baseState;var k=b=null,D=null,z=y;do{var J=z.lane;if((Ir&J)===J)D!==null&&(D=D.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:s(f,z.action);else{var X={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};D===null?(k=D=X,b=f):D=D.next=X,Ge.lanes|=J,Or|=J}z=z.next}while(z!==null&&z!==y);D===null?b=f:D.next=k,Qt(f,i.memoizedState)||(Ct=!0),i.memoizedState=f,i.baseState=b,i.baseQueue=D,c.lastRenderedState=f}if(s=c.interleaved,s!==null){m=s;do y=m.lane,Ge.lanes|=y,Or|=y,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function su(s){var i=$t(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,y=i.memoizedState;if(m!==null){c.pending=null;var b=m=m.next;do y=s(y,b.action),b=b.next;while(b!==m);Qt(y,i.memoizedState)||(Ct=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),c.lastRenderedState=y}return[y,f]}function gp(){}function yp(s,i){var c=Ge,f=$t(),m=i(),y=!Qt(f.memoizedState,m);if(y&&(f.memoizedState=m,Ct=!0),f=f.queue,iu(wp.bind(null,c,f,s),[s]),f.getSnapshot!==i||y||rt!==null&&rt.memoizedState.tag&1){if(c.flags|=2048,Zi(9,xp.bind(null,c,f,m,i),void 0,null),st===null)throw Error(t(349));(Ir&30)!==0||vp(c,i,m)}return m}function vp(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function xp(s,i,c,f){i.value=c,i.getSnapshot=f,bp(i)&&Sp(s)}function wp(s,i,c){return c(function(){bp(i)&&Sp(s)})}function bp(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!Qt(s,c)}catch{return!0}}function Sp(s){var i=kn(s,1);i!==null&&en(i,s,1,-1)}function _p(s){var i=fn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},i.queue=s,s=s.dispatch=$w.bind(null,Ge,s),[i.memoizedState,s]}function Zi(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Ep(){return $t().memoizedState}function ml(s,i,c,f){var m=fn();Ge.flags|=s,m.memoizedState=Zi(1|i,c,void 0,f===void 0?null:f)}function gl(s,i,c,f){var m=$t();f=f===void 0?null:f;var y=void 0;if(tt!==null){var b=tt.memoizedState;if(y=b.destroy,f!==null&&eu(f,b.deps)){m.memoizedState=Zi(i,c,y,f);return}}Ge.flags|=s,m.memoizedState=Zi(1|i,c,y,f)}function kp(s,i){return ml(8390656,8,s,i)}function iu(s,i){return gl(2048,8,s,i)}function Cp(s,i){return gl(4,2,s,i)}function Ap(s,i){return gl(4,4,s,i)}function Np(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function jp(s,i,c){return c=c!=null?c.concat([s]):null,gl(4,4,Np.bind(null,i,s),c)}function au(){}function Dp(s,i){var c=$t();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&eu(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function Tp(s,i){var c=$t();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&eu(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function Rp(s,i,c){return(Ir&21)===0?(s.baseState&&(s.baseState=!1,Ct=!0),s.memoizedState=c):(Qt(c,i)||(c=oh(),Ge.lanes|=c,Or|=c,s.baseState=!0),i)}function zw(s,i){var c=Fe;Fe=c!==0&&4>c?c:4,s(!0);var f=Xc.transition;Xc.transition={};try{s(!1),i()}finally{Fe=c,Xc.transition=f}}function Mp(){return $t().memoizedState}function Bw(s,i,c){var f=nr(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Ip(s))Op(i,c);else if(c=dp(s,i,c,f),c!==null){var m=wt();en(c,s,f,m),Pp(c,i,f)}}function $w(s,i,c){var f=nr(s),m={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ip(s))Op(i,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var b=i.lastRenderedState,k=y(b,c);if(m.hasEagerState=!0,m.eagerState=k,Qt(k,b)){var D=i.interleaved;D===null?(m.next=m,Yc(i)):(m.next=D.next,D.next=m),i.interleaved=m;return}}catch{}finally{}c=dp(s,i,m,f),c!==null&&(m=wt(),en(c,s,f,m),Pp(c,i,f))}}function Ip(s){var i=s.alternate;return s===Ge||i!==null&&i===Ge}function Op(s,i){Yi=pl=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function Pp(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,oc(s,c)}}var yl={readContext:Bt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Ww={readContext:Bt,useCallback:function(s,i){return fn().memoizedState=[s,i===void 0?null:i],s},useContext:Bt,useEffect:kp,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,ml(4194308,4,Np.bind(null,i,s),c)},useLayoutEffect:function(s,i){return ml(4194308,4,s,i)},useInsertionEffect:function(s,i){return ml(4,2,s,i)},useMemo:function(s,i){var c=fn();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=fn();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=Bw.bind(null,Ge,s),[f.memoizedState,s]},useRef:function(s){var i=fn();return s={current:s},i.memoizedState=s},useState:_p,useDebugValue:au,useDeferredValue:function(s){return fn().memoizedState=s},useTransition:function(){var s=_p(!1),i=s[0];return s=zw.bind(null,s[1]),fn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=Ge,m=fn();if(Ve){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),st===null)throw Error(t(349));(Ir&30)!==0||vp(f,i,c)}m.memoizedState=c;var y={value:c,getSnapshot:i};return m.queue=y,kp(wp.bind(null,f,y,s),[s]),f.flags|=2048,Zi(9,xp.bind(null,f,y,c,i),void 0,null),c},useId:function(){var s=fn(),i=st.identifierPrefix;if(Ve){var c=En,f=_n;c=(f&~(1<<32-Gt(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=Gi++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Hw++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Vw={readContext:Bt,useCallback:Dp,useContext:Bt,useEffect:iu,useImperativeHandle:jp,useInsertionEffect:Cp,useLayoutEffect:Ap,useMemo:Tp,useReducer:ru,useRef:Ep,useState:function(){return ru(Qi)},useDebugValue:au,useDeferredValue:function(s){var i=$t();return Rp(i,tt.memoizedState,s)},useTransition:function(){var s=ru(Qi)[0],i=$t().memoizedState;return[s,i]},useMutableSource:gp,useSyncExternalStore:yp,useId:Mp,unstable_isNewReconciler:!1},qw={readContext:Bt,useCallback:Dp,useContext:Bt,useEffect:iu,useImperativeHandle:jp,useInsertionEffect:Cp,useLayoutEffect:Ap,useMemo:Tp,useReducer:su,useRef:Ep,useState:function(){return su(Qi)},useDebugValue:au,useDeferredValue:function(s){var i=$t();return tt===null?i.memoizedState=s:Rp(i,tt.memoizedState,s)},useTransition:function(){var s=su(Qi)[0],i=$t().memoizedState;return[s,i]},useMutableSource:gp,useSyncExternalStore:yp,useId:Mp,unstable_isNewReconciler:!1};function Kt(s,i){if(s&&s.defaultProps){i=Q({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function lu(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:Q({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vl={isMounted:function(s){return(s=s._reactInternals)?Ar(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=wt(),m=nr(s),y=Cn(f,m);y.payload=i,c!=null&&(y.callback=c),i=Jn(s,y,m),i!==null&&(en(i,s,m,f),ul(i,s,m))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=wt(),m=nr(s),y=Cn(f,m);y.tag=1,y.payload=i,c!=null&&(y.callback=c),i=Jn(s,y,m),i!==null&&(en(i,s,m,f),ul(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=wt(),f=nr(s),m=Cn(c,f);m.tag=2,i!=null&&(m.callback=i),i=Jn(s,m,f),i!==null&&(en(i,s,f,c),ul(i,s,f))}};function Lp(s,i,c,f,m,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,b):i.prototype&&i.prototype.isPureReactComponent?!Pi(c,f)||!Pi(m,y):!0}function Fp(s,i,c){var f=!1,m=Qn,y=i.contextType;return typeof y=="object"&&y!==null?y=Bt(y):(m=kt(i)?jr:ut.current,f=i.contextTypes,y=(f=f!=null)?Es(s,m):Qn),i=new i(c,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vl,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),i}function Up(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&vl.enqueueReplaceState(i,i.state,null)}function ou(s,i,c,f){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},Gc(s);var y=i.contextType;typeof y=="object"&&y!==null?m.context=Bt(y):(y=kt(i)?jr:ut.current,m.context=Es(s,y)),m.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(lu(s,i,y,c),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&vl.enqueueReplaceState(m,m.state,null),dl(s,c,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Rs(s,i){try{var c="",f=i;do c+=de(f),f=f.return;while(f);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:m,digest:null}}function cu(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function uu(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Yw=typeof WeakMap=="function"?WeakMap:Map;function Hp(s,i,c){c=Cn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){kl||(kl=!0,ku=f),uu(s,i)},c}function zp(s,i,c){c=Cn(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=i.value;c.payload=function(){return f(m)},c.callback=function(){uu(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){uu(s,i),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),c}function Bp(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new Yw;var m=new Set;f.set(i,m)}else m=f.get(i),m===void 0&&(m=new Set,f.set(i,m));m.has(c)||(m.add(c),s=lb.bind(null,s,i,c),i.then(s,s))}function $p(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Wp(s,i,c,f,m){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Cn(-1,1),i.tag=2,Jn(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Gw=T.ReactCurrentOwner,Ct=!1;function xt(s,i,c,f){i.child=s===null?up(i,null,c,f):Ns(i,s.child,c,f)}function Vp(s,i,c,f,m){c=c.render;var y=i.ref;return Ds(i,m),f=tu(s,i,c,f,y,m),c=nu(),s!==null&&!Ct?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,An(s,i,m)):(Ve&&c&&Fc(i),i.flags|=1,xt(s,i,f,m),i.child)}function qp(s,i,c,f,m){if(s===null){var y=c.type;return typeof y=="function"&&!Ru(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=y,Yp(s,i,y,f,m)):(s=Tl(c.type,null,f,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&m)===0){var b=y.memoizedProps;if(c=c.compare,c=c!==null?c:Pi,c(b,f)&&s.ref===i.ref)return An(s,i,m)}return i.flags|=1,s=sr(y,f),s.ref=i.ref,s.return=i,i.child=s}function Yp(s,i,c,f,m){if(s!==null){var y=s.memoizedProps;if(Pi(y,f)&&s.ref===i.ref)if(Ct=!1,i.pendingProps=f=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Ct=!0);else return i.lanes=s.lanes,An(s,i,m)}return du(s,i,c,f,m)}function Gp(s,i,c){var f=i.pendingProps,m=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Is,Pt),Pt|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ue(Is,Pt),Pt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,Ue(Is,Pt),Pt|=f}else y!==null?(f=y.baseLanes|c,i.memoizedState=null):f=c,Ue(Is,Pt),Pt|=f;return xt(s,i,m,c),i.child}function Qp(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function du(s,i,c,f,m){var y=kt(c)?jr:ut.current;return y=Es(i,y),Ds(i,m),c=tu(s,i,c,f,y,m),f=nu(),s!==null&&!Ct?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,An(s,i,m)):(Ve&&f&&Fc(i),i.flags|=1,xt(s,i,c,m),i.child)}function Zp(s,i,c,f,m){if(kt(c)){var y=!0;nl(i)}else y=!1;if(Ds(i,m),i.stateNode===null)wl(s,i),Fp(i,c,f),ou(i,c,f,m),f=!0;else if(s===null){var b=i.stateNode,k=i.memoizedProps;b.props=k;var D=b.context,z=c.contextType;typeof z=="object"&&z!==null?z=Bt(z):(z=kt(c)?jr:ut.current,z=Es(i,z));var J=c.getDerivedStateFromProps,X=typeof J=="function"||typeof b.getSnapshotBeforeUpdate=="function";X||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==f||D!==z)&&Up(i,b,f,z),Kn=!1;var Z=i.memoizedState;b.state=Z,dl(i,f,b,m),D=i.memoizedState,k!==f||Z!==D||Et.current||Kn?(typeof J=="function"&&(lu(i,c,J,f),D=i.memoizedState),(k=Kn||Lp(i,c,k,f,Z,D,z))?(X||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=D),b.props=f,b.state=D,b.context=z,f=k):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{b=i.stateNode,fp(s,i),k=i.memoizedProps,z=i.type===i.elementType?k:Kt(i.type,k),b.props=z,X=i.pendingProps,Z=b.context,D=c.contextType,typeof D=="object"&&D!==null?D=Bt(D):(D=kt(c)?jr:ut.current,D=Es(i,D));var ae=c.getDerivedStateFromProps;(J=typeof ae=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==X||Z!==D)&&Up(i,b,f,D),Kn=!1,Z=i.memoizedState,b.state=Z,dl(i,f,b,m);var ue=i.memoizedState;k!==X||Z!==ue||Et.current||Kn?(typeof ae=="function"&&(lu(i,c,ae,f),ue=i.memoizedState),(z=Kn||Lp(i,c,z,f,Z,ue,D)||!1)?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ue,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ue,D)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ue),b.props=f,b.state=ue,b.context=D,f=z):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&Z===s.memoizedState||(i.flags|=1024),f=!1)}return fu(s,i,c,f,y,m)}function fu(s,i,c,f,m,y){Qp(s,i);var b=(i.flags&128)!==0;if(!f&&!b)return m&&tp(i,c,!1),An(s,i,y);f=i.stateNode,Gw.current=i;var k=b&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&b?(i.child=Ns(i,s.child,null,y),i.child=Ns(i,null,k,y)):xt(s,i,k,y),i.memoizedState=f.state,m&&tp(i,c,!0),i.child}function Kp(s){var i=s.stateNode;i.pendingContext?Xh(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Xh(s,i.context,!1),Qc(s,i.containerInfo)}function Jp(s,i,c,f,m){return As(),Bc(m),i.flags|=256,xt(s,i,c,f),i.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(s){return{baseLanes:s,cachePool:null,transitions:null}}function Xp(s,i,c){var f=i.pendingProps,m=Ye.current,y=!1,b=(i.flags&128)!==0,k;if((k=b)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Ue(Ye,m&1),s===null)return zc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=f.children,s=f.fallback,y?(f=i.mode,y=i.child,b={mode:"hidden",children:b},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=Rl(b,f,0,null),s=Ur(s,f,c,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=pu(c),i.memoizedState=hu,s):mu(i,b));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return Qw(s,i,b,f,k,m,c);if(y){y=f.fallback,b=i.mode,m=s.child,k=m.sibling;var D={mode:"hidden",children:f.children};return(b&1)===0&&i.child!==m?(f=i.child,f.childLanes=0,f.pendingProps=D,i.deletions=null):(f=sr(m,D),f.subtreeFlags=m.subtreeFlags&14680064),k!==null?y=sr(k,y):(y=Ur(y,b,c,null),y.flags|=2),y.return=i,f.return=i,f.sibling=y,i.child=f,f=y,y=i.child,b=s.child.memoizedState,b=b===null?pu(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=s.childLanes&~c,i.memoizedState=hu,f}return y=s.child,s=y.sibling,f=sr(y,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function mu(s,i){return i=Rl({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function xl(s,i,c,f){return f!==null&&Bc(f),Ns(i,s.child,null,c),s=mu(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Qw(s,i,c,f,m,y,b){if(c)return i.flags&256?(i.flags&=-257,f=cu(Error(t(422))),xl(s,i,b,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=f.fallback,m=i.mode,f=Rl({mode:"visible",children:f.children},m,0,null),y=Ur(y,m,b,null),y.flags|=2,f.return=i,y.return=i,f.sibling=y,i.child=f,(i.mode&1)!==0&&Ns(i,s.child,null,b),i.child.memoizedState=pu(b),i.memoizedState=hu,y);if((i.mode&1)===0)return xl(s,i,b,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var k=f.dgst;return f=k,y=Error(t(419)),f=cu(y,f,void 0),xl(s,i,b,f)}if(k=(b&s.childLanes)!==0,Ct||k){if(f=st,f!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|b))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,kn(s,m),en(f,s,m,-1))}return Tu(),f=cu(Error(t(421))),xl(s,i,b,f)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=ob.bind(null,s),m._reactRetry=i,null):(s=y.treeContext,Ot=Yn(m.nextSibling),It=i,Ve=!0,Zt=null,s!==null&&(Ht[zt++]=_n,Ht[zt++]=En,Ht[zt++]=Dr,_n=s.id,En=s.overflow,Dr=i),i=mu(i,f.children),i.flags|=4096,i)}function em(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),qc(s.return,i,c)}function gu(s,i,c,f,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=m)}function tm(s,i,c){var f=i.pendingProps,m=f.revealOrder,y=f.tail;if(xt(s,i,f.children,c),f=Ye.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&em(s,c,i);else if(s.tag===19)em(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ue(Ye,f),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(c=i.child,m=null;c!==null;)s=c.alternate,s!==null&&fl(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=i.child,i.child=null):(m=c.sibling,c.sibling=null),gu(i,!1,m,c,y);break;case"backwards":for(c=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&fl(s)===null){i.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}gu(i,!0,c,null,y);break;case"together":gu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wl(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function An(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Or|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=sr(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=sr(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Zw(s,i,c){switch(i.tag){case 3:Kp(i),As();break;case 5:mp(i);break;case 1:kt(i.type)&&nl(i);break;case 4:Qc(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,m=i.memoizedProps.value;Ue(ol,f._currentValue),f._currentValue=m;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ue(Ye,Ye.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Xp(s,i,c):(Ue(Ye,Ye.current&1),s=An(s,i,c),s!==null?s.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return tm(s,i,c);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ue(Ye,Ye.current),f)break;return null;case 22:case 23:return i.lanes=0,Gp(s,i,c)}return An(s,i,c)}var nm,yu,rm,sm;nm=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},yu=function(){},rm=function(s,i,c,f){var m=s.memoizedProps;if(m!==f){s=i.stateNode,Mr(dn.current);var y=null;switch(c){case"input":m=qo(s,m),f=qo(s,f),y=[];break;case"select":m=Q({},m,{value:void 0}),f=Q({},f,{value:void 0}),y=[];break;case"textarea":m=Qo(s,m),f=Qo(s,f),y=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Xa)}Ko(c,f);var b;c=null;for(z in m)if(!f.hasOwnProperty(z)&&m.hasOwnProperty(z)&&m[z]!=null)if(z==="style"){var k=m[z];for(b in k)k.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in f){var D=f[z];if(k=m!=null?m[z]:void 0,f.hasOwnProperty(z)&&D!==k&&(D!=null||k!=null))if(z==="style")if(k){for(b in k)!k.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in D)D.hasOwnProperty(b)&&k[b]!==D[b]&&(c||(c={}),c[b]=D[b])}else c||(y||(y=[]),y.push(z,c)),c=D;else z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,k=k?k.__html:void 0,D!=null&&k!==D&&(y=y||[]).push(z,D)):z==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(z,""+D):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(D!=null&&z==="onScroll"&&$e("scroll",s),y||k===D||(y=[])):(y=y||[]).push(z,D))}c&&(y=y||[]).push("style",c);var z=y;(i.updateQueue=z)&&(i.flags|=4)}},sm=function(s,i,c,f){c!==f&&(i.flags|=4)};function Ki(s,i){if(!Ve)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function ft(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function Kw(s,i,c){var f=i.pendingProps;switch(Uc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return kt(i.type)&&tl(),ft(i),null;case 3:return f=i.stateNode,Ts(),We(Et),We(ut),Jc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(al(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zt!==null&&(Nu(Zt),Zt=null))),yu(s,i),ft(i),null;case 5:Zc(i);var m=Mr(qi.current);if(c=i.type,s!==null&&i.stateNode!=null)rm(s,i,c,f,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return ft(i),null}if(s=Mr(dn.current),al(i)){f=i.stateNode,c=i.type;var y=i.memoizedProps;switch(f[un]=i,f[zi]=y,s=(i.mode&1)!==0,c){case"dialog":$e("cancel",f),$e("close",f);break;case"iframe":case"object":case"embed":$e("load",f);break;case"video":case"audio":for(m=0;m<Fi.length;m++)$e(Fi[m],f);break;case"source":$e("error",f);break;case"img":case"image":case"link":$e("error",f),$e("load",f);break;case"details":$e("toggle",f);break;case"input":Ff(f,y),$e("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},$e("invalid",f);break;case"textarea":zf(f,y),$e("invalid",f)}Ko(c,y),m=null;for(var b in y)if(y.hasOwnProperty(b)){var k=y[b];b==="children"?typeof k=="string"?f.textContent!==k&&(y.suppressHydrationWarning!==!0&&Ja(f.textContent,k,s),m=["children",k]):typeof k=="number"&&f.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Ja(f.textContent,k,s),m=["children",""+k]):a.hasOwnProperty(b)&&k!=null&&b==="onScroll"&&$e("scroll",f)}switch(c){case"input":Rt(f),Hf(f,y,!0);break;case"textarea":Rt(f),$f(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Xa)}f=m,i.updateQueue=f,f!==null&&(i.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Wf(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=b.createElement(c,{is:f.is}):(s=b.createElement(c),c==="select"&&(b=s,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):s=b.createElementNS(s,c),s[un]=i,s[zi]=f,nm(s,i,!1,!1),i.stateNode=s;e:{switch(b=Jo(c,f),c){case"dialog":$e("cancel",s),$e("close",s),m=f;break;case"iframe":case"object":case"embed":$e("load",s),m=f;break;case"video":case"audio":for(m=0;m<Fi.length;m++)$e(Fi[m],s);m=f;break;case"source":$e("error",s),m=f;break;case"img":case"image":case"link":$e("error",s),$e("load",s),m=f;break;case"details":$e("toggle",s),m=f;break;case"input":Ff(s,f),m=qo(s,f),$e("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=Q({},f,{value:void 0}),$e("invalid",s);break;case"textarea":zf(s,f),m=Qo(s,f),$e("invalid",s);break;default:m=f}Ko(c,m),k=m;for(y in k)if(k.hasOwnProperty(y)){var D=k[y];y==="style"?Yf(s,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Vf(s,D)):y==="children"?typeof D=="string"?(c!=="textarea"||D!=="")&&xi(s,D):typeof D=="number"&&xi(s,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?D!=null&&y==="onScroll"&&$e("scroll",s):D!=null&&I(s,y,D,b))}switch(c){case"input":Rt(s),Hf(s,f,!1);break;case"textarea":Rt(s),$f(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ee(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?fs(s,!!f.multiple,y,!1):f.defaultValue!=null&&fs(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Xa)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ft(i),null;case 6:if(s&&i.stateNode!=null)sm(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(c=Mr(qi.current),Mr(dn.current),al(i)){if(f=i.stateNode,c=i.memoizedProps,f[un]=i,(y=f.nodeValue!==c)&&(s=It,s!==null))switch(s.tag){case 3:Ja(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ja(f.nodeValue,c,(s.mode&1)!==0)}y&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[un]=i,i.stateNode=f}return ft(i),null;case 13:if(We(Ye),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ve&&Ot!==null&&(i.mode&1)!==0&&(i.flags&128)===0)lp(),As(),i.flags|=98560,y=!1;else if(y=al(i),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[un]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),y=!1}else Zt!==null&&(Nu(Zt),Zt=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ye.current&1)!==0?nt===0&&(nt=3):Tu())),i.updateQueue!==null&&(i.flags|=4),ft(i),null);case 4:return Ts(),yu(s,i),s===null&&Ui(i.stateNode.containerInfo),ft(i),null;case 10:return Vc(i.type._context),ft(i),null;case 17:return kt(i.type)&&tl(),ft(i),null;case 19:if(We(Ye),y=i.memoizedState,y===null)return ft(i),null;if(f=(i.flags&128)!==0,b=y.rendering,b===null)if(f)Ki(y,!1);else{if(nt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(b=fl(s),b!==null){for(i.flags|=128,Ki(y,!1),f=b.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)y=c,s=f,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,s=b.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ue(Ye,Ye.current&1|2),i.child}s=s.sibling}y.tail!==null&&Je()>Os&&(i.flags|=128,f=!0,Ki(y,!1),i.lanes=4194304)}else{if(!f)if(s=fl(b),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Ki(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ve)return ft(i),null}else 2*Je()-y.renderingStartTime>Os&&c!==1073741824&&(i.flags|=128,f=!0,Ki(y,!1),i.lanes=4194304);y.isBackwards?(b.sibling=i.child,i.child=b):(c=y.last,c!==null?c.sibling=b:i.child=b,y.last=b)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Je(),i.sibling=null,c=Ye.current,Ue(Ye,f?c&1|2:c&1),i):(ft(i),null);case 22:case 23:return Du(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Pt&1073741824)!==0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Jw(s,i){switch(Uc(i),i.tag){case 1:return kt(i.type)&&tl(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ts(),We(Et),We(ut),Jc(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Zc(i),null;case 13:if(We(Ye),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));As()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return We(Ye),null;case 4:return Ts(),null;case 10:return Vc(i.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var bl=!1,ht=!1,Xw=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ms(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Ze(s,i,f)}else c.current=null}function vu(s,i,c){try{c()}catch(f){Ze(s,i,f)}}var im=!1;function eb(s,i){if(Dc=za,s=Lh(),Sc(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var b=0,k=-1,D=-1,z=0,J=0,X=s,Z=null;t:for(;;){for(var ae;X!==c||m!==0&&X.nodeType!==3||(k=b+m),X!==y||f!==0&&X.nodeType!==3||(D=b+f),X.nodeType===3&&(b+=X.nodeValue.length),(ae=X.firstChild)!==null;)Z=X,X=ae;for(;;){if(X===s)break t;if(Z===c&&++z===m&&(k=b),Z===y&&++J===f&&(D=b),(ae=X.nextSibling)!==null)break;X=Z,Z=X.parentNode}X=ae}c=k===-1||D===-1?null:{start:k,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tc={focusedElem:s,selectionRange:c},za=!1,ce=i;ce!==null;)if(i=ce,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ce=s;else for(;ce!==null;){i=ce;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,Xe=ue.memoizedState,F=i.stateNode,M=F.getSnapshotBeforeUpdate(i.elementType===i.type?he:Kt(i.type,he),Xe);F.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=i.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){Ze(i,i.return,te)}if(s=i.sibling,s!==null){s.return=i.return,ce=s;break}ce=i.return}return ue=im,im=!1,ue}function Ji(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&vu(i,c,y)}m=m.next}while(m!==f)}}function Sl(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function xu(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function am(s){var i=s.alternate;i!==null&&(s.alternate=null,am(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[un],delete i[zi],delete i[Oc],delete i[Pw],delete i[Lw])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lm(s){return s.tag===5||s.tag===3||s.tag===4}function om(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wu(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Xa));else if(f!==4&&(s=s.child,s!==null))for(wu(s,i,c),s=s.sibling;s!==null;)wu(s,i,c),s=s.sibling}function bu(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(bu(s,i,c),s=s.sibling;s!==null;)bu(s,i,c),s=s.sibling}var ot=null,Jt=!1;function Xn(s,i,c){for(c=c.child;c!==null;)cm(s,i,c),c=c.sibling}function cm(s,i,c){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Oa,c)}catch{}switch(c.tag){case 5:ht||Ms(c,i);case 6:var f=ot,m=Jt;ot=null,Xn(s,i,c),ot=f,Jt=m,ot!==null&&(Jt?(s=ot,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ot.removeChild(c.stateNode));break;case 18:ot!==null&&(Jt?(s=ot,c=c.stateNode,s.nodeType===8?Ic(s.parentNode,c):s.nodeType===1&&Ic(s,c),Di(s)):Ic(ot,c.stateNode));break;case 4:f=ot,m=Jt,ot=c.stateNode.containerInfo,Jt=!0,Xn(s,i,c),ot=f,Jt=m;break;case 0:case 11:case 14:case 15:if(!ht&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var y=m,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&vu(c,i,b),m=m.next}while(m!==f)}Xn(s,i,c);break;case 1:if(!ht&&(Ms(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(k){Ze(c,i,k)}Xn(s,i,c);break;case 21:Xn(s,i,c);break;case 22:c.mode&1?(ht=(f=ht)||c.memoizedState!==null,Xn(s,i,c),ht=f):Xn(s,i,c);break;default:Xn(s,i,c)}}function um(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Xw),i.forEach(function(f){var m=cb.bind(null,s,f);c.has(f)||(c.add(f),f.then(m,m))})}}function Xt(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];try{var y=s,b=i,k=b;e:for(;k!==null;){switch(k.tag){case 5:ot=k.stateNode,Jt=!1;break e;case 3:ot=k.stateNode.containerInfo,Jt=!0;break e;case 4:ot=k.stateNode.containerInfo,Jt=!0;break e}k=k.return}if(ot===null)throw Error(t(160));cm(y,b,m),ot=null,Jt=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(z){Ze(m,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dm(i,s),i=i.sibling}function dm(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xt(i,s),hn(s),f&4){try{Ji(3,s,s.return),Sl(3,s)}catch(he){Ze(s,s.return,he)}try{Ji(5,s,s.return)}catch(he){Ze(s,s.return,he)}}break;case 1:Xt(i,s),hn(s),f&512&&c!==null&&Ms(c,c.return);break;case 5:if(Xt(i,s),hn(s),f&512&&c!==null&&Ms(c,c.return),s.flags&32){var m=s.stateNode;try{xi(m,"")}catch(he){Ze(s,s.return,he)}}if(f&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,b=c!==null?c.memoizedProps:y,k=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Uf(m,y),Jo(k,b);var z=Jo(k,y);for(b=0;b<D.length;b+=2){var J=D[b],X=D[b+1];J==="style"?Yf(m,X):J==="dangerouslySetInnerHTML"?Vf(m,X):J==="children"?xi(m,X):I(m,J,X,z)}switch(k){case"input":Yo(m,y);break;case"textarea":Bf(m,y);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?fs(m,!!y.multiple,ae,!1):Z!==!!y.multiple&&(y.defaultValue!=null?fs(m,!!y.multiple,y.defaultValue,!0):fs(m,!!y.multiple,y.multiple?[]:"",!1))}m[zi]=y}catch(he){Ze(s,s.return,he)}}break;case 6:if(Xt(i,s),hn(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(he){Ze(s,s.return,he)}}break;case 3:if(Xt(i,s),hn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Di(i.containerInfo)}catch(he){Ze(s,s.return,he)}break;case 4:Xt(i,s),hn(s);break;case 13:Xt(i,s),hn(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Eu=Je())),f&4&&um(s);break;case 22:if(J=c!==null&&c.memoizedState!==null,s.mode&1?(ht=(z=ht)||J,Xt(i,s),ht=z):Xt(i,s),hn(s),f&8192){if(z=s.memoizedState!==null,(s.stateNode.isHidden=z)&&!J&&(s.mode&1)!==0)for(ce=s,J=s.child;J!==null;){for(X=ce=J;ce!==null;){switch(Z=ce,ae=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ji(4,Z,Z.return);break;case 1:Ms(Z,Z.return);var ue=Z.stateNode;if(typeof ue.componentWillUnmount=="function"){f=Z,c=Z.return;try{i=f,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(he){Ze(f,c,he)}}break;case 5:Ms(Z,Z.return);break;case 22:if(Z.memoizedState!==null){pm(X);continue}}ae!==null?(ae.return=Z,ce=ae):pm(X)}J=J.sibling}e:for(J=null,X=s;;){if(X.tag===5){if(J===null){J=X;try{m=X.stateNode,z?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=X.stateNode,D=X.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,k.style.display=qf("display",b))}catch(he){Ze(s,s.return,he)}}}else if(X.tag===6){if(J===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(he){Ze(s,s.return,he)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===s)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===s)break e;for(;X.sibling===null;){if(X.return===null||X.return===s)break e;J===X&&(J=null),X=X.return}J===X&&(J=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Xt(i,s),hn(s),f&4&&um(s);break;case 21:break;default:Xt(i,s),hn(s)}}function hn(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(lm(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(xi(m,""),f.flags&=-33);var y=om(s);bu(s,y,m);break;case 3:case 4:var b=f.stateNode.containerInfo,k=om(s);wu(s,k,b);break;default:throw Error(t(161))}}catch(D){Ze(s,s.return,D)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function tb(s,i,c){ce=s,fm(s)}function fm(s,i,c){for(var f=(s.mode&1)!==0;ce!==null;){var m=ce,y=m.child;if(m.tag===22&&f){var b=m.memoizedState!==null||bl;if(!b){var k=m.alternate,D=k!==null&&k.memoizedState!==null||ht;k=bl;var z=ht;if(bl=b,(ht=D)&&!z)for(ce=m;ce!==null;)b=ce,D=b.child,b.tag===22&&b.memoizedState!==null?mm(m):D!==null?(D.return=b,ce=D):mm(m);for(;y!==null;)ce=y,fm(y),y=y.sibling;ce=m,bl=k,ht=z}hm(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ce=y):hm(s)}}function hm(s){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ht||Sl(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!ht)if(c===null)f.componentDidMount();else{var m=i.elementType===i.type?c.memoizedProps:Kt(i.type,c.memoizedProps);f.componentDidUpdate(m,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&pp(i,y,f);break;case 3:var b=i.updateQueue;if(b!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}pp(i,b,c)}break;case 5:var k=i.stateNode;if(c===null&&i.flags&4){c=k;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&c.focus();break;case"img":D.src&&(c.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var X=J.dehydrated;X!==null&&Di(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ht||i.flags&512&&xu(i)}catch(Z){Ze(i,i.return,Z)}}if(i===s){ce=null;break}if(c=i.sibling,c!==null){c.return=i.return,ce=c;break}ce=i.return}}function pm(s){for(;ce!==null;){var i=ce;if(i===s){ce=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ce=c;break}ce=i.return}}function mm(s){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Sl(4,i)}catch(D){Ze(i,c,D)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var m=i.return;try{f.componentDidMount()}catch(D){Ze(i,m,D)}}var y=i.return;try{xu(i)}catch(D){Ze(i,y,D)}break;case 5:var b=i.return;try{xu(i)}catch(D){Ze(i,b,D)}}}catch(D){Ze(i,i.return,D)}if(i===s){ce=null;break}var k=i.sibling;if(k!==null){k.return=i.return,ce=k;break}ce=i.return}}var nb=Math.ceil,_l=T.ReactCurrentDispatcher,Su=T.ReactCurrentOwner,Wt=T.ReactCurrentBatchConfig,Ie=0,st=null,et=null,ct=0,Pt=0,Is=Gn(0),nt=0,Xi=null,Or=0,El=0,_u=0,ea=null,At=null,Eu=0,Os=1/0,Nn=null,kl=!1,ku=null,er=null,Cl=!1,tr=null,Al=0,ta=0,Cu=null,Nl=-1,jl=0;function wt(){return(Ie&6)!==0?Je():Nl!==-1?Nl:Nl=Je()}function nr(s){return(s.mode&1)===0?1:(Ie&2)!==0&&ct!==0?ct&-ct:Uw.transition!==null?(jl===0&&(jl=oh()),jl):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:yh(s.type)),s)}function en(s,i,c,f){if(50<ta)throw ta=0,Cu=null,Error(t(185));ki(s,c,f),((Ie&2)===0||s!==st)&&(s===st&&((Ie&2)===0&&(El|=c),nt===4&&rr(s,ct)),Nt(s,f),c===1&&Ie===0&&(i.mode&1)===0&&(Os=Je()+500,rl&&Zn()))}function Nt(s,i){var c=s.callbackNode;Ux(s,i);var f=Fa(s,s===st?ct:0);if(f===0)c!==null&&ih(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&ih(c),i===1)s.tag===0?Fw(ym.bind(null,s)):np(ym.bind(null,s)),Iw(function(){(Ie&6)===0&&Zn()}),c=null;else{switch(ch(f)){case 1:c=ic;break;case 4:c=ah;break;case 16:c=Ia;break;case 536870912:c=lh;break;default:c=Ia}c=km(c,gm.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function gm(s,i){if(Nl=-1,jl=0,(Ie&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ps()&&s.callbackNode!==c)return null;var f=Fa(s,s===st?ct:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Dl(s,f);else{i=f;var m=Ie;Ie|=2;var y=xm();(st!==s||ct!==i)&&(Nn=null,Os=Je()+500,Lr(s,i));do try{ib();break}catch(k){vm(s,k)}while(!0);Wc(),_l.current=y,Ie=m,et!==null?i=0:(st=null,ct=0,i=nt)}if(i!==0){if(i===2&&(m=ac(s),m!==0&&(f=m,i=Au(s,m))),i===1)throw c=Xi,Lr(s,0),rr(s,f),Nt(s,Je()),c;if(i===6)rr(s,f);else{if(m=s.current.alternate,(f&30)===0&&!rb(m)&&(i=Dl(s,f),i===2&&(y=ac(s),y!==0&&(f=y,i=Au(s,y))),i===1))throw c=Xi,Lr(s,0),rr(s,f),Nt(s,Je()),c;switch(s.finishedWork=m,s.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:Fr(s,At,Nn);break;case 3:if(rr(s,f),(f&130023424)===f&&(i=Eu+500-Je(),10<i)){if(Fa(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){wt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Mc(Fr.bind(null,s,At,Nn),i);break}Fr(s,At,Nn);break;case 4:if(rr(s,f),(f&4194240)===f)break;for(i=s.eventTimes,m=-1;0<f;){var b=31-Gt(f);y=1<<b,b=i[b],b>m&&(m=b),f&=~y}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*nb(f/1960))-f,10<f){s.timeoutHandle=Mc(Fr.bind(null,s,At,Nn),f);break}Fr(s,At,Nn);break;case 5:Fr(s,At,Nn);break;default:throw Error(t(329))}}}return Nt(s,Je()),s.callbackNode===c?gm.bind(null,s):null}function Au(s,i){var c=ea;return s.current.memoizedState.isDehydrated&&(Lr(s,i).flags|=256),s=Dl(s,i),s!==2&&(i=At,At=c,i!==null&&Nu(i)),s}function Nu(s){At===null?At=s:At.push.apply(At,s)}function rb(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var m=c[f],y=m.getSnapshot;m=m.value;try{if(!Qt(y(),m))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rr(s,i){for(i&=~_u,i&=~El,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-Gt(i),f=1<<c;s[c]=-1,i&=~f}}function ym(s){if((Ie&6)!==0)throw Error(t(327));Ps();var i=Fa(s,0);if((i&1)===0)return Nt(s,Je()),null;var c=Dl(s,i);if(s.tag!==0&&c===2){var f=ac(s);f!==0&&(i=f,c=Au(s,f))}if(c===1)throw c=Xi,Lr(s,0),rr(s,i),Nt(s,Je()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Fr(s,At,Nn),Nt(s,Je()),null}function ju(s,i){var c=Ie;Ie|=1;try{return s(i)}finally{Ie=c,Ie===0&&(Os=Je()+500,rl&&Zn())}}function Pr(s){tr!==null&&tr.tag===0&&(Ie&6)===0&&Ps();var i=Ie;Ie|=1;var c=Wt.transition,f=Fe;try{if(Wt.transition=null,Fe=1,s)return s()}finally{Fe=f,Wt.transition=c,Ie=i,(Ie&6)===0&&Zn()}}function Du(){Pt=Is.current,We(Is)}function Lr(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Mw(c)),et!==null)for(c=et.return;c!==null;){var f=c;switch(Uc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&tl();break;case 3:Ts(),We(Et),We(ut),Jc();break;case 5:Zc(f);break;case 4:Ts();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Vc(f.type._context);break;case 22:case 23:Du()}c=c.return}if(st=s,et=s=sr(s.current,null),ct=Pt=i,nt=0,Xi=null,_u=El=Or=0,At=ea=null,Rr!==null){for(i=0;i<Rr.length;i++)if(c=Rr[i],f=c.interleaved,f!==null){c.interleaved=null;var m=f.next,y=c.pending;if(y!==null){var b=y.next;y.next=m,f.next=b}c.pending=f}Rr=null}return s}function vm(s,i){do{var c=et;try{if(Wc(),hl.current=yl,pl){for(var f=Ge.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}pl=!1}if(Ir=0,rt=tt=Ge=null,Yi=!1,Gi=0,Su.current=null,c===null||c.return===null){nt=1,Xi=i,et=null;break}e:{var y=s,b=c.return,k=c,D=i;if(i=ct,k.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var z=D,J=k,X=J.tag;if((J.mode&1)===0&&(X===0||X===11||X===15)){var Z=J.alternate;Z?(J.updateQueue=Z.updateQueue,J.memoizedState=Z.memoizedState,J.lanes=Z.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=$p(b);if(ae!==null){ae.flags&=-257,Wp(ae,b,k,y,i),ae.mode&1&&Bp(y,z,i),i=ae,D=z;var ue=i.updateQueue;if(ue===null){var he=new Set;he.add(D),i.updateQueue=he}else ue.add(D);break e}else{if((i&1)===0){Bp(y,z,i),Tu();break e}D=Error(t(426))}}else if(Ve&&k.mode&1){var Xe=$p(b);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Wp(Xe,b,k,y,i),Bc(Rs(D,k));break e}}y=D=Rs(D,k),nt!==4&&(nt=2),ea===null?ea=[y]:ea.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var F=Hp(y,D,i);hp(y,F);break e;case 1:k=D;var M=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(er===null||!er.has(H)))){y.flags|=65536,i&=-i,y.lanes|=i;var te=zp(y,k,i);hp(y,te);break e}}y=y.return}while(y!==null)}bm(c)}catch(pe){i=pe,et===c&&c!==null&&(et=c=c.return);continue}break}while(!0)}function xm(){var s=_l.current;return _l.current=yl,s===null?yl:s}function Tu(){(nt===0||nt===3||nt===2)&&(nt=4),st===null||(Or&268435455)===0&&(El&268435455)===0||rr(st,ct)}function Dl(s,i){var c=Ie;Ie|=2;var f=xm();(st!==s||ct!==i)&&(Nn=null,Lr(s,i));do try{sb();break}catch(m){vm(s,m)}while(!0);if(Wc(),Ie=c,_l.current=f,et!==null)throw Error(t(261));return st=null,ct=0,nt}function sb(){for(;et!==null;)wm(et)}function ib(){for(;et!==null&&!Dx();)wm(et)}function wm(s){var i=Em(s.alternate,s,Pt);s.memoizedProps=s.pendingProps,i===null?bm(s):et=i,Su.current=null}function bm(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Kw(c,i,Pt),c!==null){et=c;return}}else{if(c=Jw(c,i),c!==null){c.flags&=32767,et=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nt=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=s}while(i!==null);nt===0&&(nt=5)}function Fr(s,i,c){var f=Fe,m=Wt.transition;try{Wt.transition=null,Fe=1,ab(s,i,c,f)}finally{Wt.transition=m,Fe=f}return null}function ab(s,i,c,f){do Ps();while(tr!==null);if((Ie&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(Hx(s,y),s===st&&(et=st=null,ct=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Cl||(Cl=!0,km(Ia,function(){return Ps(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Wt.transition,Wt.transition=null;var b=Fe;Fe=1;var k=Ie;Ie|=4,Su.current=null,eb(s,c),dm(c,s),Cw(Tc),za=!!Dc,Tc=Dc=null,s.current=c,tb(c),Tx(),Ie=k,Fe=b,Wt.transition=y}else s.current=c;if(Cl&&(Cl=!1,tr=s,Al=m),y=s.pendingLanes,y===0&&(er=null),Ix(c.stateNode),Nt(s,Je()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)m=i[c],f(m.value,{componentStack:m.stack,digest:m.digest});if(kl)throw kl=!1,s=ku,ku=null,s;return(Al&1)!==0&&s.tag!==0&&Ps(),y=s.pendingLanes,(y&1)!==0?s===Cu?ta++:(ta=0,Cu=s):ta=0,Zn(),null}function Ps(){if(tr!==null){var s=ch(Al),i=Wt.transition,c=Fe;try{if(Wt.transition=null,Fe=16>s?16:s,tr===null)var f=!1;else{if(s=tr,tr=null,Al=0,(Ie&6)!==0)throw Error(t(331));var m=Ie;for(Ie|=4,ce=s.current;ce!==null;){var y=ce,b=y.child;if((ce.flags&16)!==0){var k=y.deletions;if(k!==null){for(var D=0;D<k.length;D++){var z=k[D];for(ce=z;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Ji(8,J,y)}var X=J.child;if(X!==null)X.return=J,ce=X;else for(;ce!==null;){J=ce;var Z=J.sibling,ae=J.return;if(am(J),J===z){ce=null;break}if(Z!==null){Z.return=ae,ce=Z;break}ce=ae}}}var ue=y.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var Xe=he.sibling;he.sibling=null,he=Xe}while(he!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,ce=b;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ji(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,ce=F;break e}ce=y.return}}var M=s.current;for(ce=M;ce!==null;){b=ce;var H=b.child;if((b.subtreeFlags&2064)!==0&&H!==null)H.return=b,ce=H;else e:for(b=M;ce!==null;){if(k=ce,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Sl(9,k)}}catch(pe){Ze(k,k.return,pe)}if(k===b){ce=null;break e}var te=k.sibling;if(te!==null){te.return=k.return,ce=te;break e}ce=k.return}}if(Ie=m,Zn(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Oa,s)}catch{}f=!0}return f}finally{Fe=c,Wt.transition=i}}return!1}function Sm(s,i,c){i=Rs(c,i),i=Hp(s,i,1),s=Jn(s,i,1),i=wt(),s!==null&&(ki(s,1,i),Nt(s,i))}function Ze(s,i,c){if(s.tag===3)Sm(s,s,c);else for(;i!==null;){if(i.tag===3){Sm(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))){s=Rs(c,s),s=zp(i,s,1),i=Jn(i,s,1),s=wt(),i!==null&&(ki(i,1,s),Nt(i,s));break}}i=i.return}}function lb(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=wt(),s.pingedLanes|=s.suspendedLanes&c,st===s&&(ct&c)===c&&(nt===4||nt===3&&(ct&130023424)===ct&&500>Je()-Eu?Lr(s,0):_u|=c),Nt(s,i)}function _m(s,i){i===0&&((s.mode&1)===0?i=1:(i=La,La<<=1,(La&130023424)===0&&(La=4194304)));var c=wt();s=kn(s,i),s!==null&&(ki(s,i,c),Nt(s,c))}function ob(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),_m(s,c)}function cb(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),_m(s,c)}var Em;Em=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||Et.current)Ct=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return Ct=!1,Zw(s,i,c);Ct=(s.flags&131072)!==0}else Ct=!1,Ve&&(i.flags&1048576)!==0&&rp(i,il,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;wl(s,i),s=i.pendingProps;var m=Es(i,ut.current);Ds(i,c),m=tu(null,i,f,s,m,c);var y=nu();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,kt(f)?(y=!0,nl(i)):y=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gc(i),m.updater=vl,i.stateNode=m,m._reactInternals=i,ou(i,f,s,c),i=fu(null,i,f,!0,y,c)):(i.tag=0,Ve&&y&&Fc(i),xt(null,i,m,c),i=i.child),i;case 16:f=i.elementType;e:{switch(wl(s,i),s=i.pendingProps,m=f._init,f=m(f._payload),i.type=f,m=i.tag=db(f),s=Kt(f,s),m){case 0:i=du(null,i,f,s,c);break e;case 1:i=Zp(null,i,f,s,c);break e;case 11:i=Vp(null,i,f,s,c);break e;case 14:i=qp(null,i,f,Kt(f.type,s),c);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:Kt(f,m),du(s,i,f,m,c);case 1:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:Kt(f,m),Zp(s,i,f,m,c);case 3:e:{if(Kp(i),s===null)throw Error(t(387));f=i.pendingProps,y=i.memoizedState,m=y.element,fp(s,i),dl(i,f,null,c);var b=i.memoizedState;if(f=b.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){m=Rs(Error(t(423)),i),i=Jp(s,i,f,c,m);break e}else if(f!==m){m=Rs(Error(t(424)),i),i=Jp(s,i,f,c,m);break e}else for(Ot=Yn(i.stateNode.containerInfo.firstChild),It=i,Ve=!0,Zt=null,c=up(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(As(),f===m){i=An(s,i,c);break e}xt(s,i,f,c)}i=i.child}return i;case 5:return mp(i),s===null&&zc(i),f=i.type,m=i.pendingProps,y=s!==null?s.memoizedProps:null,b=m.children,Rc(f,m)?b=null:y!==null&&Rc(f,y)&&(i.flags|=32),Qp(s,i),xt(s,i,b,c),i.child;case 6:return s===null&&zc(i),null;case 13:return Xp(s,i,c);case 4:return Qc(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Ns(i,null,f,c):xt(s,i,f,c),i.child;case 11:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:Kt(f,m),Vp(s,i,f,m,c);case 7:return xt(s,i,i.pendingProps,c),i.child;case 8:return xt(s,i,i.pendingProps.children,c),i.child;case 12:return xt(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,m=i.pendingProps,y=i.memoizedProps,b=m.value,Ue(ol,f._currentValue),f._currentValue=b,y!==null)if(Qt(y.value,b)){if(y.children===m.children&&!Et.current){i=An(s,i,c);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var k=y.dependencies;if(k!==null){b=y.child;for(var D=k.firstContext;D!==null;){if(D.context===f){if(y.tag===1){D=Cn(-1,c&-c),D.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?D.next=D:(D.next=J.next,J.next=D),z.pending=D}}y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),qc(y.return,c,i),k.lanes|=c;break}D=D.next}}else if(y.tag===10)b=y.type===i.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(t(341));b.lanes|=c,k=b.alternate,k!==null&&(k.lanes|=c),qc(b,c,i),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===i){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}xt(s,i,m.children,c),i=i.child}return i;case 9:return m=i.type,f=i.pendingProps.children,Ds(i,c),m=Bt(m),f=f(m),i.flags|=1,xt(s,i,f,c),i.child;case 14:return f=i.type,m=Kt(f,i.pendingProps),m=Kt(f.type,m),qp(s,i,f,m,c);case 15:return Yp(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:Kt(f,m),wl(s,i),i.tag=1,kt(f)?(s=!0,nl(i)):s=!1,Ds(i,c),Fp(i,f,m),ou(i,f,m,c),fu(null,i,f,!0,s,c);case 19:return tm(s,i,c);case 22:return Gp(s,i,c)}throw Error(t(156,i.tag))};function km(s,i){return sh(s,i)}function ub(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(s,i,c,f){return new ub(s,i,c,f)}function Ru(s){return s=s.prototype,!(!s||!s.isReactComponent)}function db(s){if(typeof s=="function")return Ru(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Me)return 11;if(s===ie)return 14}return 2}function sr(s,i){var c=s.alternate;return c===null?(c=Vt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Tl(s,i,c,f,m,y){var b=2;if(f=s,typeof s=="function")Ru(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case N:return Ur(c.children,m,y,i);case j:b=8,m|=8;break;case L:return s=Vt(12,c,i,m|2),s.elementType=L,s.lanes=y,s;case je:return s=Vt(13,c,i,m),s.elementType=je,s.lanes=y,s;case fe:return s=Vt(19,c,i,m),s.elementType=fe,s.lanes=y,s;case re:return Rl(c,m,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:b=10;break e;case oe:b=9;break e;case Me:b=11;break e;case ie:b=14;break e;case ne:b=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Vt(b,c,i,m),i.elementType=s,i.type=f,i.lanes=y,i}function Ur(s,i,c,f){return s=Vt(7,s,f,i),s.lanes=c,s}function Rl(s,i,c,f){return s=Vt(22,s,f,i),s.elementType=re,s.lanes=c,s.stateNode={isHidden:!1},s}function Mu(s,i,c){return s=Vt(6,s,null,i),s.lanes=c,s}function Iu(s,i,c){return i=Vt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function fb(s,i,c,f,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ou(s,i,c,f,m,y,b,k,D){return s=new fb(s,i,c,k,D),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Vt(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(y),s}function hb(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function Cm(s){if(!s)return Qn;s=s._reactInternals;e:{if(Ar(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(kt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(kt(c))return ep(s,c,i)}return i}function Am(s,i,c,f,m,y,b,k,D){return s=Ou(c,f,!0,s,m,y,b,k,D),s.context=Cm(null),c=s.current,f=wt(),m=nr(c),y=Cn(f,m),y.callback=i??null,Jn(c,y,m),s.current.lanes=m,ki(s,m,f),Nt(s,f),s}function Ml(s,i,c,f){var m=i.current,y=wt(),b=nr(m);return c=Cm(c),i.context===null?i.context=c:i.pendingContext=c,i=Cn(y,b),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=Jn(m,i,b),s!==null&&(en(s,m,b,y),ul(s,m,b)),b}function Il(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Nm(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Pu(s,i){Nm(s,i),(s=s.alternate)&&Nm(s,i)}function pb(){return null}var jm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lu(s){this._internalRoot=s}Ol.prototype.render=Lu.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Ml(s,i,null,null)},Ol.prototype.unmount=Lu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Pr(function(){Ml(null,s,null,null)}),i[bn]=null}};function Ol(s){this._internalRoot=s}Ol.prototype.unstable_scheduleHydration=function(s){if(s){var i=fh();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Wn.length&&i!==0&&i<Wn[c].priority;c++);Wn.splice(c,0,s),c===0&&mh(s)}};function Fu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function mb(s,i,c,f,m){if(m){if(typeof f=="function"){var y=f;f=function(){var z=Il(b);y.call(z)}}var b=Am(i,f,s,0,null,!1,!1,"",Dm);return s._reactRootContainer=b,s[bn]=b.current,Ui(s.nodeType===8?s.parentNode:s),Pr(),b}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var k=f;f=function(){var z=Il(D);k.call(z)}}var D=Ou(s,0,!1,null,null,!1,!1,"",Dm);return s._reactRootContainer=D,s[bn]=D.current,Ui(s.nodeType===8?s.parentNode:s),Pr(function(){Ml(i,D,c,f)}),D}function Ll(s,i,c,f,m){var y=c._reactRootContainer;if(y){var b=y;if(typeof m=="function"){var k=m;m=function(){var D=Il(b);k.call(D)}}Ml(i,b,s,m)}else b=mb(c,i,s,m,f);return Il(b)}uh=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Ei(i.pendingLanes);c!==0&&(oc(i,c|1),Nt(i,Je()),(Ie&6)===0&&(Os=Je()+500,Zn()))}break;case 13:Pr(function(){var f=kn(s,1);if(f!==null){var m=wt();en(f,s,1,m)}}),Pu(s,1)}},cc=function(s){if(s.tag===13){var i=kn(s,134217728);if(i!==null){var c=wt();en(i,s,134217728,c)}Pu(s,134217728)}},dh=function(s){if(s.tag===13){var i=nr(s),c=kn(s,i);if(c!==null){var f=wt();en(c,s,i,f)}Pu(s,i)}},fh=function(){return Fe},hh=function(s,i){var c=Fe;try{return Fe=s,i()}finally{Fe=c}},tc=function(s,i,c){switch(i){case"input":if(Yo(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var m=el(f);if(!m)throw Error(t(90));Hn(f),Yo(f,m)}}}break;case"textarea":Bf(s,c);break;case"select":i=c.value,i!=null&&fs(s,!!c.multiple,i,!1)}},Kf=ju,Jf=Pr;var gb={usingClientEntryPoint:!1,Events:[Bi,Ss,el,Qf,Zf,ju]},na={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yb={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=nh(s),s===null?null:s.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Oa=Fl.inject(yb),cn=Fl}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gb,jt.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(i))throw Error(t(200));return hb(s,i,null,c)},jt.createRoot=function(s,i){if(!Fu(s))throw Error(t(299));var c=!1,f="",m=jm;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Ou(s,1,!1,null,null,c,!1,f,m),s[bn]=i.current,Ui(s.nodeType===8?s.parentNode:s),new Lu(i)},jt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=nh(i),s=s===null?null:s.stateNode,s},jt.flushSync=function(s){return Pr(s)},jt.hydrate=function(s,i,c){if(!Pl(i))throw Error(t(200));return Ll(null,s,i,!0,c)},jt.hydrateRoot=function(s,i,c){if(!Fu(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,m=!1,y="",b=jm;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),i=Am(i,null,s,1,c??null,m,!1,y,b),s[bn]=i.current,Ui(s),f)for(s=0;s<f.length;s++)c=f[s],m=c._getVersion,m=m(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,m]:i.mutableSourceEagerHydrationData.push(c,m);return new Ol(i)},jt.render=function(s,i,c){if(!Pl(i))throw Error(t(200));return Ll(null,s,i,!1,c)},jt.unmountComponentAtNode=function(s){if(!Pl(s))throw Error(t(40));return s._reactRootContainer?(Pr(function(){Ll(null,null,s,!1,function(){s._reactRootContainer=null,s[bn]=null})}),!0):!1},jt.unstable_batchedUpdates=ju,jt.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!Pl(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ll(s,i,c,!1,f)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var Um;function Hy(){if(Um)return Bu.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bu.exports=kb(),Bu.exports}var Hm;function Cb(){if(Hm)return Hl;Hm=1;var n=Hy();return Hl.createRoot=n.createRoot,Hl.hydrateRoot=n.hydrateRoot,Hl}var Ab=Cb();const Nb=Ro(Ab);var Mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Io=typeof window>"u"||"Deno"in globalThis;function nn(){}function jb(n,e){return typeof n=="function"?n(e):n}function Db(n){return typeof n=="number"&&n>=0&&n!==1/0}function Tb(n,e){return Math.max(n+(e||0)-Date.now(),0)}function gd(n,e){return typeof n=="function"?n(e):n}function Rb(n,e){return typeof n=="function"?n(e):n}function zm(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:l,queryKey:o,stale:u}=n;if(o){if(r){if(e.queryHash!==Gd(o,e.options))return!1}else if(!ga(e.queryKey,o))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||a&&a!==e.state.fetchStatus||l&&!l(e))}function Bm(n,e){const{exact:t,status:r,predicate:a,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(ma(e.options.mutationKey)!==ma(l))return!1}else if(!ga(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Gd(n,e){return((e==null?void 0:e.queryKeyHashFn)||ma)(n)}function ma(n){return JSON.stringify(n,(e,t)=>yd(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function ga(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ga(n[t],e[t])):!1}function zy(n,e){if(n===e)return n;const t=$m(n)&&$m(e);if(t||yd(n)&&yd(e)){const r=t?n:Object.keys(n),a=r.length,l=t?e:Object.keys(e),o=l.length,u=t?[]:{},h=new Set(r);let p=0;for(let g=0;g<o;g++){const v=t?g:l[g];(!t&&h.has(v)||t)&&n[v]===void 0&&e[v]===void 0?(u[v]=void 0,p++):(u[v]=zy(n[v],e[v]),u[v]===n[v]&&n[v]!==void 0&&p++)}return a===o&&p===a?n:u}return e}function $m(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function yd(n){if(!Wm(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Wm(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Wm(n){return Object.prototype.toString.call(n)==="[object Object]"}function Mb(n){return new Promise(e=>{setTimeout(e,n)})}function Ib(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?zy(n,e):e}function Ob(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Pb(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Qd=Symbol();function By(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Qd?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Qr,fr,ti,Ry,Lb=(Ry=class extends Mo{constructor(){super();Pe(this,Qr);Pe(this,fr);Pe(this,ti);Se(this,ti,e=>{if(!Io&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,fr)||this.setEventListener(Y(this,ti))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,fr))==null||e.call(this),Se(this,fr,void 0))}setEventListener(e){var t;Se(this,ti,e),(t=Y(this,fr))==null||t.call(this),Se(this,fr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,Qr)!==e&&(Se(this,Qr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,Qr)=="boolean"?Y(this,Qr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qr=new WeakMap,fr=new WeakMap,ti=new WeakMap,Ry),$y=new Lb,ni,hr,ri,My,Fb=(My=class extends Mo{constructor(){super();Pe(this,ni,!0);Pe(this,hr);Pe(this,ri);Se(this,ri,e=>{if(!Io&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,hr)||this.setEventListener(Y(this,ri))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,hr))==null||e.call(this),Se(this,hr,void 0))}setEventListener(e){var t;Se(this,ri,e),(t=Y(this,hr))==null||t.call(this),Se(this,hr,e(this.setOnline.bind(this)))}setOnline(e){Y(this,ni)!==e&&(Se(this,ni,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,ni)}},ni=new WeakMap,hr=new WeakMap,ri=new WeakMap,My),uo=new Fb;function Ub(){let n,e;const t=new Promise((a,l)=>{n=a,e=l});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Hb(n){return Math.min(1e3*2**n,3e4)}function Wy(n){return(n??"online")==="online"?uo.isOnline():!0}var Vy=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Vu(n){return n instanceof Vy}function qy(n){let e=!1,t=0,r=!1,a;const l=Ub(),o=_=>{var E;r||(x(new Vy(_)),(E=n.abort)==null||E.call(n))},u=()=>{e=!0},h=()=>{e=!1},p=()=>$y.isFocused()&&(n.networkMode==="always"||uo.isOnline())&&n.canRun(),g=()=>Wy(n.networkMode)&&n.canRun(),v=_=>{var E;r||(r=!0,(E=n.onSuccess)==null||E.call(n,_),a==null||a(),l.resolve(_))},x=_=>{var E;r||(r=!0,(E=n.onError)==null||E.call(n,_),a==null||a(),l.reject(_))},w=()=>new Promise(_=>{var E;a=C=>{(r||p())&&_(C)},(E=n.onPause)==null||E.call(n)}).then(()=>{var _;a=void 0,r||(_=n.onContinue)==null||_.call(n)}),S=()=>{if(r)return;let _;const E=t===0?n.initialPromise:void 0;try{_=E??n.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(v).catch(C=>{var P;if(r)return;const U=n.retry??(Io?0:3),I=n.retryDelay??Hb,T=typeof I=="function"?I(t,C):I,W=U===!0||typeof U=="number"&&t<U||typeof U=="function"&&U(t,C);if(e||!W){x(C);return}t++,(P=n.onFail)==null||P.call(n,t,C),Mb(T).then(()=>p()?void 0:w()).then(()=>{e?x(C):S()})})};return{promise:l,cancel:o,continue:()=>(a==null||a(),l),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?S():w().then(S),l)}}var zb=n=>setTimeout(n,0);function Bb(){let n=[],e=0,t=u=>{u()},r=u=>{u()},a=zb;const l=u=>{e?n.push(u):a(()=>{t(u)})},o=()=>{const u=n;n=[],u.length&&a(()=>{r(()=>{u.forEach(h=>{t(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||o()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{a=u}}}var St=Bb(),Zr,Iy,Yy=(Iy=class{constructor(){Pe(this,Zr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Db(this.gcTime)&&Se(this,Zr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Io?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Zr)&&(clearTimeout(Y(this,Zr)),Se(this,Zr,void 0))}},Zr=new WeakMap,Iy),si,Kr,qt,Jr,gt,_a,Xr,rn,Dn,Oy,$b=(Oy=class extends Yy{constructor(e){super();Pe(this,rn);Pe(this,si);Pe(this,Kr);Pe(this,qt);Pe(this,Jr);Pe(this,gt);Pe(this,_a);Pe(this,Xr);Se(this,Xr,!1),Se(this,_a,e.defaultOptions),this.setOptions(e.options),this.observers=[],Se(this,Jr,e.client),Se(this,qt,Y(this,Jr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Se(this,si,Vb(this.options)),this.state=e.state??Y(this,si),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,gt))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,_a),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,qt).remove(this)}setData(e,t){const r=Ib(this.state.data,e,this.options);return pt(this,rn,Dn).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){pt(this,rn,Dn).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,gt))==null?void 0:r.promise;return(a=Y(this,gt))==null||a.cancel(e),t?t.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,si))}isActive(){return this.observers.some(e=>Rb(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Tb(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,gt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,gt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,qt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,gt)&&(Y(this,Xr)?Y(this,gt).cancel({revert:!0}):Y(this,gt).cancelRetry()),this.scheduleGc()),Y(this,qt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,rn,Dn).call(this,{type:"invalidate"})}fetch(e,t){var p,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,gt))return Y(this,gt).continueRetry(),Y(this,gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Se(this,Xr,!0),r.signal)})},l=()=>{const x=By(this.options,t),S=(()=>{const _={client:Y(this,Jr),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return Se(this,Xr,!1),this.options.persister?this.options.persister(x,S,this):x(S)},u=(()=>{const x={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,Jr),state:this.state,fetchFn:l};return a(x),x})();(p=this.options.behavior)==null||p.onFetch(u,this),Se(this,Kr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=u.fetchOptions)==null?void 0:g.meta))&&pt(this,rn,Dn).call(this,{type:"fetch",meta:(v=u.fetchOptions)==null?void 0:v.meta});const h=x=>{var w,S,_,E;Vu(x)&&x.silent||pt(this,rn,Dn).call(this,{type:"error",error:x}),Vu(x)||((S=(w=Y(this,qt).config).onError)==null||S.call(w,x,this),(E=(_=Y(this,qt).config).onSettled)==null||E.call(_,this.state.data,x,this)),this.scheduleGc()};return Se(this,gt,qy({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var w,S,_,E;if(x===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(C){h(C);return}(S=(w=Y(this,qt).config).onSuccess)==null||S.call(w,x,this),(E=(_=Y(this,qt).config).onSettled)==null||E.call(_,x,this.state.error,this),this.scheduleGc()},onError:h,onFail:(x,w)=>{pt(this,rn,Dn).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{pt(this,rn,Dn).call(this,{type:"pause"})},onContinue:()=>{pt(this,rn,Dn).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Y(this,gt).start()}},si=new WeakMap,Kr=new WeakMap,qt=new WeakMap,Jr=new WeakMap,gt=new WeakMap,_a=new WeakMap,Xr=new WeakMap,rn=new WeakSet,Dn=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wb(r.data,this.options),fetchMeta:e.meta??null};case"success":return Se(this,Kr,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Vu(a)&&a.revert&&Y(this,Kr)?{...Y(this,Kr),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),St.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,qt).notify({query:this,type:"updated",action:e})})},Oy);function Wb(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wy(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Vb(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var pn,Py,qb=(Py=class extends Mo{constructor(e={}){super();Pe(this,pn);this.config=e,Se(this,pn,new Map)}build(e,t,r){const a=t.queryKey,l=t.queryHash??Gd(a,t);let o=this.get(l);return o||(o=new $b({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){Y(this,pn).has(e.queryHash)||(Y(this,pn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,pn).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,pn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,pn).get(e)}getAll(){return[...Y(this,pn).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>zm(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>zm(e,r)):t}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pn=new WeakMap,Py),mn,bt,es,gn,lr,Ly,Yb=(Ly=class extends Yy{constructor(e){super();Pe(this,gn);Pe(this,mn);Pe(this,bt);Pe(this,es);this.mutationId=e.mutationId,Se(this,bt,e.mutationCache),Se(this,mn,[]),this.state=e.state||Gb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,mn).includes(e)||(Y(this,mn).push(e),this.clearGcTimeout(),Y(this,bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Se(this,mn,Y(this,mn).filter(t=>t!==e)),this.scheduleGc(),Y(this,bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,mn).length||(this.state.status==="pending"?this.scheduleGc():Y(this,bt).remove(this))}continue(){var e;return((e=Y(this,es))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,o,u,h,p,g,v,x,w,S,_,E,C,U,I,T,W,P,N,j;const t=()=>{pt(this,gn,lr).call(this,{type:"continue"})};Se(this,es,qy({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,G)=>{pt(this,gn,lr).call(this,{type:"failed",failureCount:L,error:G})},onPause:()=>{pt(this,gn,lr).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,bt).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,es).canStart();try{if(r)t();else{pt(this,gn,lr).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(l=Y(this,bt).config).onMutate)==null?void 0:o.call(l,e,this));const G=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e));G!==this.state.context&&pt(this,gn,lr).call(this,{type:"pending",context:G,variables:e,isPaused:a})}const L=await Y(this,es).start();return await((g=(p=Y(this,bt).config).onSuccess)==null?void 0:g.call(p,L,e,this.state.context,this)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,L,e,this.state.context)),await((S=(w=Y(this,bt).config).onSettled)==null?void 0:S.call(w,L,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,L,null,e,this.state.context)),pt(this,gn,lr).call(this,{type:"success",data:L}),L}catch(L){try{throw await((U=(C=Y(this,bt).config).onError)==null?void 0:U.call(C,L,e,this.state.context,this)),await((T=(I=this.options).onError)==null?void 0:T.call(I,L,e,this.state.context)),await((P=(W=Y(this,bt).config).onSettled)==null?void 0:P.call(W,void 0,L,this.state.variables,this.state.context,this)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,void 0,L,e,this.state.context)),L}finally{pt(this,gn,lr).call(this,{type:"error",error:L})}}finally{Y(this,bt).runNext(this)}}},mn=new WeakMap,bt=new WeakMap,es=new WeakMap,gn=new WeakSet,lr=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),St.batch(()=>{Y(this,mn).forEach(r=>{r.onMutationUpdate(e)}),Y(this,bt).notify({mutation:this,type:"updated",action:e})})},Ly);function Gb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mn,sn,Ea,Fy,Qb=(Fy=class extends Mo{constructor(e={}){super();Pe(this,Mn);Pe(this,sn);Pe(this,Ea);this.config=e,Se(this,Mn,new Set),Se(this,sn,new Map),Se(this,Ea,0)}build(e,t,r){const a=new Yb({mutationCache:this,mutationId:++Ul(this,Ea)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,Mn).add(e);const t=zl(e);if(typeof t=="string"){const r=Y(this,sn).get(t);r?r.push(e):Y(this,sn).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Mn).delete(e)){const t=zl(e);if(typeof t=="string"){const r=Y(this,sn).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,sn).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=zl(e);if(typeof t=="string"){const r=Y(this,sn).get(t),a=r==null?void 0:r.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=zl(e);if(typeof t=="string"){const a=(r=Y(this,sn).get(t))==null?void 0:r.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{Y(this,Mn).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Mn).clear(),Y(this,sn).clear()})}getAll(){return Array.from(Y(this,Mn))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Bm(t,r))}findAll(e={}){return this.getAll().filter(t=>Bm(e,t))}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return St.batch(()=>Promise.all(e.map(t=>t.continue().catch(nn))))}},Mn=new WeakMap,sn=new WeakMap,Ea=new WeakMap,Fy);function zl(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Vm(n){return{onFetch:(e,t)=>{var g,v,x,w,S;const r=e.options,a=(x=(v=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:x.direction,l=((w=e.state.data)==null?void 0:w.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const p=async()=>{let _=!1;const E=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},C=By(e.options,e.fetchOptions),U=async(I,T,W)=>{if(_)return Promise.reject();if(T==null&&I.pages.length)return Promise.resolve(I);const N=(()=>{const oe={client:e.client,queryKey:e.queryKey,pageParam:T,direction:W?"backward":"forward",meta:e.options.meta};return E(oe),oe})(),j=await C(N),{maxPages:L}=e.options,G=W?Pb:Ob;return{pages:G(I.pages,j,L),pageParams:G(I.pageParams,T,L)}};if(a&&l.length){const I=a==="backward",T=I?Zb:qm,W={pages:l,pageParams:o},P=T(r,W);u=await U(W,P,I)}else{const I=n??l.length;do{const T=h===0?o[0]??r.initialPageParam:qm(r,u);if(h>0&&T==null)break;u=await U(u,T),h++}while(h<I)}return u};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function qm(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Zb(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Ke,pr,mr,ii,ai,gr,li,oi,Uy,Kb=(Uy=class{constructor(n={}){Pe(this,Ke);Pe(this,pr);Pe(this,mr);Pe(this,ii);Pe(this,ai);Pe(this,gr);Pe(this,li);Pe(this,oi);Se(this,Ke,n.queryCache||new qb),Se(this,pr,n.mutationCache||new Qb),Se(this,mr,n.defaultOptions||{}),Se(this,ii,new Map),Se(this,ai,new Map),Se(this,gr,0)}mount(){Ul(this,gr)._++,Y(this,gr)===1&&(Se(this,li,$y.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Ke).onFocus())})),Se(this,oi,uo.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Ke).onOnline())})))}unmount(){var n,e;Ul(this,gr)._--,Y(this,gr)===0&&((n=Y(this,li))==null||n.call(this),Se(this,li,void 0),(e=Y(this,oi))==null||e.call(this),Se(this,oi,void 0))}isFetching(n){return Y(this,Ke).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,pr).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Ke).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Ke).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(gd(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Ke).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Ke).get(r.queryHash),l=a==null?void 0:a.state.data,o=jb(e,l);if(o!==void 0)return Y(this,Ke).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return St.batch(()=>Y(this,Ke).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Ke).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Ke);St.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Ke);return St.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=St.batch(()=>Y(this,Ke).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(nn).catch(nn)}invalidateQueries(n,e={}){return St.batch(()=>(Y(this,Ke).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=St.batch(()=>Y(this,Ke).findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,t);return t.throwOnError||(l=l.catch(nn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(nn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Ke).build(this,e);return t.isStaleByTime(gd(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(nn).catch(nn)}fetchInfiniteQuery(n){return n.behavior=Vm(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(nn).catch(nn)}ensureInfiniteQueryData(n){return n.behavior=Vm(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return uo.isOnline()?Y(this,pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ke)}getMutationCache(){return Y(this,pr)}getDefaultOptions(){return Y(this,mr)}setDefaultOptions(n){Se(this,mr,n)}setQueryDefaults(n,e){Y(this,ii).set(ma(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,ii).values()],t={};return e.forEach(r=>{ga(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,ai).set(ma(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,ai).values()],t={};return e.forEach(r=>{ga(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,mr).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Gd(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qd&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,mr).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Ke).clear(),Y(this,pr).clear()}},Ke=new WeakMap,pr=new WeakMap,mr=new WeakMap,ii=new WeakMap,ai=new WeakMap,gr=new WeakMap,li=new WeakMap,oi=new WeakMap,Uy),Jb=O.createContext(void 0),Xb=({client:n,children:e})=>(O.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(Jb.Provider,{value:n,children:e}));let eS={data:""},tS=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||eS,nS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rS=/\/\*[^]*?\*\/|  +/g,Ym=/\n+/g,ur=(n,e)=>{let t="",r="",a="";for(let l in n){let o=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+o+";":r+=l[1]=="f"?ur(o,l):l+"{"+ur(o,l[1]=="k"?"":e)+"}":typeof o=="object"?r+=ur(o,e?e.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):o!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ur.p?ur.p(l,o):l+":"+o+";")}return t+(e&&a?e+"{"+a+"}":a)+r},jn={},Gy=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Gy(n[t]);return e}return n},sS=(n,e,t,r,a)=>{let l=Gy(n),o=jn[l]||(jn[l]=(h=>{let p=0,g=11;for(;p<h.length;)g=101*g+h.charCodeAt(p++)>>>0;return"go"+g})(l));if(!jn[o]){let h=l!==n?n:(p=>{let g,v,x=[{}];for(;g=nS.exec(p.replace(rS,""));)g[4]?x.shift():g[3]?(v=g[3].replace(Ym," ").trim(),x.unshift(x[0][v]=x[0][v]||{})):x[0][g[1]]=g[2].replace(Ym," ").trim();return x[0]})(n);jn[o]=ur(a?{["@keyframes "+o]:h}:h,t?"":"."+o)}let u=t&&jn.g?jn.g:null;return t&&(jn.g=jn[o]),((h,p,g,v)=>{v?p.data=p.data.replace(v,h):p.data.indexOf(h)===-1&&(p.data=g?h+p.data:p.data+h)})(jn[o],e,r,u),o},iS=(n,e,t)=>n.reduce((r,a,l)=>{let o=e[l];if(o&&o.call){let u=o(t),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;o=h?"."+h:u&&typeof u=="object"?u.props?"":ur(u,""):u===!1?"":u}return r+a+(o??"")},"");function Oo(n){let e=this||{},t=n.call?n(e.p):n;return sS(t.unshift?t.raw?iS(t,[].slice.call(arguments,1),e.p):t.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):t,tS(e.target),e.g,e.o,e.k)}let Qy,vd,xd;Oo.bind({g:1});let Pn=Oo.bind({k:1});function aS(n,e,t,r){ur.p=e,Qy=n,vd=t,xd=r}function Er(n,e){let t=this||{};return function(){let r=arguments;function a(l,o){let u=Object.assign({},l),h=u.className||a.className;t.p=Object.assign({theme:vd&&vd()},u),t.o=/ *go\d+/.test(h),u.className=Oo.apply(t,r)+(h?" "+h:"");let p=n;return n[0]&&(p=u.as||n,delete u.as),xd&&p[0]&&xd(u),Qy(p,u)}return a}}var lS=n=>typeof n=="function",fo=(n,e)=>lS(n)?n(e):n,oS=(()=>{let n=0;return()=>(++n).toString()})(),Zy=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),cS=20,Ky=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,cS)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return Ky(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},no=[],Yr={toasts:[],pausedAt:void 0},as=n=>{Yr=Ky(Yr,n),no.forEach(e=>{e(Yr)})},uS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dS=(n={})=>{let[e,t]=O.useState(Yr),r=O.useRef(Yr);O.useEffect(()=>(r.current!==Yr&&t(Yr),no.push(t),()=>{let l=no.indexOf(t);l>-1&&no.splice(l,1)}),[]);let a=e.toasts.map(l=>{var o,u,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((o=n[l.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((u=n[l.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||uS[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...e,toasts:a}},fS=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||oS()}),ka=n=>(e,t)=>{let r=fS(e,n,t);return as({type:2,toast:r}),r.id},se=(n,e)=>ka("blank")(n,e);se.error=ka("error");se.success=ka("success");se.loading=ka("loading");se.custom=ka("custom");se.dismiss=n=>{as({type:3,toastId:n})};se.remove=n=>as({type:4,toastId:n});se.promise=(n,e,t)=>{let r=se.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=e.success?fo(e.success,a):void 0;return l?se.success(l,{id:r,...t,...t==null?void 0:t.success}):se.dismiss(r),a}).catch(a=>{let l=e.error?fo(e.error,a):void 0;l?se.error(l,{id:r,...t,...t==null?void 0:t.error}):se.dismiss(r)}),n};var hS=(n,e)=>{as({type:1,toast:{id:n,height:e}})},pS=()=>{as({type:5,time:Date.now()})},ca=new Map,mS=1e3,gS=(n,e=mS)=>{if(ca.has(n))return;let t=setTimeout(()=>{ca.delete(n),as({type:4,toastId:n})},e);ca.set(n,t)},yS=n=>{let{toasts:e,pausedAt:t}=dS(n);O.useEffect(()=>{if(t)return;let l=Date.now(),o=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(h<0){u.visible&&se.dismiss(u.id);return}return setTimeout(()=>se.dismiss(u.id),h)});return()=>{o.forEach(u=>u&&clearTimeout(u))}},[e,t]);let r=O.useCallback(()=>{t&&as({type:6,time:Date.now()})},[t]),a=O.useCallback((l,o)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:p}=o||{},g=e.filter(w=>(w.position||p)===(l.position||p)&&w.height),v=g.findIndex(w=>w.id===l.id),x=g.filter((w,S)=>S<v&&w.visible).length;return g.filter(w=>w.visible).slice(...u?[x+1]:[0,x]).reduce((w,S)=>w+(S.height||0)+h,0)},[e]);return O.useEffect(()=>{e.forEach(l=>{if(l.dismissed)gS(l.id,l.removeDelay);else{let o=ca.get(l.id);o&&(clearTimeout(o),ca.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:hS,startPause:pS,endPause:r,calculateOffset:a}}},vS=Pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xS=Pn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wS=Pn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bS=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SS=Pn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_S=Er("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${SS} 1s linear infinite;
`,ES=Pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kS=Pn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CS=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ES} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,AS=Er("div")`
  position: absolute;
`,NS=Er("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jS=Pn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DS=Er("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,TS=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?O.createElement(DS,null,e):e:t==="blank"?null:O.createElement(NS,null,O.createElement(_S,{...r}),t!=="loading"&&O.createElement(AS,null,t==="error"?O.createElement(bS,{...r}):O.createElement(CS,{...r})))},RS=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,MS=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,IS="0%{opacity:0;} 100%{opacity:1;}",OS="0%{opacity:1;} 100%{opacity:0;}",PS=Er("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LS=Er("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FS=(n,e)=>{let t=n.includes("top")?1:-1,[r,a]=Zy()?[IS,OS]:[RS(t),MS(t)];return{animation:e?`${Pn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},US=O.memo(({toast:n,position:e,style:t,children:r})=>{let a=n.height?FS(n.position||e||"top-center",n.visible):{opacity:0},l=O.createElement(TS,{toast:n}),o=O.createElement(LS,{...n.ariaProps},fo(n.message,n));return O.createElement(PS,{className:n.className,style:{...a,...t,...n.style}},typeof r=="function"?r({icon:l,message:o}):O.createElement(O.Fragment,null,l,o))});aS(O.createElement);var HS=({id:n,className:e,style:t,onHeightUpdate:r,children:a})=>{let l=O.useCallback(o=>{if(o){let u=()=>{let h=o.getBoundingClientRect().height;r(n,h)};u(),new MutationObserver(u).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return O.createElement("div",{ref:l,className:e,style:t},a)},zS=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Zy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...a}},BS=Oo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bl=16,$S=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:a,containerStyle:l,containerClassName:o})=>{let{toasts:u,handlers:h}=yS(t);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Bl,left:Bl,right:Bl,bottom:Bl,pointerEvents:"none",...l},className:o,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(p=>{let g=p.position||e,v=h.calculateOffset(p,{reverseOrder:n,gutter:r,defaultPosition:e}),x=zS(g,v);return O.createElement(HS,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?BS:"",style:x},p.type==="custom"?fo(p.message,p):a?a(p):O.createElement(US,{toast:p,position:g}))}))};const WS="modulepreload",VS=function(n){return"/"+n},Gm={},pi=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(t.map(h=>{if(h=VS(h),h in Gm)return;Gm[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":WS,p||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((x,w)=>{v.addEventListener("load",x),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},qS=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>pi(async()=>{const{default:r}=await Promise.resolve().then(()=>mi);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Zd extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class YS extends Zd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qm extends Zd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zm extends Zd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(wd||(wd={}));var GS=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};class QS{constructor(e,{headers:t={},customFetch:r,region:a=wd.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=qS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return GS(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:o}=t;let u={},{region:h}=t;h||(h=this.region);const p=new URL(`${this.url}/${e}`);h&&h!=="any"&&(u["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let g;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(u["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(u["Content-Type"]="application/json",g=JSON.stringify(o)));const v=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:g}).catch(_=>{throw new YS(_)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new Qm(v);if(!v.ok)throw new Zm(v);let w=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof Zm||a instanceof Qm?a.context:void 0}}})}}var at={},Ls={},Fs={},Us={},Hs={},zs={},ZS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ui=ZS();const KS=ui.fetch,Jy=ui.fetch.bind(ui),Xy=ui.Headers,JS=ui.Request,XS=ui.Response,mi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xy,Request:JS,Response:XS,default:Jy,fetch:KS},Symbol.toStringTag,{value:"Module"})),e_=xb(mi);var $l={},Km;function ev(){if(Km)return $l;Km=1,Object.defineProperty($l,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return $l.default=n,$l}var Jm;function tv(){if(Jm)return zs;Jm=1;var n=zs&&zs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zs,"__esModule",{value:!0});const e=n(e_),t=n(ev());class r{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,o){return this.headers=Object.assign({},this.headers),this.headers[l]=o,this}then(l,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,x;let w=null,S=null,_=null,E=p.status,C=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=W:S=JSON.parse(W))}const I=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&T&&T.length>1&&(_=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,E=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const I=await p.text();try{w=JSON.parse(I),Array.isArray(w)&&p.status===404&&(S=[],w=null,E=200,C="OK")}catch{p.status===404&&I===""?(E=204,C="No Content"):w={message:I}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,E=200,C="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:S,count:_,status:E,statusText:C}});return this.shouldThrowOnError||(h=h.catch(p=>{var g,v,x;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(v=p==null?void 0:p.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=p==null?void 0:p.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,o)}returns(){return this}overrideTypes(){return this}}return zs.default=r,zs}var Xm;function nv(){if(Xm)return Hs;Xm=1;var n=Hs&&Hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hs,"__esModule",{value:!0});const e=n(tv());class t extends e.default{select(a){let l=!1;const o=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:l=!0,nullsFirst:o,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${a}.${l?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:o=l}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,l,{foreignTable:o,referencedTable:u=o}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:l=!1,settings:o=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var g;const v=[a?"analyze":null,l?"verbose":null,o?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${x}"; options=${v};`,p==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Hs.default=t,Hs}var eg;function Kd(){if(eg)return Us;eg=1;var n=Us&&Us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Us,"__esModule",{value:!0});const e=n(nv());class t extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const o=Array.from(new Set(l)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:o,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${h}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,o])=>{this.url.searchParams.append(l,`eq.${o}`)}),this}not(a,l,o){return this.url.searchParams.append(a,`not.${l}.${o}`),this}or(a,{foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,l,o){return this.url.searchParams.append(a,`${l}.${o}`),this}}return Us.default=t,Us}var tg;function rv(){if(tg)return Fs;tg=1;var n=Fs&&Fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fs,"__esModule",{value:!0});const e=n(Kd());class t{constructor(a,{headers:l={},schema:o,fetch:u}){this.url=a,this.headers=l,this.schema=o,this.fetch=u}select(a,{head:l=!1,count:o}={}){const u=l?"HEAD":"GET";let h=!1;const p=(a??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:l,defaultToNull:o=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),o||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const p=a.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:l,ignoreDuplicates:o=!1,count:u,defaultToNull:h=!0}={}){const p="POST",g=[`resolution=${o?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const v=a.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:l}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),this.headers.Prefer=u.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const l="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fs.default=t,Fs}var sa={},ia={},ng;function t_(){return ng||(ng=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.version=void 0,ia.version="0.0.0-automated"),ia}var rg;function n_(){if(rg)return sa;rg=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.DEFAULT_HEADERS=void 0;const n=t_();return sa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},sa}var sg;function r_(){if(sg)return Ls;sg=1;var n=Ls&&Ls.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=n(rv()),t=n(Kd()),r=n_();class a{constructor(o,{headers:u={},schema:h,fetch:p}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=h,this.fetch=p}from(o){const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:h=!1,get:p=!1,count:g}={}){let v;const x=new URL(`${this.url}/rpc/${o}`);let w;h||p?(v=h?"HEAD":"GET",Object.entries(u).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{x.searchParams.append(_,E)})):(v="POST",w=u);const S=Object.assign({},this.headers);return g&&(S.Prefer=`count=${g}`),new t.default({method:v,url:x,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Ls.default=a,Ls}var ig;function s_(){if(ig)return at;ig=1;var n=at&&at.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const e=n(r_());at.PostgrestClient=e.default;const t=n(rv());at.PostgrestQueryBuilder=t.default;const r=n(Kd());at.PostgrestFilterBuilder=r.default;const a=n(nv());at.PostgrestTransformBuilder=a.default;const l=n(tv());at.PostgrestBuilder=l.default;const o=n(ev());return at.PostgrestError=o.default,at.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:o.default},at}var i_=s_();const a_=Ro(i_),{PostgrestClient:l_,PostgrestQueryBuilder:GT,PostgrestFilterBuilder:QT,PostgrestTransformBuilder:ZT,PostgrestBuilder:KT,PostgrestError:JT}=a_;function o_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const c_=o_(),u_="2.11.15",d_=`realtime-js/${u_}`,f_="1.0.0",sv=1e4,h_=1e3;var ua;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ua||(ua={}));var mt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(mt||(mt={}));var an;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(an||(an={}));var bd;(function(n){n.websocket="websocket"})(bd||(bd={}));var Vr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Vr||(Vr={}));class p_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const a=t.getUint8(1),l=t.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+a));o=o+a;const h=r.decode(e.slice(o,o+l));o=o+l;const p=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:h,payload:p}}}class iv{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const ag=(n,e,t={})=>{var r;const a=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((l,o)=>(l[o]=m_(o,n,e,a),l),{})},m_=(n,e,t,r)=>{const a=e.find(u=>u.name===n),l=a==null?void 0:a.type,o=t[n];return l&&!r.includes(l)?av(l,o):Sd(o)},av=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return x_(e,t)}switch(n){case He.bool:return g_(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return y_(e);case He.json:case He.jsonb:return v_(e);case He.timestamp:return w_(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Sd(e);default:return Sd(e)}},Sd=n=>n,g_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},y_=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},v_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},x_=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let l;const o=n.slice(1,t);try{l=JSON.parse("["+o+"]")}catch{l=o?o.split(","):[]}return l.map(u=>av(e,u))}return n},w_=n=>typeof n=="string"?n.replace(" ","T"):n,lv=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class qu{constructor(e,t,r={},a=sv){this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(lg||(lg={}));class da{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=da.syncState(this.state,a,l,o),this.pendingDiffs.forEach(h=>{this.state=da.syncDiff(this.state,h,l,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=da.syncDiff(this.state,a,l,o),u())}),this.onJoin((a,l,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:o})}),this.onLeave((a,l,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const l=this.cloneDeep(e),o=this.transformState(t),u={},h={};return this.map(l,(p,g)=>{o[p]||(h[p]=g)}),this.map(o,(p,g)=>{const v=l[p];if(v){const x=g.map(E=>E.presence_ref),w=v.map(E=>E.presence_ref),S=g.filter(E=>w.indexOf(E.presence_ref)<0),_=v.filter(E=>x.indexOf(E.presence_ref)<0);S.length>0&&(u[p]=S),_.length>0&&(h[p]=_)}else u[p]=g}),this.syncDiff(l,{joins:u,leaves:h},r,a)}static syncDiff(e,t,r,a){const{joins:l,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(u,h)=>{var p;const g=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(h),g.length>0){const v=e[u].map(w=>w.presence_ref),x=g.filter(w=>v.indexOf(w.presence_ref)<0);e[u].unshift(...x)}r(u,g,h)}),this.map(o,(u,h)=>{let p=e[u];if(!p)return;const g=h.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[u]=p,a(u,p,h),p.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return"metas"in a?t[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[r]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var og;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(og||(og={}));var cg;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(cg||(cg={}));var Rn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class Jd{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new qu(this,an.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new da(this),this.broadcastEndpointURL=lv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:l,presence:o,private:u}}=this.params;this._onError(g=>e==null?void 0:e(Rn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Rn.CLOSED));const h={},p={broadcast:l,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(Rn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,S=[];for(let _=0;_<w;_++){const E=x[_],{filter:{event:C,schema:U,table:I,filter:T}}=E,W=g&&g[_];if(W&&W.event===C&&W.schema===U&&W.table===I&&W.filter===T)S.push(Object.assign(Object.assign({},E),{id:W.id}));else{this.unsubscribe(),this.state=mt.errored,e==null||e(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Rn.SUBSCRIBED);return}}).receive("error",g=>{this.state=mt.errored,e==null||e(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:o}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:o,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var o,u,h;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new qu(this,an.leave,{},e),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new qu(this,e,t,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,l;const o=e.toLocaleLowerCase(),{close:u,error:h,leave:p,join:g}=an;if(r&&[u,h,p,g].indexOf(o)>=0&&r!==this._joinRef())return;let x=this._onMessage(o,t,r);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var S,_,E;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(_=w.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(w=>w.callback(x,r)):(l=this.bindings[o])===null||l===void 0||l.filter(w=>{var S,_,E,C,U,I;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const T=w.id,W=(S=w.filter)===null||S===void 0?void 0:S.event;return T&&((_=t.ids)===null||_===void 0?void 0:_.includes(T))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const T=(U=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return T==="*"||T===((I=t==null?void 0:t.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:_,table:E,commit_timestamp:C,type:U,errors:I}=S;x=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:C,eventType:U,new:{},old:{},errors:I}),this._getPayloadRecords(S))}w.callback(x,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Jd.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ag(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ag(e.columns,e.old_record)),t}}const ug=()=>{},b_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S_{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ug,this.ref=0,this.logger=ug,this.conn=null,this.sendBuffer=[],this.serializer=new p_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...u)=>pi(async()=>{const{default:h}=await Promise.resolve().then(()=>mi);return{default:h}},void 0).then(({default:h})=>h(...u)):o=fetch,(...u)=>o(...u)},this.endPoint=`${e}/${bd.websocket}`,this.httpEndpoint=lv(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(l,o)=>o(JSON.stringify(l)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new iv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=c_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f_}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ua.connecting:return Vr.Connecting;case ua.open:return Vr.Open;case ua.closing:return Vr.Closing;default:return Vr.Closed}}isConnected(){return this.connectionState()===Vr.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new Jd(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:r,payload:a,ref:l}=e,o=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${r} (${l})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const a={access_token:t,version:d_};t&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(an.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(h_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:a,payload:l,ref:o}=t;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,l),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,l,o)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${r}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([b_],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Xd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class __ extends Xd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _d extends Xd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var E_=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};const ov=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>pi(async()=>{const{default:r}=await Promise.resolve().then(()=>mi);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},k_=()=>E_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pi(()=>Promise.resolve().then(()=>mi),void 0)).Response:Response}),Ed=n=>{if(Array.isArray(n))return n.map(t=>Ed(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Ed(r)}),e};var ls=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};const Yu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),C_=(n,e,t)=>ls(void 0,void 0,void 0,function*(){const r=yield k_();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(a=>{e(new __(Yu(a),n.status||500))}).catch(a=>{e(new _d(Yu(a),a))}):e(new _d(Yu(n),n))}),A_=(n,e,t,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),t))};function Ca(n,e,t,r,a,l){return ls(this,void 0,void 0,function*(){return new Promise((o,u)=>{n(t,A_(e,r,a,l)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>o(h)).catch(h=>C_(h,u,r))})})}function ho(n,e,t,r){return ls(this,void 0,void 0,function*(){return Ca(n,"GET",e,t,r)})}function cr(n,e,t,r,a){return ls(this,void 0,void 0,function*(){return Ca(n,"POST",e,r,a,t)})}function N_(n,e,t,r,a){return ls(this,void 0,void 0,function*(){return Ca(n,"PUT",e,r,a,t)})}function j_(n,e,t,r){return ls(this,void 0,void 0,function*(){return Ca(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function cv(n,e,t,r,a){return ls(this,void 0,void 0,function*(){return Ca(n,"DELETE",e,r,a,t)})}var Dt=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};const D_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T_{constructor(e,t={},r,a){this.url=e,this.headers=t,this.bucketId=r,this.fetch=ov(a)}uploadOrUpdate(e,t,r,a){return Dt(this,void 0,void 0,function*(){try{let l;const o=Object.assign(Object.assign({},dg),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const h=o.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",o.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",o.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const p=this._removeEmptyFolders(t),g=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{})),x=yield v.json();return v.ok?{data:{path:p,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}upload(e,t,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return Dt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),o=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",t);try{let h;const p=Object.assign({upsert:dg.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:g}),x=yield v.json();return v.ok?{data:{path:l,fullPath:x.Key},error:null}:{data:null,error:x}}catch(h){if(lt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return Dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const l=yield cr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+l.url),u=o.searchParams.get("token");if(!u)throw new Xd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}update(e,t,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Dt(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}copy(e,t,r){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,r){return Dt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield cr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${o}`)},{data:l,error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,r){return Dt(this,void 0,void 0,function*(){try{const a=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${l}`):null})),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}download(e,t){return Dt(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=l?`?${l}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield ho(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(lt(u))return{data:null,error:u};throw u}})}info(e){return Dt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield ho(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ed(r),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}exists(e){return Dt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield j_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(lt(r)&&r instanceof _d){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(e){return Dt(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}list(e,t,r){return Dt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},D_),t),{prefix:e||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const R_="2.7.1",M_={"X-Client-Info":`storage-js/${R_}`};var Bs=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};class I_{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},M_),t),this.fetch=ov(r)}listBuckets(){return Bs(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}getBucket(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Bs(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Bs(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}}class O_ extends I_{constructor(e,t={},r){super(e,t,r)}from(e){return new T_(this.url,this.headers,e,this.fetch)}}const P_="2.52.0";let la="";typeof Deno<"u"?la="deno":typeof document<"u"?la="web":typeof navigator<"u"&&navigator.product==="ReactNative"?la="react-native":la="node";const L_={"X-Client-Info":`supabase-js-${la}/${P_}`},F_={headers:L_},U_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z_={};var B_=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};const $_=n=>{let e;return n?e=n:typeof fetch>"u"?e=Jy:e=fetch,(...t)=>e(...t)},W_=()=>typeof Headers>"u"?Xy:Headers,V_=(n,e,t)=>{const r=$_(t),a=W_();return(l,o)=>B_(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let p=new a(o==null?void 0:o.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(l,Object.assign(Object.assign({},o),{headers:p}))})};var q_=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};function Y_(n){return n.endsWith("/")?n:n+"/"}function G_(n,e){var t,r;const{db:a,auth:l,realtime:o,global:u}=n,{db:h,auth:p,realtime:g,global:v}=e,x={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),o),global:Object.assign(Object.assign(Object.assign({},v),u),{headers:Object.assign(Object.assign({},(t=v==null?void 0:v.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>q_(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}const uv="2.71.1",Ys=30*1e3,kd=3,Gu=kd*Ys,Q_="http://localhost:9999",Z_="supabase.auth.token",K_={"X-Client-Info":`gotrue-js/${uv}`},Cd="X-Supabase-Api-Version",dv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X_=10*60*1e3;class ef extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function _e(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class eE extends ef{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function tE(n){return _e(n)&&n.name==="AuthApiError"}class fv extends ef{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class kr extends ef{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class or extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nE(n){return _e(n)&&n.name==="AuthSessionMissingError"}class Wl extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vl extends kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ql extends kr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rE(n){return _e(n)&&n.name==="AuthImplicitGrantRedirectError"}class fg extends kr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ad extends kr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Qu(n){return _e(n)&&n.name==="AuthRetryableFetchError"}class hg extends kr{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Nd extends kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pg=` 	
\r=`.split(""),sE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<pg.length;e+=1)n[pg[e].charCodeAt(0)]=-2;for(let e=0;e<po.length;e+=1)n[po[e].charCodeAt(0)]=e;return n})();function mg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(po[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(po[r]),e.queuedBits-=6}}function hv(n,e,t){const r=sE[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function gg(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=o=>{lE(o,r,t)};for(let o=0;o<n.length;o+=1)hv(n.charCodeAt(o),a,l);return e.join("")}function iE(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function aE(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}iE(r,e)}}function lE(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function oE(n){const e=[],t={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)hv(n.charCodeAt(a),t,r);return new Uint8Array(e)}function cE(n){const e=[];return aE(n,t=>e.push(t)),new Uint8Array(e)}function uE(n){const e=[],t={queue:0,queuedBits:0},r=a=>{e.push(a)};return n.forEach(a=>mg(a,t,r)),mg(null,t,r),e.join("")}function dE(n){return Math.round(Date.now()/1e3)+n}function fE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},pv=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function hE(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((r,a)=>{e[a]=r}),e}const mv=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>pi(async()=>{const{default:r}=await Promise.resolve().then(()=>mi);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},pE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Gs=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},zr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ar=async(n,e)=>{await n.removeItem(e)};class Po{constructor(){this.promise=new Po.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Po.promiseConstructor=Promise;function Zu(n){const e=n.split(".");if(e.length!==3)throw new Nd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!J_.test(e[r]))throw new Nd("JWT not in base64url format");return{header:JSON.parse(gg(e[0])),payload:JSON.parse(gg(e[1])),signature:oE(e[2]),raw:{header:e[0],payload:e[1]}}}async function mE(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function gE(n,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const o=await n(l);if(!e(l,null,o)){r(o);return}}catch(o){if(!e(l,o)){a(o);return}}})()})}function yE(n){return("0"+n.toString(16)).substr(-2)}function vE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,yE).join("")}async function xE(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function wE(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await xE(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(n,e,t=!1){const r=vE();let a=r;t&&(a+="/PASSWORD_RECOVERY"),await Gs(n,`${e}-code-verifier`,a);const l=await wE(r);return[l,r===l?"plain":"s256"]}const bE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SE(n){const e=n.headers.get(Cd);if(!e||!e.match(bE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _E(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function EE(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(n){if(!kE.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ku(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yg(n){return JSON.parse(JSON.stringify(n))}var CE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Br=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),AE=[502,503,504];async function vg(n){var e;if(!pE(n))throw new Ad(Br(n),0);if(AE.includes(n.status))throw new Ad(Br(n),n.status);let t;try{t=await n.json()}catch(l){throw new fv(Br(l),l)}let r;const a=SE(n);if(a&&a.getTime()>=dv["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new hg(Br(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new or}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0))throw new hg(Br(t),n.status,t.weak_password.reasons);throw new eE(Br(t),n.status||500,r)}const NE=(n,e,t,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))};async function Ne(n,e,t,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[Cd]||(l[Cd]=dv["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=await jE(n,e,t+u,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function jE(n,e,t,r,a,l){const o=NE(e,r,a,l);let u;try{u=await n(t,Object.assign({},o))}catch(h){throw console.error(h),new Ad(Br(h),0)}if(u.ok||await vg(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await vg(h)}}function Tn(n){var e;let t=null;ME(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=dE(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function xg(n){const e=Tn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function dr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function DE(n){return{data:n,error:null}}function TE(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:a,verification_type:l}=n,o=CE(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:a,verification_type:l},h=Object.assign({},o);return{data:{properties:u,user:h},error:null}}function RE(n){return n}function ME(n){return n.access_token&&n.refresh_token&&n.expires_in}const Ju=["global","local","others"];var IE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};class OE{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=mv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ju[0]){if(Ju.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:dr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=IE(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:TE,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(_e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dr})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,l,o,u,h;try{const p={nextPage:null,lastPage:0,total:0},g=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:RE});if(g.error)throw g.error;const v=await g.json(),x=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);p[`${E}Page`]=_}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(_e(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ws(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dr})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ws(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:dr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Ws(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:dr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ws(e.userId);try{const{data:t,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:r}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ws(e.userId),Ws(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}}function wg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function PE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vs={debug:!!(globalThis&&pv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class LE extends gv{}async function FE(n,e,t){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await t()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new LE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}PE();const UE={url:Q_,storageKey:Z_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bg(n,e,t){return await t()}const qs={};class ya{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ya.nextInstanceID,ya.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},UE),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new OE({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mv(a.fetch),this.lock=a.lock||bg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:tn()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=FE:this.lock=bg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:pv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=wg(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=qs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=qs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=hE(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),rE(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:o,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return _e(t)?{error:t}:{error:new fv("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Tn}),{data:o,error:u}=l;if(u||!o)return{data:{user:null,session:null},error:u};const h=o.session,p=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,r,a;try{let l;if("email"in e){const{email:g,password:v,options:x}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await $s(this.storage,this.storageKey)),l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:g,password:v,data:(t=x==null?void 0:x.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:S},xform:Tn})}else if("phone"in e){const{phone:g,password:v,options:x}=e;l=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Tn})}else throw new Vl("You must provide either an email or phone number and a password");const{data:o,error:u}=l;if(u||!o)return{data:{user:null,session:null},error:u};const h=o.session,p=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:o,options:u}=e;t=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xg})}else if("phone"in e){const{phone:l,password:o,options:u}=e;t=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xg})}else throw new Vl("You must provide either an email or phone number and a password");const{data:r,error:a}=t;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,a,l,o,u,h,p,g,v,x,w;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:E,wallet:C,statement:U,options:I}=e;let T;if(tn())if(typeof C=="object")T=C;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))T=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const W=new URL((t=I==null?void 0:I.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in T&&T.signIn){const P=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),U?{statement:U}:null));let N;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")N=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)N=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)S=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${W.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(a=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((o=I==null?void 0:I.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((v=(g=I==null?void 0:I.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...I.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const P=await T.signMessage(new TextEncoder().encode(S),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:E,error:C}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:uE(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Tn});if(C)throw C;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Wl}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:C})}catch(E){if(_e(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const t=await zr(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(t??"").split("/");try{const{data:l,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tn});if(await ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Wl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:o})}catch(l){if(_e(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:l,nonce:o}=e,u=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Tn}),{data:h,error:p}=u;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Wl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,a,l,o;try{if("email"in e){const{email:u,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await $s(this.storage,this.storageKey));const{error:v}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:u,options:h}=e,{data:p,error:g}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Vl("You must provide either an email or phone number.")}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,r;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Tn});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const h=o.session,p=o.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,r,a;try{let l=null,o=null;return this.flowType==="pkce"&&([l,o]=await $s(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:DE})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new or;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:o}=await Ne(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:o,error:u}=await Ne(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new Vl("You must provide either an email or phone number and a type")}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await zr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ku()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,g)=>(!o&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,g))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dr}):await this._useSession(async t=>{var r,a,l;const{data:o,error:u}=t;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new or}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:dr})})}catch(t){if(_e(t))return nE(t)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new or;const o=a.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await $s(this.storage,this.storageKey));const{data:p,error:g}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:o.access_token,xform:dr});if(g)throw g;return o.user=p.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new or;const t=Date.now()/1e3;let r=t,a=!0,l=null;const{payload:o}=Zu(e.access_token);if(o.exp&&(r=o.exp,a=r<=t),a){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(_e(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:u}=t;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new or;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!tn())throw new ql("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ql(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new fg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ql("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fg("No code detected.");const{data:U,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:o,expires_in:u,expires_at:h,token_type:p}=e;if(!l||!u||!o||!p)throw new ql("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(u);let x=g+v;h&&(x=parseInt(h));const w=x-g;w*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const S=x-v;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,g);const{data:_,error:E}=await this._getUser(l);if(E)throw E;const C={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:x,refresh_token:o,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:a,error:l}=t;if(l)return{error:l};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(tE(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=fE(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:l},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await $s(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(_e(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:a}=await this._useSession(async l=>{var o,u,h,p,g;const{data:v,error:x}=l;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return tn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:l,error:o}=t;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await gE(async a=>(a>0&&await mE(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tn})),(a,l)=>{const o=200*Math.pow(2,a);return l&&Qu(l)&&Date.now()+o-r<Ys})}catch(r){if(this._debug(t,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await zr(this.storage,this.storageKey);if(a&&this.userStorage){let o=await zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Gs(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ku()}else if(a&&!a.user&&!a.user){const o=await zr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await ar(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,a)):a.user=Ku()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Gu;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Gu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Qu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(a.access_token);!u&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Po;const{data:l,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!l.session)throw new or;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(a,"error",l),_e(l)){const o={session:null,error:l};return Qu(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){l.push(h)}});if(await Promise.all(o),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=yg(a);await Gs(this.storage,this.storageKey,l)}else{const a=yg(t);await Gs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ys}ms, refresh threshold is ${kd} ticks`),a<=kd&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,o]=await $s(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:l}=t;return l?{data:null,error:l}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:l,error:o}=t;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:p}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:l}=t;if(l)return{data:null,error:l};const{data:o,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:l}=t;return l?{data:null,error:l}:await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),l=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zu(a.access_token);let u=null;o.aal&&(u=o.aal);let h=u;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=o.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+X_>a)return r;const{data:l,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};r=w.session.access_token}const{header:a,payload:l,signature:o,raw:{header:u,payload:h}}=Zu(r);t!=null&&t.allowExpired||_E(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:l,header:a,signature:o},error:null}}const g=EE(a.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,o,cE(`${u}.${h}`)))throw new Nd("Invalid JWT signature");return{data:{claims:l,header:a,signature:o},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}ya.nextInstanceID=0;const HE=ya;class zE extends HE{constructor(e){super(e)}}var BE=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function u(g){try{p(r.next(g))}catch(v){o(v)}}function h(g){try{p(r.throw(g))}catch(v){o(v)}}function p(g){g.done?l(g.value):a(g.value).then(u,h)}p((r=r.apply(n,e||[])).next())})};class $E{constructor(e,t,r){var a,l,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=Y_(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:U_,realtime:z_,auth:Object.assign(Object.assign({},H_),{storageKey:p}),global:F_},v=G_(r??{},g);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=v.auth)!==null&&o!==void 0?o:{},this.headers,v.global.fetch),this.fetch=V_(t,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new l_(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new QS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new O_(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return BE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,storageKey:l,flowType:o,lock:u,debug:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zE({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,flowType:o,lock:u,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new S_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WE=(n,e,t)=>new $E(n,e,t),VE=void 0,qE=void 0;{const n="Supabase environment variables are not set. Please define VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.";throw console.error(n),new Error(n)}const me=WE(VE,qE);async function YE(){const{data:{session:n},error:e}=await me.auth.getSession();if(e)return console.error("Error getting session:",e),null;if(!n)return null;const{data:{user:t},error:r}=await me.auth.getUser();return r?(console.error("Error getting user:",r),null):t}async function Sg(n){const{data:e,error:t}=await me.from("users").select("*").eq("id",n).maybeSingle();return t?(console.error("Error getting user profile:",t),null):e}async function GE(n,e){const{data:{user:t},error:r}=await me.auth.getUser();if(r||!t)throw new Error("User authentication failed, please log in again");const{data:a,error:l}=await me.from("users").update({...e,updated_at:new Date().toISOString()}).eq("id",t.id).select().maybeSingle();if(l)throw console.error("Database update error:",l),l;return a}const yv=O.createContext(void 0);function Yt(){const n=O.useContext(yv);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}function QE({children:n}){const[e,t]=O.useState(null),[r,a]=O.useState(null),[l,o]=O.useState(!0);O.useEffect(()=>{async function w(){o(!0);try{const _=await YE();if(t(_),_){const E=await Sg(_.id);a(E)}}catch(_){console.error("Error loading user:",_)}finally{o(!1)}}w();const{data:{subscription:S}}=me.auth.onAuthStateChange(async(_,E)=>{t((E==null?void 0:E.user)||null),E!=null&&E.user?u(E.user.id):a(null)});return()=>S.unsubscribe()},[]);async function u(w){try{const S=await Sg(w);a(S)}catch(S){console.error("Error loading user profile:",S)}}async function h(){e&&await u(e.id)}async function p(w,S){return await me.auth.signInWithPassword({email:w,password:S})}async function g(w,S,_,E){const{data:C,error:U}=await me.auth.signUp({email:w,password:S,options:{emailRedirectTo:`${window.location.protocol}//${window.location.host}/confirmed`}});if(U)throw U;if(C.user){const{error:I}=await me.from("users").insert({id:C.user.id,email:w,display_name:_,relationship_role:E||"individual",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});I&&console.error("Error creating user profile:",I);try{await fetch("/.netlify/functions/send-confirmation-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w,displayName:_})})}catch(T){console.error("Custom email error",T)}}return C}async function v(){const{error:w}=await me.auth.signOut();if(w)throw w;a(null)}const x={user:e,profile:r,loading:l,signIn:p,signUp:g,signOut:v,refreshProfile:h};return d.jsx(yv.Provider,{value:x,children:n})}function Lo(){const n=O.useRef(null),e=O.useRef(null),t=()=>(e.current||(e.current=new(window.AudioContext||window.webkitAudioContext)),e.current),r=O.useCallback(()=>{const u=t();u.state==="suspended"&&u.resume()},[]);O.useEffect(()=>{const u=()=>r();return window.addEventListener("click",u),window.addEventListener("touchstart",u),document.addEventListener("visibilitychange",u),()=>{window.removeEventListener("click",u),window.removeEventListener("touchstart",u),document.removeEventListener("visibilitychange",u)}},[r]);const a=O.useCallback((u,h=.3,p=!1)=>{try{r(),n.current&&(n.current.pause(),n.current.currentTime=0),n.current=new Audio(u),n.current.volume=h,n.current.loop=p;const g=n.current.play();g!==void 0&&g.then(()=>{console.log("Audio playing successfully")}).catch(v=>{console.log("Audio play failed:",v)})}catch(g){console.error("Error playing audio:",g)}},[r]),l=O.useCallback(()=>{n.current&&(n.current.pause(),n.current.currentTime=0)},[]),o=O.useCallback(()=>{try{const u=t();r();const h=u.createOscillator(),p=u.createGain();h.connect(p),p.connect(u.destination),h.frequency.setValueAtTime(659.25,u.currentTime),h.type="sine",p.gain.setValueAtTime(0,u.currentTime),p.gain.linearRampToValueAtTime(.1,u.currentTime+.1),p.gain.exponentialRampToValueAtTime(.01,u.currentTime+2),h.start(u.currentTime),h.stop(u.currentTime+2);const g=u.createOscillator(),v=u.createGain();g.connect(v),v.connect(u.destination),g.frequency.setValueAtTime(987.77,u.currentTime),g.type="sine",v.gain.setValueAtTime(0,u.currentTime),v.gain.linearRampToValueAtTime(.05,u.currentTime+.2),v.gain.exponentialRampToValueAtTime(.01,u.currentTime+1.8),g.start(u.currentTime+.1),g.stop(u.currentTime+1.8)}catch{console.log("Web Audio API not available, using fallback")}},[r]);return{playAudio:a,stopAudio:l,playEntranceSound:o}}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(n,e)=>{const t=O.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:u="",children:h,...p},g)=>O.createElement("svg",{ref:g,...ZE,width:a,height:a,stroke:r,strokeWidth:o?Number(l)*24/Number(a):l,className:["lucide",`lucide-${KE(n)}`,u].join(" "),...p},[...e.map(([v,x])=>O.createElement(v,x)),...Array.isArray(h)?h:[h]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=ke("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ke("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ke("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ke("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function bk({onComplete:n,children:e}){const[t,r]=O.useState(!0),[a,l]=O.useState(!1),[o,u]=O.useState(!1),{playEntranceSound:h}=Lo(),[p,g]=O.useState([]);O.useEffect(()=>{if(!o)return;const x=Array.from({length:12},(_,E)=>({id:E,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*3}));g(x),h();const w=setTimeout(()=>{l(!0)},3e3),S=setTimeout(()=>{v()},6e3);return()=>{clearTimeout(w),clearTimeout(S)}},[o,h]);const v=()=>{r(!1),setTimeout(()=>{n()},800)};return o?t?d.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 animate-pulse"}),d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("div",{className:"absolute top-10 left-10 opacity-30 animate-float-slow",children:d.jsx(Yl,{className:"w-32 h-32 text-white/60"})}),d.jsx("div",{className:"absolute top-20 right-20 opacity-20 animate-float-slower",children:d.jsx(Yl,{className:"w-48 h-48 text-blue-200/40"})}),d.jsx("div",{className:"absolute bottom-32 left-1/4 opacity-25 animate-float-medium",children:d.jsx(Yl,{className:"w-40 h-40 text-purple-200/50"})}),d.jsx("div",{className:"absolute bottom-20 right-1/3 opacity-15 animate-float-slow",children:d.jsx(Yl,{className:"w-56 h-56 text-white/30"})})]}),d.jsx("div",{className:"absolute inset-0",children:p.map(x=>d.jsx("div",{className:"absolute animate-float-particle opacity-40",style:{left:`${x.x}%`,top:`${x.y}%`,animationDelay:`${x.delay}s`},children:d.jsx(wv,{className:"w-4 h-4 text-yellow-300/60"})},x.id))}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-8 animate-fade-in-up",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h1",{className:"text-4xl sm:text-6xl font-light text-gray-800/80 tracking-wide animate-text-shimmer",children:"ZenzaLife"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-600/70 font-light tracking-wider",children:"Scheduler"})]}),d.jsx("div",{className:"max-w-md mx-auto",children:d.jsx("p",{className:"text-sm text-gray-500/80 font-light leading-relaxed animate-fade-in-delayed",children:"Enter a higher dimension of life management"})}),d.jsxs("div",{className:"flex justify-center space-x-1 animate-fade-in-delayed-2",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-300/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 bg-purple-300/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 bg-blue-300/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),a&&d.jsx("button",{onClick:v,className:"absolute top-6 right-6 p-2 rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-all duration-300 animate-fade-in","aria-label":"Skip entrance",children:d.jsx(tf,{className:"w-5 h-5 text-gray-600/70"})}),d.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-fade-in-delayed-3",children:d.jsx("p",{className:"text-xs text-gray-400/80 font-light",children:"Preparing your elevated life management experience..."})})]}):d.jsx("div",{className:"transition-opacity duration-800 opacity-100",children:e}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100",children:d.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-3 sm:px-6 sm:py-4 text-base sm:text-lg font-semibold bg-white/70 backdrop-blur-md rounded-lg shadow-lg hover:bg-white transition",children:["Click to Enter ZenzaLife ",d.jsx("span",{className:"font-bold",children:"OS"})," Scheduler",d.jsx("span",{className:"block text-sm font-light",children:"(Operating System of Life)"})]})})}function nf(){const n=()=>window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0,[e,t]=O.useState(null),[r,a]=O.useState(n()),[l,o]=O.useState(n()),[u,h]=O.useState(!1);O.useEffect(()=>{var E,C;const S=U=>{U.preventDefault(),t(U)};window.addEventListener("beforeinstallprompt",S),window.addEventListener("appinstalled",()=>{a(!0),o(!0)});const _=()=>o(n());return window.addEventListener("visibilitychange",_),(C=(E=navigator.storage)==null?void 0:E.estimate)==null||C.call(E).then(({quota:U})=>{U&&U<120*1024*1024&&h(!0)}),()=>{window.removeEventListener("beforeinstallprompt",S),window.removeEventListener("visibilitychange",_)}},[]);const p=async()=>{e&&(e.prompt(),await e.userChoice,t(null))},g=navigator.userAgent.toLowerCase(),v=/iphone|ipad|ipod/.test(g),x=/android/.test(g);return{deferredPrompt:e,promptInstall:p,isIOS:v,isAndroid:x,isDesktop:!v&&!x,installed:r,isStandalone:l,isIncognito:u}}function Ev(){const{isIOS:n,isDesktop:e,deferredPrompt:t,promptInstall:r,installed:a,isStandalone:l,isIncognito:o}=nf();return d.jsxs("div",{className:"p-4 bg-blue-50/80 rounded-xl space-y-3 text-center",children:[d.jsx("h3",{className:"font-medium text-blue-900",children:"Download the App"}),o&&d.jsx("p",{className:"text-sm text-red-600",children:"Incognito mode prevents installation. Open in a regular browser window."}),l?d.jsx("p",{className:"text-sm text-green-700",children:"You're using the installed app."}):a?d.jsx("p",{className:"text-sm text-green-700",children:"App installed! Launch it from your home screen."}):n?d.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[d.jsx("p",{children:"1. Tap the share icon in Safari"}),d.jsx("p",{children:'2. Choose "Add to Home Screen"'}),d.jsx("p",{children:"3. Open ZenzaLife from your home screen"})]}):t?d.jsx("button",{onClick:r,className:"btn-dreamy-primary text-sm",children:"Install ZenzaLife"}):d.jsx("p",{className:"text-sm text-blue-700",children:'Use your browser menu and choose "Add to Home Screen" to install.'}),e&&d.jsx("p",{className:"text-xs text-blue-600",children:"Desktop browsers show an install button in the address bar."})]})}const Sk=[{value:"mom",label:"Mom"},{value:"dad",label:"Dad"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"partner",label:"Partner"},{value:"individual",label:"Individual"}];function _k({mode:n,onModeChange:e}){const[t,r]=O.useState(""),[a,l]=O.useState(""),[o,u]=O.useState(""),[h,p]=O.useState("individual"),[g,v]=O.useState(!1),[x,w]=O.useState(!1),{signIn:S,signUp:_}=Yt(),E=async C=>{C.preventDefault(),w(!0);try{if(n==="signin"){const{error:U}=await S(t,a);if(U)throw U;se.success("Welcome back to ZenzaLife!")}else{const{error:U}=await _(t,a,o,h);if(U)throw U;se.success("Welcome to ZenzaLife! Please check your email to verify your account.")}}catch(U){se.error(U.message||"Authentication failed")}finally{w(!1)}};return d.jsx("div",{className:"w-full max-w-md mx-auto",children:d.jsxs("div",{className:"card-floating p-8 space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-2xl font-light text-gray-800",children:n==="signin"?"Welcome Back":"Join ZenzaLife"}),d.jsx("p",{className:"text-sm text-gray-600/80 font-light",children:n==="signin"?"Continue your journey to 1% better every day":"Begin your transformation into a higher version of yourself"})]}),d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[n==="signup"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{htmlFor:"displayName",className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[d.jsx(_v,{className:"w-4 h-4"}),"Display Name"]}),d.jsx("input",{id:"displayName",name:"displayName",type:"text",value:o,onChange:C=>u(C.target.value),className:"input-dreamy w-full",placeholder:"How should we call you?",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{htmlFor:"relationshipRole",className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[d.jsx(xa,{className:"w-4 h-4"}),"Role in Family"]}),d.jsx("select",{id:"relationshipRole",name:"relationshipRole",value:h,onChange:C=>p(C.target.value),className:"input-dreamy w-full",children:Sk.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{htmlFor:"email",className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[d.jsx(hk,{className:"w-4 h-4"}),"Email"]}),d.jsx("input",{id:"email",name:"email",type:"email",value:t,onChange:C=>r(C.target.value),className:"input-dreamy w-full",placeholder:"your@email.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{htmlFor:"password",className:"text-sm font-light text-gray-700 flex items-center gap-2",children:[d.jsx(dk,{className:"w-4 h-4"}),"Password"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:g?"text":"password",value:a,onChange:C=>l(C.target.value),className:"input-dreamy w-full pr-12",placeholder:"Your secure password",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?d.jsx(lk,{className:"w-5 h-5"}):d.jsx(ok,{className:"w-5 h-5"})})]})]}),d.jsx("button",{type:"submit",disabled:x,className:"btn-dreamy-primary w-full",children:x?d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),n==="signin"?"Signing In...":"Creating Account..."]}):n==="signin"?"Sign In":"Create Account"})]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{onClick:()=>e(n==="signin"?"signup":"signin"),className:"text-sm text-gray-600/80 hover:text-gray-800 font-light underline underline-offset-4",children:n==="signin"?"New to ZenzaLife? Create an account":"Already have an account? Sign in"})}),d.jsx(Ev,{})]})})}var Dd=Hy(),Fo,ve,kv,Cv,di,qr,Eg,Av,Nv,go={},jv=[],Ek=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function vr(n,e){for(var t in e)n[t]=e[t];return n}function Dv(n){var e=n.parentNode;e&&e.removeChild(n)}function A(n,e,t){var r,a,l,o={};for(l in e)l=="key"?r=e[l]:l=="ref"?a=e[l]:o[l]=e[l];if(arguments.length>2&&(o.children=arguments.length>3?Fo.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(l in n.defaultProps)o[l]===void 0&&(o[l]=n.defaultProps[l]);return ro(n,o,r,a,null)}function ro(n,e,t,r,a){var l={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++kv};return a==null&&ve.vnode!=null&&ve.vnode(l),l}function _t(){return{current:null}}function ze(n){return n.children}function kk(n,e,t,r,a){var l;for(l in t)l==="children"||l==="key"||l in e||yo(n,l,null,t[l],r);for(l in e)a&&typeof e[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||t[l]===e[l]||yo(n,l,e[l],t[l],r)}function kg(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||Ek.test(e)?t:t+"px"}function yo(n,e,t,r,a){var l;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||kg(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||kg(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")l=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+l]=t,t?r||n.addEventListener(e,l?Ag:Cg,l):n.removeEventListener(e,l?Ag:Cg,l);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function Cg(n){di=!0;try{return this.l[n.type+!1](ve.event?ve.event(n):n)}finally{di=!1}}function Ag(n){di=!0;try{return this.l[n.type+!0](ve.event?ve.event(n):n)}finally{di=!1}}function Lt(n,e){this.props=n,this.context=e}function wa(n,e){if(e==null)return n.__?wa(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?wa(n):null}function Tv(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Tv(n)}}function Ck(n){di?setTimeout(n):Av(n)}function Td(n){(!n.__d&&(n.__d=!0)&&qr.push(n)&&!vo.__r++||Eg!==ve.debounceRendering)&&((Eg=ve.debounceRendering)||Ck)(vo)}function vo(){var n,e,t,r,a,l,o,u;for(qr.sort(function(h,p){return h.__v.__b-p.__v.__b});n=qr.shift();)n.__d&&(e=qr.length,r=void 0,a=void 0,o=(l=(t=n).__v).__e,(u=t.__P)&&(r=[],(a=vr({},l)).__v=l.__v+1,rf(u,l,a,t.__n,u.ownerSVGElement!==void 0,l.__h!=null?[o]:null,r,o??wa(l),l.__h),Pv(r,l),l.__e!=o&&Tv(l)),qr.length>e&&qr.sort(function(h,p){return h.__v.__b-p.__v.__b}));vo.__r=0}function Rv(n,e,t,r,a,l,o,u,h,p){var g,v,x,w,S,_,E,C=r&&r.__k||jv,U=C.length;for(t.__k=[],g=0;g<e.length;g++)if((w=t.__k[g]=(w=e[g])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?ro(null,w,null,null,w):Array.isArray(w)?ro(ze,{children:w},null,null,null):w.__b>0?ro(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null){if(w.__=t,w.__b=t.__b+1,(x=C[g])===null||x&&w.key==x.key&&w.type===x.type)C[g]=void 0;else for(v=0;v<U;v++){if((x=C[v])&&w.key==x.key&&w.type===x.type){C[v]=void 0;break}x=null}rf(n,w,x=x||go,a,l,o,u,h,p),S=w.__e,(v=w.ref)&&x.ref!=v&&(E||(E=[]),x.ref&&E.push(x.ref,null,w),E.push(v,w.__c||S,w)),S!=null?(_==null&&(_=S),typeof w.type=="function"&&w.__k===x.__k?w.__d=h=Mv(w,h,n):h=Iv(n,w,x,C,S,h),typeof t.type=="function"&&(t.__d=h)):h&&x.__e==h&&h.parentNode!=n&&(h=wa(x))}for(t.__e=_,g=U;g--;)C[g]!=null&&(typeof t.type=="function"&&C[g].__e!=null&&C[g].__e==t.__d&&(t.__d=Ov(r).nextSibling),Fv(C[g],C[g]));if(E)for(g=0;g<E.length;g++)Lv(E[g],E[++g],E[++g])}function Mv(n,e,t){for(var r,a=n.__k,l=0;a&&l<a.length;l++)(r=a[l])&&(r.__=n,e=typeof r.type=="function"?Mv(r,e,t):Iv(t,r,r,a,r.__e,e));return e}function xo(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){xo(t,e)}):e.push(n)),e}function Iv(n,e,t,r,a,l){var o,u,h;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||a!=l||a.parentNode==null)e:if(l==null||l.parentNode!==n)n.appendChild(a),o=null;else{for(u=l,h=0;(u=u.nextSibling)&&h<r.length;h+=1)if(u==a)break e;n.insertBefore(a,l),o=l}return o!==void 0?o:a.nextSibling}function Ov(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=Ov(t)))return r}return null}function rf(n,e,t,r,a,l,o,u,h){var p,g,v,x,w,S,_,E,C,U,I,T,W,P,N,j=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,u=e.__e=t.__e,e.__h=null,l=[u]),(p=ve.__b)&&p(e);try{e:if(typeof j=="function"){if(E=e.props,C=(p=j.contextType)&&r[p.__c],U=p?C?C.props.value:p.__:r,t.__c?_=(g=e.__c=t.__c).__=g.__E:("prototype"in j&&j.prototype.render?e.__c=g=new j(E,U):(e.__c=g=new Lt(E,U),g.constructor=j,g.render=Nk),C&&C.sub(g),g.props=E,g.state||(g.state={}),g.context=U,g.__n=r,v=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),j.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=vr({},g.__s)),vr(g.__s,j.getDerivedStateFromProps(E,g.__s))),x=g.props,w=g.state,g.__v=e,v)j.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(j.getDerivedStateFromProps==null&&E!==x&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(E,U),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(E,g.__s,U)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(g.props=E,g.state=g.__s,g.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(L){L&&(L.__=e)}),I=0;I<g._sb.length;I++)g.__h.push(g._sb[I]);g._sb=[],g.__h.length&&o.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(E,g.__s,U),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(x,w,S)})}if(g.context=U,g.props=E,g.__P=n,T=ve.__r,W=0,"prototype"in j&&j.prototype.render){for(g.state=g.__s,g.__d=!1,T&&T(e),p=g.render(g.props,g.state,g.context),P=0;P<g._sb.length;P++)g.__h.push(g._sb[P]);g._sb=[]}else do g.__d=!1,T&&T(e),p=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++W<25);g.state=g.__s,g.getChildContext!=null&&(r=vr(vr({},r),g.getChildContext())),v||g.getSnapshotBeforeUpdate==null||(S=g.getSnapshotBeforeUpdate(x,w)),N=p!=null&&p.type===ze&&p.key==null?p.props.children:p,Rv(n,Array.isArray(N)?N:[N],e,t,r,a,l,o,u,h),g.base=e.__e,e.__h=null,g.__h.length&&o.push(g),_&&(g.__E=g.__=null),g.__e=!1}else l==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Ak(t.__e,e,t,r,a,l,o,h);(p=ve.diffed)&&p(e)}catch(L){e.__v=null,(h||l!=null)&&(e.__e=u,e.__h=!!h,l[l.indexOf(u)]=null),ve.__e(L,e,t)}}function Pv(n,e){ve.__c&&ve.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){ve.__e(r,t.__v)}})}function Ak(n,e,t,r,a,l,o,u){var h,p,g,v=t.props,x=e.props,w=e.type,S=0;if(w==="svg"&&(a=!0),l!=null){for(;S<l.length;S++)if((h=l[S])&&"setAttribute"in h==!!w&&(w?h.localName===w:h.nodeType===3)){n=h,l[S]=null;break}}if(n==null){if(w===null)return document.createTextNode(x);n=a?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,x.is&&x),l=null,u=!1}if(w===null)v===x||u&&n.data===x||(n.data=x);else{if(l=l&&Fo.call(n.childNodes),p=(v=t.props||go).dangerouslySetInnerHTML,g=x.dangerouslySetInnerHTML,!u){if(l!=null)for(v={},S=0;S<n.attributes.length;S++)v[n.attributes[S].name]=n.attributes[S].value;(g||p)&&(g&&(p&&g.__html==p.__html||g.__html===n.innerHTML)||(n.innerHTML=g&&g.__html||""))}if(kk(n,x,v,a,u),g)e.__k=[];else if(S=e.props.children,Rv(n,Array.isArray(S)?S:[S],e,t,r,a&&w!=="foreignObject",l,o,l?l[0]:t.__k&&wa(t,0),u),l!=null)for(S=l.length;S--;)l[S]!=null&&Dv(l[S]);u||("value"in x&&(S=x.value)!==void 0&&(S!==n.value||w==="progress"&&!S||w==="option"&&S!==v.value)&&yo(n,"value",S,v.value,!1),"checked"in x&&(S=x.checked)!==void 0&&S!==n.checked&&yo(n,"checked",S,v.checked,!1))}return n}function Lv(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){ve.__e(r,t)}}function Fv(n,e,t){var r,a;if(ve.unmount&&ve.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||Lv(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){ve.__e(l,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(a=0;a<r.length;a++)r[a]&&Fv(r[a],e,t||typeof n.type!="function");t||n.__e==null||Dv(n.__e),n.__=n.__e=n.__d=void 0}function Nk(n,e,t){return this.constructor(n,t)}function ba(n,e,t){var r,a,l;ve.__&&ve.__(n,e),a=(r=!1)?null:e.__k,l=[],rf(e,n=e.__k=A(ze,null,[n]),a||go,go,e.ownerSVGElement!==void 0,a?null:e.firstChild?Fo.call(e.childNodes):null,l,a?a.__e:e.firstChild,r),Pv(l,n)}function jk(n,e){var t={__c:e="__cC"+Nv++,__:n,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,l;return this.getChildContext||(a=[],(l={})[e]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&a.some(function(u){u.__e=!0,Td(u)})},this.sub=function(o){a.push(o);var u=o.componentWillUnmount;o.componentWillUnmount=function(){a.splice(a.indexOf(o),1),u&&u.call(o)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}Fo=jv.slice,ve={__e:function(n,e,t,r){for(var a,l,o;e=e.__;)if((a=e.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(n)),o=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(n,r||{}),o=a.__d),o)return a.__E=a}catch(u){n=u}throw n}},kv=0,Cv=function(n){return n!=null&&n.constructor===void 0},di=!1,Lt.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=vr({},this.state),typeof n=="function"&&(n=n(vr({},t),this.props)),n&&vr(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Td(this))},Lt.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Td(this))},Lt.prototype.render=ze,qr=[],Av=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vo.__r=0,Nv=0;var yn,Xu,Ng,Uv=[],ed=[],jg=ve.__b,Dg=ve.__r,Tg=ve.diffed,Rg=ve.__c,Mg=ve.unmount;function Dk(){for(var n;n=Uv.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(so),n.__H.__h.forEach(Rd),n.__H.__h=[]}catch(e){n.__H.__h=[],ve.__e(e,n.__v)}}ve.__b=function(n){yn=null,jg&&jg(n)},ve.__r=function(n){Dg&&Dg(n);var e=(yn=n.__c).__H;e&&(Xu===yn?(e.__h=[],yn.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=ed,t.__N=t.i=void 0})):(e.__h.forEach(so),e.__h.forEach(Rd),e.__h=[])),Xu=yn},ve.diffed=function(n){Tg&&Tg(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(Uv.push(e)!==1&&Ng===ve.requestAnimationFrame||((Ng=ve.requestAnimationFrame)||Tk)(Dk)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==ed&&(t.__=t.__V),t.i=void 0,t.__V=ed})),Xu=yn=null},ve.__c=function(n,e){e.some(function(t){try{t.__h.forEach(so),t.__h=t.__h.filter(function(r){return!r.__||Rd(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],ve.__e(r,t.__v)}}),Rg&&Rg(n,e)},ve.unmount=function(n){Mg&&Mg(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{so(r)}catch(a){e=a}}),t.__H=void 0,e&&ve.__e(e,t.__v))};var Ig=typeof requestAnimationFrame=="function";function Tk(n){var e,t=function(){clearTimeout(r),Ig&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);Ig&&(e=requestAnimationFrame(t))}function so(n){var e=yn,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),yn=e}function Rd(n){var e=yn;n.__c=n.__(),yn=e}function Rk(n,e){for(var t in e)n[t]=e[t];return n}function Og(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function Pg(n){this.props=n}(Pg.prototype=new Lt).isPureReactComponent=!0,Pg.prototype.shouldComponentUpdate=function(n,e){return Og(this.props,n)||Og(this.state,e)};var Lg=ve.__b;ve.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Lg&&Lg(n)};var Mk=ve.__e;ve.__e=function(n,e,t,r){if(n.then){for(var a,l=e;l=l.__;)if((a=l.__c)&&a.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),a.__c(n,e)}Mk(n,e,t,r)};var Fg=ve.unmount;function Hv(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=Rk({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return Hv(r,e,t)})),n}function zv(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return zv(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function td(){this.__u=0,this.t=null,this.__b=null}function Bv(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Gl(){this.u=null,this.o=null}ve.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),Fg&&Fg(n)},(td.prototype=new Lt).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var a=Bv(r.__v),l=!1,o=function(){l||(l=!0,t.__R=null,a?a(u):u())};t.__R=o;var u=function(){if(!--r.__u){if(r.state.__a){var p=r.state.__a;r.__v.__k[0]=zv(p,p.__c.__P,p.__c.__O)}var g;for(r.setState({__a:r.__b=null});g=r.t.pop();)g.forceUpdate()}},h=e.__h===!0;r.__u++||h||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(o,o)},td.prototype.componentWillUnmount=function(){this.t=[]},td.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Hv(this.__b,t,r.__O=r.__P)}this.__b=null}var a=e.__a&&A(ze,null,n.fallback);return a&&(a.__h=null),[A(ze,null,e.__a?null:n.children),a]};var Ug=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Ik(n){return this.getChildContext=function(){return n.context},n.children}function Ok(n){var e=this,t=n.i;e.componentWillUnmount=function(){ba(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,a){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),ba(A(Ik,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function Pk(n,e){var t=A(Ok,{__v:n,i:e});return t.containerInfo=e,t}(Gl.prototype=new Lt).__a=function(n){var e=this,t=Bv(e.__v),r=e.o.get(n);return r[0]++,function(a){var l=function(){e.props.revealOrder?(r.push(a),Ug(e,n,r)):a()};t?t(l):l()}},Gl.prototype.render=function(n){this.u=null,this.o=new Map;var e=xo(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Gl.prototype.componentDidUpdate=Gl.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){Ug(n,t,e)})};var Lk=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Fk=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Uk=typeof document<"u",Hk=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Lt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Lt.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var Hg=ve.event;function zk(){}function Bk(){return this.cancelBubble}function $k(){return this.defaultPrevented}ve.event=function(n){return Hg&&(n=Hg(n)),n.persist=zk,n.isPropagationStopped=Bk,n.isDefaultPrevented=$k,n.nativeEvent=n};var zg={configurable:!0,get:function(){return this.class}},Bg=ve.vnode;ve.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var l in r={},t){var o=t[l];Uk&&l==="children"&&e==="noscript"||l==="value"&&"defaultValue"in t&&o==null||(l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&o===!0?o="":/ondoubleclick/i.test(l)?l="ondblclick":/^onchange(textarea|input)/i.test(l+e)&&!Hk(t.type)?l="oninput":/^onfocus$/i.test(l)?l="onfocusin":/^onblur$/i.test(l)?l="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(l)?l=l.toLowerCase():a&&Fk.test(l)?l=l.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(l)&&(l=l.toLowerCase(),r[l]&&(l="oninputCapture")),r[l]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=xo(t.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=xo(t.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.props=r,t.class!=t.className&&(zg.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",zg))}n.$$typeof=Lk,Bg&&Bg(n)};var $g=ve.__r;ve.__r=function(n){$g&&$g(n),n.__c};const $v=[],Md=new Map;function sf(n){$v.push(n),Md.forEach(e=>{Vv(e,n)})}function Wk(n){n.isConnected&&n.getRootNode&&Wv(n.getRootNode())}function Wv(n){let e=Md.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=qk();t&&(e.nonce=t);const r=n===document?document.head:n,a=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,a)}Md.set(n,e),Vk(e)}}function Vk(n){for(const e of $v)Vv(n,e)}function Vv(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((a,l)=>{a=a.trim(),a&&t.insertRule(a+"}",r+l)})}let nd;function qk(){return nd===void 0&&(nd=Yk()),nd}function Yk(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Wv(document);var Gk=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';sf(Gk);class af{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function lf(n){n.parentNode&&n.parentNode.removeChild(n)}function yt(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(Qk(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function Qk(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function Zk(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let a=0;a<t.length;a+=1){let l=t[a].querySelectorAll(e);for(let o=0;o<l.length;o+=1)r.push(l[o])}return r}const Kk=/(top|left|right|bottom|width|height)$/i;function fa(n,e){for(let t in e)qv(n,t,e[t])}function qv(n,e,t){t==null?n.style[e]="":typeof t=="number"&&Kk.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function Yv(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let Wg=0;function Uo(){return Wg+=1,"fc-dom-"+Wg}function Ho(n){n.preventDefault()}function Jk(n,e){return t=>{let r=yt(t.target,n);r&&e.call(r,t,r)}}function Gv(n,e,t,r){let a=Jk(t,r);return n.addEventListener(e,a),()=>{n.removeEventListener(e,a)}}function Xk(n,e,t,r){let a;return Gv(n,"mouseover",e,(l,o)=>{if(o!==a){a=o,t(l,o);let u=h=>{a=null,r(h,o),o.removeEventListener("mouseleave",u)};o.addEventListener("mouseleave",u)}})}const Vg=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function e1(n,e){let t=r=>{e(r),Vg.forEach(a=>{n.removeEventListener(a,t)})};Vg.forEach(r=>{n.addEventListener(r,t)})}function Qv(n){return Object.assign({onClick:n},Zv(n))}function Zv(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let qg=0;function cs(){return qg+=1,String(qg)}function of(){document.body.classList.add("fc-not-allowed")}function cf(){document.body.classList.remove("fc-not-allowed")}function t1(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Ho)}function n1(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Ho)}function r1(n){n.addEventListener("contextmenu",Ho)}function s1(n){n.removeEventListener("contextmenu",Ho)}function i1(n){let e=[],t=[],r,a;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)a=t[r],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function a1(n,e,t){let r,a;for(r=0;r<t.length;r+=1)if(a=l1(n,e,t[r]),a)return a;return 0}function l1(n,e,t){return t.func?t.func(n,e):o1(n[t.field],e[t.field])*(t.order||1)}function o1(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Js(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function ha(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,a,l)=>r.replace("$"+l,a||""),n):t}function c1(n,e){return n-e}function io(n){return n%1===0}function u1(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const Yg=["years","months","days","milliseconds"],d1=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Te(n,e){return typeof n=="string"?f1(n):typeof n=="object"&&n?Gg(n):typeof n=="number"?Gg({[e||"milliseconds"]:n}):null}function f1(n){let e=d1.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Gg(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function h1(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function Id(n,e){return{years:n.years+e.years,months:n.months+e.months,days:n.days+e.days,milliseconds:n.milliseconds+e.milliseconds}}function p1(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function m1(n,e){return{years:n.years*e,months:n.months*e,days:n.days*e,milliseconds:n.milliseconds*e}}function g1(n){return Xs(n)/365}function y1(n){return Xs(n)/30}function Xs(n){return ln(n)/864e5}function ln(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function uf(n,e){let t=null;for(let r=0;r<Yg.length;r+=1){let a=Yg[r];if(e[a]){let l=n[a]/e[a];if(!io(l)||t!==null&&t!==l)return null;t=l}else if(n[a])return null}return t}function Od(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Sr(n,e,t){if(n===e)return!0;let r=n.length,a;if(r!==e.length)return!1;for(a=0;a<r;a+=1)if(!(t?t(n[a],e[a]):n[a]===e[a]))return!1;return!0}const v1=["sun","mon","tue","wed","thu","fri","sat"];function Qg(n,e){let t=xr(n);return t[2]+=e*7,Tt(t)}function vt(n,e){let t=xr(n);return t[2]+=e,Tt(t)}function _r(n,e){let t=xr(n);return t[6]+=e,Tt(t)}function x1(n,e){return us(n,e)/7}function us(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function w1(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function b1(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function S1(n,e){return(e.valueOf()-n.valueOf())/1e3}function _1(n,e){let t=Be(n),r=Be(e);return{years:0,months:0,days:Math.round(us(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function E1(n,e){let t=wo(n,e);return t!==null&&t%7===0?t/7:null}function wo(n,e){return wr(n)===wr(e)?Math.round(us(n,e)):null}function Be(n){return Tt([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function k1(n){return Tt([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function C1(n){return Tt([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function A1(n){return Tt([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function N1(n,e,t){let r=n.getUTCFullYear(),a=rd(n,r,e,t);if(a<1)return rd(n,r-1,e,t);let l=rd(n,r+1,e,t);return l>=1?Math.min(a,l):a}function rd(n,e,t,r){let a=Tt([e,0,1+j1(e,t,r)]),l=Be(n),o=Math.round(us(a,l));return Math.floor(o/7)+1}function j1(n,e,t){let r=7+e-t;return-((7+Tt([n,0,r]).getUTCDay()-e)%7)+r-1}function Zg(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function Kg(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function xr(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Tt(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Kv(n){return!isNaN(n.valueOf())}function wr(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function Jv(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",ff(e,!0)))),r}function df(n){return n.toISOString().replace(/T.*$/,"")}function D1(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function T1(n){return Js(n.getUTCHours(),2)+":"+Js(n.getUTCMinutes(),2)+":"+Js(n.getUTCSeconds(),2)}function ff(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=Math.round(r%60);return e?`${t+Js(a,2)}:${Js(l,2)}`:`GMT${t}${a}${l?`:${Js(l,2)}`:""}`}function xe(n,e,t){let r,a;return function(...l){if(!r)a=n.apply(this,l);else if(!Sr(r,l)){let o=n.apply(this,l);(!e||!e(o,a))&&(a=o)}return r=l,a}}function ao(n,e,t){let r,a;return l=>(r?on(r,l)||(a=n.call(this,l)):a=n.call(this,l),r=l,a)}const sd={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},bo={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ql=/\s*([ap])\.?m\.?/i,R1=/,/g,M1=/\s+/g,I1=/\u200e/g,O1=/UTC|GMT/;class P1{constructor(e){let t={},r={},a=9;for(let l in e)l in sd?(r[l]=e[l],sd[l]<9&&(a=Math.min(sd[l],a))):(t[l]=e[l],l in bo&&(a=Math.min(bo[l],a)));this.standardDateProps=t,this.extendedSettings=r,this.smallestUnitNum=a,this.buildFormattingFunc=xe(Jg)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,a){let{standardDateProps:l,extendedSettings:o}=this,u=B1(e.marker,t.marker,r.calendarSystem);if(!u)return this.format(e,r);let h=u;h>1&&(l.year==="numeric"||l.year==="2-digit")&&(l.month==="numeric"||l.month==="2-digit")&&(l.day==="numeric"||l.day==="2-digit")&&(h=1);let p=this.format(e,r),g=this.format(t,r);if(p===g)return p;let v=$1(l,h),x=Jg(v,o,r),w=x(e),S=x(t),_=W1(p,w,g,S),E=o.separator||a||r.defaultSeparator||"";return _?_.before+w+E+S+_.after:p+E+g}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Jg(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?a=>ff(a.timeZoneOffset):r===0&&e.week?a=>z1(t.computeWeekNumber(a.marker),t.weekText,t.weekTextLong,t.locale,e.week):L1(n,e,t)}function L1(n,e,t){n=Object.assign({},n),e=Object.assign({},e),F1(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),a;if(e.omitZeroMinute){let l=Object.assign({},n);delete l.minute,a=new Intl.DateTimeFormat(t.locale.codes,l)}return l=>{let{marker:o}=l,u;a&&!o.getUTCMinutes()?u=a:u=r;let h=u.format(o);return U1(h,l,n,e,t)}}function F1(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function U1(n,e,t,r,a){return n=n.replace(I1,""),t.timeZoneName==="short"&&(n=H1(n,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":ff(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(R1,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(Ql,"").trim():r.meridiem==="narrow"?n=n.replace(Ql,(l,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(Ql,(l,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(Ql,l=>l.toLocaleLowerCase())),n=n.replace(M1," "),n=n.trim(),n}function H1(n,e){let t=!1;return n=n.replace(O1,()=>(t=!0,e)),t||(n+=` ${e}`),n}function z1(n,e,t,r,a){let l=[];return a==="long"?l.push(t):(a==="short"||a==="narrow")&&l.push(e),(a==="long"||a==="short")&&l.push(" "),l.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&l.reverse(),l.join("")}function B1(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:wr(n)!==wr(e)?1:0}function $1(n,e){let t={};for(let r in n)(!(r in bo)||bo[r]<=e)&&(t[r]=n[r]);return t}function W1(n,e,t,r){let a=0;for(;a<n.length;){let l=n.indexOf(e,a);if(l===-1)break;let o=n.substr(0,l);a=l+e.length;let u=n.substr(a),h=0;for(;h<t.length;){let p=t.indexOf(r,h);if(p===-1)break;let g=t.substr(0,p);h=p+r.length;let v=t.substr(h);if(o===g&&u===v)return{before:o,after:u}}}return null}function Xg(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function So(n,e,t,r){let a=Xg(n,t.calendarSystem),l=e?Xg(e,t.calendarSystem):null;return{date:a,start:a,end:l,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class V1{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,So(e,null,t,r))}formatRange(e,t,r,a){return r.cmdFormatter(this.cmdStr,So(e,t,r,a))}}class q1{constructor(e){this.func=e}format(e,t,r){return this.func(So(e,null,t,r))}formatRange(e,t,r,a){return this.func(So(e,t,r,a))}}function Qe(n){return typeof n=="object"&&n?new P1(n):typeof n=="string"?new V1(n):typeof n=="function"?new q1(n):null}const ey={navLinkDayClick:B,navLinkWeekClick:B,duration:Te,bootstrapFontAwesome:B,buttonIcons:B,customButtons:B,defaultAllDayEventDuration:Te,defaultTimedEventDuration:Te,nextDayThreshold:Te,scrollTime:Te,scrollTimeReset:Boolean,slotMinTime:Te,slotMaxTime:Te,dayPopoverFormat:Qe,slotDuration:Te,snapDuration:Te,headerToolbar:B,footerToolbar:B,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Qe,dayHeaderClassNames:B,dayHeaderContent:B,dayHeaderDidMount:B,dayHeaderWillUnmount:B,dayCellClassNames:B,dayCellContent:B,dayCellDidMount:B,dayCellWillUnmount:B,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:B,weekNumbers:Boolean,weekNumberClassNames:B,weekNumberContent:B,weekNumberDidMount:B,weekNumberWillUnmount:B,editable:Boolean,viewClassNames:B,viewDidMount:B,viewWillUnmount:B,nowIndicator:Boolean,nowIndicatorClassNames:B,nowIndicatorContent:B,nowIndicatorDidMount:B,nowIndicatorWillUnmount:B,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:B,locale:B,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:B,eventOrder:i1,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:B,contentHeight:B,direction:String,weekNumberFormat:Qe,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:B,initialDate:B,now:B,eventDataTransform:B,stickyHeaderDates:B,stickyFooterScrollbar:B,viewHeight:B,defaultAllDay:Boolean,eventSourceFailure:B,eventSourceSuccess:B,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:B,eventConstraint:B,eventAllow:B,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:B,eventContent:B,eventDidMount:B,eventWillUnmount:B,selectConstraint:B,selectOverlap:B,selectAllow:B,droppable:Boolean,unselectCancel:String,slotLabelFormat:B,slotLaneClassNames:B,slotLaneContent:B,slotLaneDidMount:B,slotLaneWillUnmount:B,slotLabelClassNames:B,slotLabelContent:B,slotLabelDidMount:B,slotLabelWillUnmount:B,dayMaxEvents:B,dayMaxEventRows:B,dayMinWidth:Number,slotLabelInterval:Te,allDayText:String,allDayClassNames:B,allDayContent:B,allDayDidMount:B,allDayWillUnmount:B,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Qe,rerenderDelay:Number,moreLinkText:B,moreLinkHint:B,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:B,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Te,hiddenDays:B,fixedWeekCount:Boolean,validRange:B,visibleRange:B,titleFormat:B,eventInteractive:Boolean,noEventsText:String,viewHint:B,navLinkHint:B,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:B,moreLinkClassNames:B,moreLinkContent:B,moreLinkDidMount:B,moreLinkWillUnmount:B,monthStartFormat:Qe,handleCustomRendering:B,customRenderingMetaMap:B,customRenderingReplaces:Boolean},pa={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},ty={datesSet:B,eventsSet:B,eventAdd:B,eventChange:B,eventRemove:B,windowResize:B,eventClick:B,eventMouseEnter:B,eventMouseLeave:B,select:B,unselect:B,loading:B,_unmount:B,_beforeprint:B,_afterprint:B,_noEventDrop:B,_noEventResize:B,_resize:B,_scrollRequest:B},ny={buttonText:B,buttonHints:B,views:B,plugins:B,initialEvents:B,events:B,eventSources:B},$r={headerToolbar:Wr,footerToolbar:Wr,buttonText:Wr,buttonHints:Wr,buttonIcons:Wr,dateIncrement:Wr,plugins:Zl,events:Zl,eventSources:Zl,resources:Zl};function Wr(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?on(n,e):n===e}function Zl(n,e){return Array.isArray(n)&&Array.isArray(e)?Sr(n,e):n===e}const Y1={type:String,component:B,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:B,usesMinMaxTime:Boolean,classNames:B,content:B,didMount:B,willUnmount:B};function id(n){return pf(n,$r)}function hf(n,e){let t={},r={};for(let a in e)a in n&&(t[a]=e[a](n[a]));for(let a in n)a in e||(r[a]=n[a]);return{refined:t,extra:r}}function B(n){return n}const{hasOwnProperty:_o}=Object.prototype;function pf(n,e){let t={};if(e){for(let r in e)if(e[r]===Wr){let a=[];for(let l=n.length-1;l>=0;l-=1){let o=n[l][r];if(typeof o=="object"&&o)a.unshift(o);else if(o!==void 0){t[r]=o;break}}a.length&&(t[r]=pf(a))}}for(let r=n.length-1;r>=0;r-=1){let a=n[r];for(let l in a)l in t||(t[l]=a[l])}return t}function rs(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function Ln(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function Xv(n){let e={};for(let t of n)e[t]=!0;return e}function mf(n){let e=[];for(let t in n)e.push(n[t]);return e}function on(n,e){if(n===e)return!0;for(let t in n)if(_o.call(n,t)&&!(t in e))return!1;for(let t in e)if(_o.call(e,t)&&n[t]!==e[t])return!1;return!0}const G1=/^on[A-Z]/;function Q1(n,e){const t=Z1(n,e);for(let r of t)if(!G1.test(r))return!1;return!0}function Z1(n,e){let t=[];for(let r in n)_o.call(n,r)&&(r in e||t.push(r));for(let r in e)_o.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function ad(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&K1(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function K1(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function J1(n,e=0,t,r=1){let a=[];t==null&&(t=Object.keys(n).length);for(let l=e;l<t;l+=r){let o=n[l];o!==void 0&&a.push(o)}return a}let e0={};function X1(n,e){e0[n]=e}function eC(n){return new e0[n]}class tC{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Tt(e)}markerToArray(e){return xr(e)}}X1("gregory",tC);const nC=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function rC(n){let e=nC.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Kv(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class sC{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=eC(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Tt(Zg(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Tt(e)),t===null||!Kv(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=rC(e);if(t===null)return null;let{marker:r}=t,a=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):a=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return wr(e)===wr(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return wr(e)===wr(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=E1(e,t),r!==null?{unit:"week",value:r}:(r=wo(e,t),r!==null?{unit:"day",value:r}:(r=w1(e,t),io(r)?{unit:"hour",value:r}:(r=b1(e,t),io(r)?{unit:"minute",value:r}:(r=S1(e,t),io(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let a;return r.years&&(a=this.diffWholeYears(e,t),a!==null)?a/g1(r):r.months&&(a=this.diffWholeMonths(e,t),a!==null)?a/y1(r):r.days&&(a=wo(e,t),a!==null)?a/Xs(r):(t.valueOf()-e.valueOf())/ln(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?Be(e):t==="hour"?k1(e):t==="minute"?C1(e):t==="second"?A1(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):N1(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,a={}){return a.isEndExclusive&&(t=_r(t,-1)),r.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(t)},this,a.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),Jv(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Tt(Zg(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Tt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Kg(xr(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(xr(e)):null}toDate(e,t){return this.timeZone==="local"?Kg(xr(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(xr(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Na{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Na.prototype.classes={};Na.prototype.iconClasses={};Na.prototype.baseIconClass="";Na.prototype.iconOverridePrefix="";function Eo(n){n();let e=ve.debounceRendering,t=[];function r(a){t.push(a)}for(ve.debounceRendering=r,ba(A(iC,{}),document.createElement("div"));t.length;)t.shift()();ve.debounceRendering=e}class iC extends Lt{render(){return A("div",{})}componentDidMount(){this.setState({})}}function t0(n){let e=jk(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,a=t.apply(this,arguments);if(r){let l=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&l.forEach(u=>{u.context=o.value,u.forceUpdate()})},this.sub=o=>{l.push(o);let u=o.componentWillUnmount;o.componentWillUnmount=()=>{l.splice(l.indexOf(o),1),u&&u.call(o)}}}return a},e}class aC{constructor(e,t,r,a){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=a,this.handleScrollRequest=l=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},l),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Fn=t0({});function lC(n,e,t,r,a,l,o,u,h,p,g,v,x,w){return{dateEnv:a,nowManager:l,options:t,pluginHooks:u,emitter:g,dispatch:h,getCurrentData:p,calendarApi:v,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:t.direction==="rtl",addResizeHandler(S){g.on("_resize",S)},removeResizeHandler(S){g.off("_resize",S)},createScrollResponder(S){return new aC(S,g,Te(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:x,unregisterInteractiveComponent:w}}class ds extends Lt{shouldComponentUpdate(e,t){return!ad(this.props,e,this.propEquality)||!ad(this.state,t,this.stateEquality)}safeSetState(e){ad(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ds.addPropsEquality=oC;ds.addStateEquality=cC;ds.contextType=Fn;ds.prototype.propEquality={};ds.prototype.stateEquality={};class Le extends ds{}Le.contextType=Fn;function oC(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function cC(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function vn(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class gf extends Le{constructor(){super(...arguments),this.id=cs(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!Pd(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&vn(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:a,defaultGenerator:l,renderProps:o}=e,u=n0(e,[],this.handleEl);let h=!1,p,g=[],v;if(a!=null){const x=typeof a=="function"?a(o,A):a;if(x===!0)h=!0;else{const w=x&&typeof x=="object";w&&"html"in x?u.dangerouslySetInnerHTML={__html:x.html}:w&&"domNodes"in x?g=Array.prototype.slice.call(x.domNodes):(w?Cv(x):typeof x!="function")?p=x:v=x}}else h=!Pd(e.generatorName,r);return h&&l&&(p=l(o)),this.queuedDomNodes=g,this.currentGeneratorMeta=v,A(e.elTag,u,p)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:a}=this,{handleCustomRendering:l,customRenderingMetaMap:o}=a.options;if(l){const u=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:o==null?void 0:o[r.generatorName];u&&l(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},r),{elClasses:(r.elClasses||[]).filter(uC)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!Sr(e,t)){t.forEach(lf);for(let a of e)r.appendChild(a);this.currentDomNodes=e}}}gf.addPropsEquality({elClasses:Sr,elStyle:on,elAttrs:Q1,renderProps:on});function Pd(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function n0(n,e,t){const r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function uC(n){return!!n}const r0=t0(0);class Ut extends Lt{constructor(){super(...arguments),this.InnerContent=dC.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(vn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=fC(e.classNameGenerator,e.renderProps);if(e.children){const r=n0(e,t,this.handleEl),a=e.children(this.InnerContent,e.renderProps,r);return e.elTag?A(e.elTag,r,a):a}else return A(gf,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ut.contextType=r0;function dC(n,e){const t=n.props;return A(gf,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function fC(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class ko extends Le{render(){let{props:e,context:t}=this,{options:r}=t,a={view:t.viewApi};return A(Ut,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...s0(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function s0(n){return[`fc-${n.type}-view`,"fc-view"]}function hC(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function ry(n,e){let t=[],{start:r}=e,a,l;for(n.sort(pC),a=0;a<n.length;a+=1)l=n[a],l.start>r&&t.push({start:r,end:l.start}),l.end>r&&(r=l.end);return r<e.end&&t.push({start:r,end:e.end}),t}function pC(n,e){return n.start.valueOf()-e.start.valueOf()}function ss(n,e){let{start:t,end:r}=n,a=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(a={start:t,end:r}),a}function mC(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yf(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function zo(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function On(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function gC(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function i0(n){let e=Math.floor(us(n.start,n.end))||1,t=Be(n.start),r=vt(t,e);return{start:t,end:r}}function a0(n,e=Te(0)){let t=null,r=null;if(n.end){r=Be(n.end);let a=n.end.valueOf()-r.valueOf();a&&a>=ln(e)&&(r=vt(r,1))}return n.start&&(t=Be(n.start),r&&r<=t&&(r=vt(t,1))),{start:t,end:r}}function Ks(n,e,t,r){return r==="year"?Te(t.diffWholeYears(n,e),"year"):r==="month"?Te(t.diffWholeMonths(n,e),"month"):_1(n,e)}class l0{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:a}=this.props,l=a.subtract(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,-1,r)}buildNext(e,t,r){let{dateEnv:a}=this.props,l=a.add(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,1,r)}build(e,t,r=!0){let{props:a}=this,l,o,u,h,p,g;return l=this.buildValidRange(),l=this.trimHiddenDays(l),r&&(e=gC(e,l)),o=this.buildCurrentRangeInfo(e,t),u=/^(year|month|week|day)$/.test(o.unit),h=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,u),h=this.trimHiddenDays(h),p=h,a.showNonCurrentDates||(p=ss(p,o.range)),p=this.adjustActiveRange(p),p=ss(p,l),g=yf(o.range,l),On(h,e)||(e=h.start),{currentDate:e,validRange:l,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:u,activeRange:p,renderRange:h,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:g,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,a=null,l=null,o=null,u;return r.duration?(a=r.duration,l=r.durationUnit,o=this.buildRangeFromDuration(e,t,a,l)):(u=this.props.dayCount)?(l="day",o=this.buildRangeFromDayCount(e,t,u)):(o=this.buildCustomVisibleRange(e))?l=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(a=this.getFallbackDuration(),l=Od(a).unit,o=this.buildRangeFromDuration(e,t,a,l)),{duration:a,unit:l,range:o}}getFallbackDuration(){return Te({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:a,slotMaxTime:l}=this.props,{start:o,end:u}=e;return r&&(Xs(a)<0&&(o=Be(o),o=t.add(o,a)),Xs(l)>1&&(u=Be(u),u=vt(u,-1),u=t.add(u,l))),{start:o,end:u}}buildRangeFromDuration(e,t,r,a){let{dateEnv:l,dateAlignment:o}=this.props,u,h,p;if(!o){let{dateIncrement:v}=this.props;v&&ln(v)<ln(r)?o=Od(v).unit:o=a}Xs(r)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=Be(u));function g(){u=l.startOf(e,o),h=l.add(u,r),p={start:u,end:h}}return g(),this.trimHiddenDays(p)||(e=this.skipHiddenDays(e,t),g()),p}buildRangeFromDayCount(e,t,r){let{dateEnv:a,dateAlignment:l}=this.props,o=0,u=e,h;l&&(u=a.startOf(u,l)),u=Be(u),u=this.skipHiddenDays(u,t),h=u;do h=vt(h,1),this.isHiddenDay(h)||(o+=1);while(o<r);return{start:u,end:h}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,a=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,l=this.refineRange(a);return l&&(l.start==null||l.end==null)?null:l}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?Te(1,r):e||Te({days:1}))}refineRange(e){if(e){let t=hC(e,this.props.dateEnv);return t&&(t=a0(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(t[a]=e.indexOf(a)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=vt(e,t);return e}}function vf(n,e,t,r){return{instanceId:cs(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function yC(n,e,t,r){for(let a=0;a<r.length;a+=1){let l=r[a].parse(n,t);if(l){let{allDay:o}=n;return o==null&&(o=e,o==null&&(o=l.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:l.duration,typeData:l.typeData,typeId:a}}}return null}function is(n,e,t){let{dateEnv:r,pluginHooks:a,options:l}=t,{defs:o,instances:u}=n;u=rs(u,h=>!o[h.defId].recurringDef);for(let h in o){let p=o[h];if(p.recurringDef){let{duration:g}=p.recurringDef;g||(g=p.allDay?l.defaultAllDayEventDuration:l.defaultTimedEventDuration);let v=vC(p,g,e,r,a.recurringTypes);for(let x of v){let w=vf(h,{start:x,end:r.add(x,g)});u[w.instanceId]=w}}}return{defs:o,instances:u}}function vC(n,e,t,r,a){let o=a[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(o=o.map(Be)),o}const lo={id:String,groupId:String,title:String,url:String,interactive:Boolean},o0={start:B,end:B,date:B,allDay:Boolean},xC=Object.assign(Object.assign(Object.assign({},lo),o0),{extendedProps:B});function c0(n,e,t,r,a=xf(t),l,o){let{refined:u,extra:h}=u0(n,t,a),p=bC(e,t),g=yC(u,p,t.dateEnv,t.pluginHooks.recurringTypes);if(g){let x=Ld(u,h,e?e.sourceId:"",g.allDay,!!g.duration,t,l);return x.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:x,instance:null}}let v=wC(u,p,t,r);if(v){let x=Ld(u,h,e?e.sourceId:"",v.allDay,v.hasEnd,t,l),w=vf(x.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return o&&x.publicId&&o[x.publicId]&&(w.instanceId=o[x.publicId]),{def:x,instance:w}}return null}function u0(n,e,t=xf(e)){return hf(n,t)}function xf(n){return Object.assign(Object.assign(Object.assign({},Co),xC),n.pluginHooks.eventRefiners)}function Ld(n,e,t,r,a,l,o){let u={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(o&&n.id?o[n.id]:"")||cs(),sourceId:t,allDay:r,hasEnd:a,interactive:n.interactive,ui:Ao(n,l),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of l.pluginHooks.eventDefMemberAdders)Object.assign(u,h(n));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function wC(n,e,t,r){let{allDay:a}=n,l,o=null,u=!1,h,p=null,g=n.start!=null?n.start:n.date;if(l=t.dateEnv.createMarkerMeta(g),l)o=l.marker;else if(!r)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),a==null&&(e!=null?a=e:a=(!l||l.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),a&&o&&(o=Be(o)),h&&(p=h.marker,a&&(p=Be(p)),o&&p<=o&&(p=null)),p?u=!0:r||(u=t.options.forceEventDuration||!1,p=t.dateEnv.add(o,a?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:a,hasEnd:u,range:{start:o,end:p},forcedStartTzo:l?l.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function bC(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Sa(n,e,t,r,a,l){let o=Ft(),u=xf(t);for(let h of n){let p=c0(h,e,t,r,u,a,l);p&&Fd(p,o)}return o}function Fd(n,e=Ft()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function wf(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],a=Bo(n,l=>SC(r,l));return a.defs[r.defId]=r,a.instances[t.instanceId]=t,a}return Ft()}function SC(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Ft(){return{defs:{},instances:{}}}function bf(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Bo(n,e){let t=rs(n.defs,e),r=rs(n.instances,a=>t[a.defId]);return{defs:t,instances:r}}function _C(n,e){let{defs:t,instances:r}=n,a={},l={};for(let o in t)e.defs[o]||(a[o]=t[o]);for(let o in r)!e.instances[o]&&a[r[o].defId]&&(l[o]=r[o]);return{defs:a,instances:l}}function EC(n,e){return Array.isArray(n)?Sa(n,null,e,!0):typeof n=="object"&&n?Sa([n],null,e,!0):n!=null?String(n):null}function sy(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Co={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:B,overlap:B,allow:B,className:sy,classNames:sy,color:String,backgroundColor:String,borderColor:String,textColor:String},kC={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ao(n,e){let t=EC(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function d0(n){return n.reduce(CC,kC)}function CC(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const AC={id:String,defaultAllDay:Boolean,url:String,format:String,events:B,eventDataTransform:B,success:B,failure:B};function f0(n,e,t=h0(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:a,extra:l}=hf(r,t),o=NC(a,e);if(o)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:cs(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Ao(a,e),extendedProps:l}}return null}function h0(n){return Object.assign(Object.assign(Object.assign({},Co),AC),n.pluginHooks.eventSourceRefiners)}function NC(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let l=t[r].parseMeta(n);if(l)return{sourceDefId:r,meta:l}}return null}function jC(n,e,t,r,a){switch(e.type){case"RECEIVE_EVENTS":return DC(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return TC(n,t[e.sourceId],e.rawEvents,r.activeRange,a);case"ADD_EVENTS":return RC(n,e.eventStore,r?r.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return bf(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?is(n,r.activeRange,a):n;case"REMOVE_EVENTS":return _C(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return m0(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Bo(n,l=>!l.sourceId);case"REMOVE_ALL_EVENTS":return Ft();default:return n}}function DC(n,e,t,r,a,l){if(e&&t===e.latestFetchId){let o=Sa(p0(a,e,l),e,l);return r&&(o=is(o,r,l)),bf(m0(n,e.sourceId),o)}return n}function TC(n,e,t,r,a){const{defIdMap:l,instanceIdMap:o}=IC(n);let u=Sa(p0(t,e,a),e,a,!1,l,o);return is(u,r,a)}function p0(n,e,t){let r=t.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(n=iy(n,a)),r&&(n=iy(n,r)),n}function iy(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let a=e(r);a?t.push(a):a==null&&t.push(r)}}return t}function RC(n,e,t,r){return t&&(e=is(e,t,r)),bf(n,e)}function ay(n,e,t){let{defs:r}=n,a=Ln(n.instances,l=>r[l.defId].allDay?l:Object.assign(Object.assign({},l),{range:{start:t.createMarker(e.toDate(l.range.start,l.forcedStartTzo)),end:t.createMarker(e.toDate(l.range.end,l.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:l.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:l.forcedEndTzo}));return{defs:r,instances:a}}function m0(n,e){return Bo(n,t=>t.sourceId!==e)}function MC(n,e){return{defs:n.defs,instances:rs(n.instances,t=>!e[t.instanceId])}}function IC(n){const{defs:e,instances:t}=n,r={},a={};for(let l in e){const o=e[l],{publicId:u}=o;u&&(r[u]=l)}for(let l in t){const o=t[l],u=e[o.defId],{publicId:h}=u;h&&(a[h]=l)}return{defIdMap:r,instanceIdMap:a}}class $o{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){OC(this.handlers,e,t)}off(e,t){PC(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],a=this.options&&this.options[e],l=[].concat(a||[],r);for(let o of l)o.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function OC(n,e,t){(n[e]||(n[e]=[])).push(t)}function PC(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const LC={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function FC(n,e){return Sa(UC(n),null,e)}function UC(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},LC),t)),e}function g0(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Sf(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function HC(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Sf(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,eA(n,e.dateEnv)),t}function ly(n,e,t){let{dateEnv:r,options:a}=t,l=e;return n?(l=Be(l),l=r.add(l,a.defaultAllDayEventDuration)):l=r.add(l,a.defaultTimedEventDuration),l}function _f(n,e,t,r){let a=No(n.defs,e),l=Ft();for(let o in n.defs){let u=n.defs[o];l.defs[o]=zC(u,a[o],t,r)}for(let o in n.instances){let u=n.instances[o],h=l.defs[u.defId];l.instances[o]=BC(u,h,a[u.defId],t,r)}return l}function zC(n,e,t,r){let a=t.standardProps||{};a.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(a.hasEnd=!0);let l=Object.assign(Object.assign(Object.assign({},n),a),{ui:Object.assign(Object.assign({},n.ui),a.ui)});t.extendedProps&&(l.extendedProps=Object.assign(Object.assign({},l.extendedProps),t.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(l,t,r);return!l.hasEnd&&r.options.forceEventDuration&&(l.hasEnd=!0),l}function BC(n,e,t,r,a){let{dateEnv:l}=a,o=r.standardProps&&r.standardProps.allDay===!0,u=r.standardProps&&r.standardProps.hasEnd===!1,h=Object.assign({},n);return o&&(h.range=i0(h.range)),r.datesDelta&&t.startEditable&&(h.range={start:l.add(h.range.start,r.datesDelta),end:l.add(h.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(h.range={start:l.add(h.range.start,r.startDelta),end:h.range.end}),r.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:l.add(h.range.end,r.endDelta)}),u&&(h.range={start:h.range.start,end:ly(e.allDay,h.range.start,a)}),e.allDay&&(h.range={start:Be(h.range.start),end:Be(h.range.end)}),h.range.end<h.range.start&&(h.range.end=ly(e.allDay,h.range.start,a)),h}class Qs{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class qe{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in o0)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=lo[e](t),this.mutate({standardProps:{publicId:t}});else if(e in lo)t=lo[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Co){let r=Co[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,a=r.createMarker(e);if(a&&this._instance){let l=this._instance.range,o=Ks(l.start,a,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,t={}){let{dateEnv:r}=this._context,a;if(!(e!=null&&(a=r.createMarker(e),!a))&&this._instance)if(a){let l=Ks(this._instance.range.end,a,r,t.granularity);this.mutate({endDelta:l})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:a}=this._context,l={allDay:r.allDay},o=a.createMarker(e),u;if(o&&!(t!=null&&(u=a.createMarker(t),!u))&&this._instance){let h=this._instance.range;r.allDay===!0&&(h=i0(h));let p=Ks(h.start,o,a,r.granularity);if(u){let g=Ks(h.end,u,a,r.granularity);h1(p,g)?this.mutate({datesDelta:p,standardProps:l}):this.mutate({startDelta:p,endDelta:g,standardProps:l})}else l.hasEnd=!1,this.mutate({datesDelta:p,standardProps:l})}}moveStart(e){let t=Te(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Te(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Te(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:a}=t;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=a),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,a=Qe(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,a,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,a,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,a=this._context,{eventStore:l}=a.getCurrentData(),o=wf(l,t.instanceId);o=_f(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let h=new qe(a,r,t);this._def=o.defs[r.defId],this._instance=o.instances[t.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:o}),a.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:ts(o,a,t),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:l})}})}}remove(){let e=this._context,t=y0(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Qs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:a,endStr:l}=this,o={allDay:t.allDay};return t.title&&(o.title=t.title),a&&(o.start=a),l&&(o.end=l),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,t.extendedProps):o.extendedProps=t.extendedProps),o}toJSON(){return this.toPlainObject()}}function y0(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function ts(n,e,t){let{defs:r,instances:a}=n,l=[],o=t?t.instanceId:"";for(let u in a){let h=a[u],p=r[h.defId];h.instanceId!==o&&l.push(new qe(e,p,h))}return l}function oy(n,e,t,r){let a={},l={},o={},u=[],h=[],p=No(n.defs,e);for(let g in n.defs){let v=n.defs[g];p[v.defId].display==="inverse-background"&&(v.groupId?(a[v.groupId]=[],o[v.groupId]||(o[v.groupId]=v)):l[g]=[])}for(let g in n.instances){let v=n.instances[g],x=n.defs[v.defId],w=p[x.defId],S=v.range,_=!x.allDay&&r?a0(S,r):S,E=ss(_,t);E&&(w.display==="inverse-background"?x.groupId?a[x.groupId].push(E):l[v.defId].push(E):w.display!=="none"&&(w.display==="background"?u:h).push({def:x,ui:w,instance:v,range:E,isStart:_.start&&_.start.valueOf()===E.start.valueOf(),isEnd:_.end&&_.end.valueOf()===E.end.valueOf()}))}for(let g in a){let v=a[g],x=ry(v,t);for(let w of x){let S=o[g],_=p[S.defId];u.push({def:S,ui:_,instance:null,range:w,isStart:!1,isEnd:!1})}}for(let g in l){let v=l[g],x=ry(v,t);for(let w of x)u.push({def:n.defs[g],ui:p[g],instance:null,range:w,isStart:!1,isEnd:!1})}return{bg:u,fg:h}}function $C(n){return n.ui.display==="background"||n.ui.display==="inverse-background"}function cy(n,e){n.fcSeg=e}function fi(n){return n.fcSeg||n.parentNode.fcSeg||null}function No(n,e){return Ln(n,t=>v0(t,e))}function v0(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),d0(t)}function x0(n,e){let t=n.map(WC);return t.sort((r,a)=>a1(r,a,e)),t.map(r=>r._seg)}function WC(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,a=r.start?r.start.valueOf():0,l=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:a,end:l,duration:l-a,allDay:Number(t.allDay),_seg:n})}function VC(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:a,ui:l}=n.eventRange,o=l.startEditable;for(let u of r)o=u(o,a,l,e);return o}function qC(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function YC(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function w0(n,e,t,r,a,l,o){let{dateEnv:u,options:h}=t,{displayEventTime:p,displayEventEnd:g}=h,v=n.eventRange.def,x=n.eventRange.instance;p==null&&(p=r!==!1),g==null&&(g=a!==!1);let w=x.range.start,S=x.range.end,_=n.start||n.eventRange.range.start,E=n.end||n.eventRange.range.end,C=Be(w).valueOf()===Be(_).valueOf(),U=Be(_r(S,-1)).valueOf()===Be(_r(E,-1)).valueOf();return p&&!v.allDay&&(C||U)?(_=C?w:_,E=U?S:E,g&&v.hasEnd?u.formatRange(_,E,e,{forcedStartTzo:x.forcedStartTzo,forcedEndTzo:x.forcedEndTzo}):u.format(_,e,{forcedTzo:x.forcedStartTzo})):""}function br(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=(t||e.start),isFuture:r.start>=(t||e.end),isToday:e&&On(e,r.start)}}function GC(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function b0(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function S0(n,e){let{def:t,instance:r}=n.eventRange,{url:a}=t;if(a)return{href:a};let{emitter:l,options:o}=e,{eventInteractive:u}=o;return u==null&&(u=t.interactive,u==null&&(u=!!l.hasHandlers("eventClick"))),u?Zv(h=>{l.trigger("eventClick",{el:h.target,event:new qe(e,t,r),jsEvent:h,view:e.viewApi})}):{}}const QC={start:B,end:B,allDay:Boolean};function ZC(n,e,t){let r=KC(n,e),{range:a}=r;if(!a.start)return null;if(!a.end){if(t==null)return null;a.end=e.add(a.start,t)}return r}function KC(n,e){let{refined:t,extra:r}=hf(n,QC),a=t.start?e.createMarkerMeta(t.start):null,l=t.end?e.createMarkerMeta(t.end):null,{allDay:o}=t;return o==null&&(o=a&&a.isTimeUnspecified&&(!l||l.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:l?l.marker:null},allDay:o},r)}function JC(n,e){return mC(n.range,e.range)&&n.allDay===e.allDay&&XC(n,e)}function XC(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function eA(n,e){return Object.assign(Object.assign({},E0(n.range,e,n.allDay)),{allDay:n.allDay})}function _0(n,e,t){return Object.assign(Object.assign({},E0(n,e,t)),{timeZone:e.timeZone})}function E0(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function tA(n,e,t){let r=u0({editable:!1},t),a=Ld(r.refined,r.extra,"",n.allDay,!0,t);return{def:a,ui:v0(a,e),instance:vf(a.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function nA(n,e,t){let r=!1,a=function(u){r||(r=!0,e(u))},l=function(u){r||(r=!0,t(u))},o=n(a,l);o&&typeof o.then=="function"&&o.then(a,l)}class uy extends Error{constructor(e,t){super(e),this.response=t}}function rA(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(a=>{if(a.ok)return a.json().then(l=>[l,a],()=>{throw new uy("Failure parsing JSON",a)});throw new uy("Request failed",a)})}let ld;function k0(){return ld==null&&(ld=sA()),ld}function sA(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class iA extends Le{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Eo(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Eo(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,a=r||t.height==="auto"||t.contentHeight==="auto",l=!a&&t.height!=null?t.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return k0()||o.push("fc-liquid-hack"),e.children(o,l,a,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class gi{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function aA(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Ef(n){return{[n.component.uid]:n}}const Ud={};class yi extends Lt{constructor(e,t){super(e,t),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,r=t.nowManager.getDateMarker(),a=t.dateEnv.startOf(r,e.unit),o=t.dateEnv.add(a,Te(1,e.unit)).valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{state:{nowDate:a,todayRange:lA(a)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}yi.contextType=Fn;function lA(n){let e=Be(n),t=vt(e,1);return{start:e,end:t}}class oA{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),a;t=t||"day",a=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),l,o;for(let u in t)a.push(u);for(l=0;l<a.length;l+=1)if(o=t[a[l]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=Te(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Qe(t))}formatRange(e,t,r){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(t),Qe(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let a=this.getCurrentData(),l=ZC(r,a.dateEnv,Te({days:1}));l&&(this.dispatch({type:"SELECT_DATES",selection:l}),g0(l,null,a))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),HC(e,t))}addEvent(e,t){if(e instanceof qe){let o=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Fd({def:o,instance:u})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),a;if(t instanceof Qs)a=t.internalEventSource;else if(typeof t=="boolean")t&&([a]=mf(r.eventSources));else if(t!=null){let o=this.getEventSourceById(t);if(!o)return console.warn(`Could not find an event source with ID "${t}"`),null;a=o.internalEventSource}let l=c0(e,a,r,!1);if(l){let o=new qe(r,l.def,l.def.recurringDef?null:l.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Fd(l)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:y0(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:a}=t.eventStore;e=String(e);for(let l in r){let o=r[l];if(o.publicId===e){if(o.recurringDef)return new qe(t,o,null);for(let u in a){let h=a[u];if(h.defId===o.defId)return new qe(t,o,h)}}}return null}getEvents(){let e=this.getCurrentData();return ts(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let a in t)r.push(new Qs(e,t[a]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let a in r)if(r[a].publicId===e)return new Qs(t,r[a]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Qs)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=f0(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Qs(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Te(e);t&&this.trigger("_scrollRequest",{time:t})}}function cA(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function C0(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function uA(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function dA(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function fA(n,e){return{left:n.left-e.left,top:n.top-e.top}}const od=Ft();class hA{constructor(){this.getKeysForEventDefs=xe(this._getKeysForEventDefs),this.splitDateSelection=xe(this._splitDateSpan),this.splitEventStore=xe(this._splitEventStore),this.splitIndividualUi=xe(this._splitIndividualUi),this.splitEventDrag=xe(this._splitInteraction),this.splitEventResize=xe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),l=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),u=this.splitEventDrag(e.eventDrag),h=this.splitEventResize(e.eventResize),p={};this.eventUiBuilders=Ln(t,(g,v)=>this.eventUiBuilders[v]||xe(pA));for(let g in t){let v=t[g],x=o[g]||od,w=this.eventUiBuilders[g];p[g]={businessHours:v.businessHours||e.businessHours,dateSelection:a[g]||null,eventStore:x,eventUiBases:w(e.eventUiBases[""],v.ui,l[g]),eventSelection:x.instances[e.eventSelection]?e.eventSelection:"",eventDrag:u[g]||null,eventResize:h[g]||null}}return p}_splitDateSpan(e){let t={};if(e){let r=this.getKeysForDateSpan(e);for(let a of r)t[a]=e}return t}_getKeysForEventDefs(e){return Ln(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:r,instances:a}=e,l={};for(let o in r)for(let u of t[o])l[u]||(l[u]=Ft()),l[u].defs[o]=r[o];for(let o in a){let u=a[o];for(let h of t[u.defId])l[h]&&(l[h].instances[o]=u)}return l}_splitIndividualUi(e,t){let r={};for(let a in e)if(a)for(let l of t[a])r[l]||(r[l]={}),r[l][a]=e[a];return r}_splitInteraction(e){let t={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),a=this._getKeysForEventDefs(e.mutatedEvents),l=this._splitEventStore(e.mutatedEvents,a),o=u=>{t[u]||(t[u]={affectedEvents:r[u]||od,mutatedEvents:l[u]||od,isEvent:e.isEvent})};for(let u in r)o(u);for(let u in l)o(u)}return t}}function pA(n,e,t){let r=[];n&&r.push(n),e&&r.push(e);let a={"":d0(r)};return t&&Object.assign(a,t),a}function A0(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!On(r.activeRange,n))),isOther:!!(r&&!On(r.currentRange,n)),isToday:!!(e&&On(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function kf(n,e){let t=["fc-day",`fc-day-${v1[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const mA=Qe({year:"numeric",month:"long",day:"numeric"}),gA=Qe({week:"long"});function jo(n,e,t="day",r=!0){const{dateEnv:a,options:l,calendarApi:o}=n;let u=a.format(e,t==="week"?gA:mA);if(l.navLinks){let h=a.toDate(e);const p=g=>{let v=t==="day"?l.navLinkDayClick:t==="week"?l.navLinkWeekClick:null;typeof v=="function"?v.call(o,a.toDate(e),g):(typeof v=="string"&&(t=v),o.zoomTo(e,t))};return Object.assign({title:ha(l.navLinkHint,[u,h],u),"data-navlink":""},r?Qv(p):{onClick:p})}return{"aria-label":u}}let cd=null;function yA(){return cd===null&&(cd=vA()),cd}function vA(){let n=document.createElement("div");fa(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return lf(n),t}let ud;function xA(){return ud||(ud=wA()),ud}function wA(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=N0(n);return document.body.removeChild(n),e}function N0(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function bA(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,a=parseInt(t.borderRightWidth,10)||0,l=parseInt(t.borderTopWidth,10)||0,o=parseInt(t.borderBottomWidth,10)||0,u=N0(n),h=u.y-r-a,p=u.x-l-o,g={borderLeft:r,borderRight:a,borderTop:l,borderBottom:o,scrollbarBottom:p,scrollbarLeft:0,scrollbarRight:0};return yA()&&t.direction==="rtl"?g.scrollbarLeft=h:g.scrollbarRight=h,e&&(g.paddingLeft=parseInt(t.paddingLeft,10)||0,g.paddingRight=parseInt(t.paddingRight,10)||0,g.paddingTop=parseInt(t.paddingTop,10)||0,g.paddingBottom=parseInt(t.paddingBottom,10)||0),g}function SA(n,e=!1,t){let r=Cf(n),a=bA(n,e),l={left:r.left+a.borderLeft+a.scrollbarLeft,right:r.right-a.borderRight-a.scrollbarRight,top:r.top+a.borderTop,bottom:r.bottom-a.borderBottom-a.scrollbarBottom};return e&&(l.left+=a.paddingLeft,l.right-=a.paddingRight,l.top+=a.paddingTop,l.bottom-=a.paddingBottom),l}function Cf(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function _A(n){let e=j0(n),t=n.getBoundingClientRect();for(let r of e){let a=C0(t,r.getBoundingClientRect());if(a)t=a;else return null}return t}function j0(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class hi{constructor(e,t,r,a){this.els=t;let l=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(l.left),a&&this.buildElVerticals(l.top)}buildElHorizontals(e){let t=[],r=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.left-e),r.push(l.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.top-e),r.push(l.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<r[l])return l}topToIndex(e){let{tops:t,bottoms:r}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<r[l])return l}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Kl(this.tops||[],e.tops||[])&&Kl(this.bottoms||[],e.bottoms||[])&&Kl(this.lefts||[],e.lefts||[])&&Kl(this.rights||[],e.rights||[])}}function Kl(n,e){const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}class Af{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class EA extends Af{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class kA extends Af{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class xn extends Le{constructor(){super(...arguments),this.uid=cs()}prepareHits(){}queryHit(e,t,r,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!yt(e,".fc-event-mirror")}isValidDateDownEl(e){return!yt(e,".fc-event:not(.fc-bg-event)")&&!yt(e,".fc-more-link")&&!yt(e,"a[data-navlink]")&&!yt(e,".fc-popover")}}class D0{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},t),{span:Nf(t.span,e.touchingEntry.span)});r.push(a),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let a=e.span,l=t.span;a.start<l.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:l.start}},r),a.end>l.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.end,end:a.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:a}=this;t.lateral===-1?(dd(a,t.level,t.levelCoord),dd(r,t.level,[e])):dd(r[t.level],t.lateral,e),this.stackCnts[ns(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:a,stackCnts:l}=this,o=t.length,u=0,h=-1,p=-1,g=null,v=0;for(let S=0;S<o;S+=1){const _=t[S];if(!a&&_>=u+this.getEntryThickness(e))break;let E=r[S],C,U=zd(E,e.span.start,Hd),I=U[0]+U[1];for(;(C=E[I])&&C.span.start<e.span.end;){let T=_+this.getEntryThickness(C);T>u&&(u=T,g=C,h=S,p=I),T===u&&(v=Math.max(v,l[ns(C)]+1)),I+=1}}let x=0;if(g)for(x=h+1;x<o&&t[x]<u;)x+=1;let w=-1;return x<o&&t[x]===u&&(w=zd(r[x],e.span.end,Hd)[0]),{touchingLevel:h,touchingLateral:p,touchingEntry:g,stackCnt:v,levelCoord:u,level:x,lateral:w}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,a=[];for(let l=0;l<r;l+=1){let o=e[l],u=t[l];for(let h of o)a.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:u}))}return a}}function Hd(n){return n.span.end}function ns(n){return n.index+":"+n.span.start}function CA(n){let e=[];for(let t of n){let r=[],a={span:t.span,entries:[t]};for(let l of e)Nf(l.span,a.span)?a={entries:l.entries.concat(a.entries),span:AA(l.span,a.span)}:r.push(l);r.push(a),e=r}return e}function AA(n,e){return{start:Math.min(n.start,e.start),end:Math.max(n.end,e.end)}}function Nf(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function dd(n,e,t){n.splice(e,0,t)}function zd(n,e,t){let r=0,a=n.length;if(!a||e<t(n[r]))return[0,0];if(e>t(n[a-1]))return[a,0];for(;r<a;){let l=Math.floor(r+(a-r)/2),o=t(n[l]);if(e<o)a=l;else if(e>o)r=l+1;else return[l,1]}return[r,0]}class NA{constructor(e,t){this.emitter=new $o}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const jf={};function jA(n,e){return!n||e>10?Qe({weekday:"short"}):e>1?Qe({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Qe({weekday:"long"})}const T0="fc-col-header-cell";function R0(n){return n.text}class DA extends Le{render(){let{dateEnv:e,options:t,theme:r,viewApi:a}=this.context,{props:l}=this,{date:o,dateProfile:u}=l,h=A0(o,l.todayRange,null,u),p=[T0].concat(kf(h,r)),g=e.format(o,l.dayHeaderFormat),v=!h.isDisabled&&l.colCnt>1?jo(this.context,o):{},x=e.toDate(o);e.namedTimeZoneImpl&&(x=_r(x,36e5));let w=Object.assign(Object.assign(Object.assign({date:x,view:a},l.extraRenderProps),{text:g}),h);return A(Ut,{elTag:"th",elClasses:p,elAttrs:Object.assign({role:"columnheader",colSpan:l.colSpan,"data-date":h.isDisabled?void 0:df(o)},l.extraDataAttrs),renderProps:w,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:R0,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},S=>A("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&A(S,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",l.isSticky&&"fc-sticky"]})))}}const TA=Qe({weekday:"long"});class RA extends Le{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:a,options:l}=this.context,o=vt(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(o,e.dayHeaderFormat),p=Object.assign(Object.assign(Object.assign(Object.assign({date:o},u),{view:a}),e.extraRenderProps),{text:h});return A(Ut,{elTag:"th",elClasses:[T0,...kf(u,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:l.dayHeaderContent,defaultGenerator:R0,classNameGenerator:l.dayHeaderClassNames,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},g=>A("div",{className:"fc-scrollgrid-sync-inner"},A(g,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(o,TA)}})))}}class M0 extends Le{constructor(){super(...arguments),this.createDayHeaderFormatter=xe(MA)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:a,renderIntro:l}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,t.length);return A(yi,{unit:"day"},(u,h)=>A("tr",{role:"row"},l&&l("day"),t.map(p=>a?A(DA,{key:p.toISOString(),date:p,dateProfile:r,todayRange:h,colCnt:t.length,dayHeaderFormat:o}):A(RA,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:o}))))}}function MA(n,e,t){return n||jA(e,t)}class I0{constructor(e,t){let r=e.start,{end:a}=e,l=[],o=[],u=-1;for(;r<a;)t.isHiddenDay(r)?l.push(u+.5):(u+=1,l.push(u),o.push(r)),r=vt(r,1);this.dates=o,this.indices=l,this.cnt=o.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(vt(e.end,-1)),a=Math.max(0,t),l=Math.min(this.cnt-1,r);return a=Math.ceil(a),l=Math.floor(l),a<=l?{firstIndex:a,lastIndex:l,isStart:t===a,isEnd:r===l}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(us(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class O0{constructor(e,t){let{dates:r}=e,a,l,o;if(t){for(l=r[0].getUTCDay(),a=1;a<r.length&&r[a].getUTCDay()!==l;a+=1);o=Math.ceil(r.length/a)}else o=1,a=r.length;this.rowCnt=o,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let a=0;a<this.colCnt;a+=1)r.push(this.buildCell(t,a));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),a=[];if(r){let{firstIndex:l,lastIndex:o}=r,u=l;for(;u<=o;){let h=Math.floor(u/t),p=Math.min((h+1)*t,o+1);a.push({row:h,firstCol:u%t,lastCol:(p-1)%t,isStart:r.isStart&&u===l,isEnd:r.isEnd&&p-1===o}),u=p}}return a}}class P0{constructor(){this.sliceBusinessHours=xe(this._sliceBusinessHours),this.sliceDateSelection=xe(this._sliceDateSpan),this.sliceEventStore=xe(this._sliceEventStore),this.sliceEventDrag=xe(this._sliceInteraction),this.sliceEventResize=xe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,a,...l){let{eventUiBases:o}=e,u=this.sliceEventStore(e.eventStore,o,t,r,...l);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,o,a,...l),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,a,...l),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,t,r,...l),eventResize:this.sliceEventResize(e.eventResize,o,t,r,...l),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,a,...l){return this._sliceDateSpan({range:{start:e,end:_r(e,1)},allDay:!1},t,r,{},a,...l)}_sliceBusinessHours(e,t,r,a,...l){return e?this._sliceEventStore(is(e,Jl(t,!!r),a),{},t,r,...l).bg:[]}_sliceEventStore(e,t,r,a,...l){if(e){let o=oy(e,t,Jl(r,!!a),a);return{bg:this.sliceEventRanges(o.bg,l),fg:this.sliceEventRanges(o.fg,l)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,a,...l){if(!e)return null;let o=oy(e.mutatedEvents,t,Jl(r,!!a),a);return{segs:this.sliceEventRanges(o.fg,l),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,a,l,...o){if(!e)return[];let u=Jl(t,!!r),h=ss(e.range,u);if(h){e=Object.assign(Object.assign({},e),{range:h});let p=tA(e,a,l),g=this.sliceRange(e.range,...o);for(let v of g)v.eventRange=p;return g}return[]}sliceEventRanges(e,t){let r=[];for(let a of e)r.push(...this.sliceEventRange(a,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:vt(r.start,1)});let a=this.sliceRange(r,...t);for(let l of a)l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd;return a}}function Jl(n,e){let t=n.activeRange;return e?t:{start:_r(t.start,n.slotMinTime.milliseconds),end:_r(t.end,n.slotMaxTime.milliseconds-864e5)}}function L0(n,e,t){let{instances:r}=n.mutatedEvents;for(let a in r)if(!zo(e.validRange,r[a].range))return!1;return F0({eventDrag:n},t)}function IA(n,e,t){return zo(e.validRange,n.range)?F0({dateSelection:n},t):!1}function F0(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||OA)(r,e)}function OA(n,e,t={},r){return!(n.eventDrag&&!PA(n,e,t,r)||n.dateSelection&&!LA(n,e,t,r))}function PA(n,e,t,r){let a=e.getCurrentData(),l=n.eventDrag,o=l.mutatedEvents,u=o.defs,h=o.instances,p=No(u,l.isEvent?n.eventUiBases:{"":a.selectionConfig});r&&(p=Ln(p,r));let g=MC(n.eventStore,l.affectedEvents.instances),v=g.defs,x=g.instances,w=No(v,n.eventUiBases);for(let S in h){let _=h[S],E=_.range,C=p[_.defId],U=u[_.defId];if(!U0(C.constraints,E,g,n.businessHours,e))return!1;let{eventOverlap:I}=e.options,T=typeof I=="function"?I:null;for(let P in x){let N=x[P];if(yf(E,N.range)&&(w[N.defId].overlap===!1&&l.isEvent||C.overlap===!1||T&&!T(new qe(e,v[N.defId],N),new qe(e,U,_))))return!1}let W=a.eventStore;for(let P of C.allows){let N=Object.assign(Object.assign({},t),{range:_.range,allDay:U.allDay}),j=W.defs[U.defId],L=W.instances[S],G;if(j?G=new qe(e,j,L):G=new qe(e,U),!P(Sf(N,e),G))return!1}}return!0}function LA(n,e,t,r){let a=n.eventStore,l=a.defs,o=a.instances,u=n.dateSelection,h=u.range,{selectionConfig:p}=e.getCurrentData();if(r&&(p=r(p)),!U0(p.constraints,h,a,n.businessHours,e))return!1;let{selectOverlap:g}=e.options,v=typeof g=="function"?g:null;for(let x in o){let w=o[x];if(yf(h,w.range)&&(p.overlap===!1||v&&!v(new qe(e,l[w.defId],w),null)))return!1}for(let x of p.allows){let w=Object.assign(Object.assign({},t),u);if(!x(Sf(w,e),null))return!1}return!0}function U0(n,e,t,r,a){for(let l of n)if(!UA(FA(l,e,t,r,a),e))return!1;return!0}function FA(n,e,t,r,a){return n==="businessHours"?fd(is(r,e,a)):typeof n=="string"?fd(Bo(t,l=>l.groupId===n)):typeof n=="object"&&n?fd(is(n,e,a)):[]}function fd(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function UA(n,e){for(let t of n)if(zo(t,e))return!0;return!1}const Xl=/^(visible|hidden)$/;class HA extends Le{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,vn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,a=t&&r,l=["fc-scroller"];return t&&(r?l.push("fc-scroller-liquid-absolute"):l.push("fc-scroller-liquid")),A("div",{ref:this.handleEl,className:l.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Xl.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Xl.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Xl.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Xl.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class In{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:a,currentMap:l}=this,o=!1,u=!1;t!==null?(o=r in l,l[r]=t,a[r]=(a[r]||0)+1,u=!0):(a[r]-=1,a[r]||(delete l[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),u&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return J1(this.currentMap,e,t,r)}getAll(){return mf(this.currentMap)}}function zA(n){let e=Zk(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,u1(r));return Math.ceil(t)}function H0(n,e){return n.liquid&&e.liquid}function BA(n,e){return e.maxHeight!=null||H0(n,e)}function $A(n,e,t,r){let{expandRows:a}=t;return typeof e.content=="function"?e.content(t):A("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:a?t.clientHeight:""}},t.tableColGroupNode,A(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function WA(n,e){return Sr(n,e,on)}function VA(n,e){let t=[];for(let r of n){let a=r.span||1;for(let l=0;l<a;l+=1)t.push(A("col",{style:{width:r.width==="shrink"?qA(e):r.width||"",minWidth:r.minWidth||""}}))}return A("colgroup",{},...t)}function qA(n){return n??4}function YA(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function GA(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function QA(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Bd(n){return A("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Do(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function z0(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class Df extends Le{constructor(){super(...arguments),this.processCols=xe(e=>e,WA),this.renderMicroColGroup=xe(VA),this.scrollerRefs=new In,this.scrollerElRefs=new In(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,a=e.sections||[],l=this.processCols(e.cols),o=this.renderMicroColGroup(l,t.shrinkWidth),u=GA(e.liquid,r);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let h=a.length,p=0,g,v=[],x=[],w=[];for(;p<h&&(g=a[p]).type==="header";)v.push(this.renderSection(g,o,!0)),p+=1;for(;p<h&&(g=a[p]).type==="body";)x.push(this.renderSection(g,o,!1)),p+=1;for(;p<h&&(g=a[p]).type==="footer";)w.push(this.renderSection(g,o,!0)),p+=1;let S=!k0();const _={role:"rowgroup"};return A("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!S&&v.length)&&A("thead",_,...v),!!(!S&&x.length)&&A("tbody",_,...x),!!(!S&&w.length)&&A("tfoot",_,...w),S&&A("tbody",_,...v,...x,...w))}renderSection(e,t,r){return"outerContent"in e?A(ze,{key:e.key},e.outerContent):A("tr",{key:e.key,role:"presentation",className:QA(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,a){if("outerContent"in r)return r.outerContent;let{props:l}=this,{forceYScrollbars:o,scrollerClientWidths:u,scrollerClientHeights:h}=this.state,p=BA(l,e),g=H0(l,e),v=l.liquid?o?"scroll":p?"auto":"hidden":"visible",x=e.key,w=$A(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!l.collapsibleWidth&&u[x]!==void 0?u[x]:null,clientHeight:h[x]!==void 0?h[x]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return A(a?"th":"td",{ref:r.elRef,role:"presentation"},A("div",{className:`fc-scroller-harness${g?" fc-scroller-harness-liquid":""}`},A(HA,{ref:this.scrollerRefs.createRef(x),elRef:this.scrollerElRefs.createRef(x),overflowY:v,overflowX:l.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:g,liquidIsAbsolute:!0},w)))}_handleScrollerEl(e,t){let r=ZA(this.props.sections,t);r&&vn(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return YA(this.props.cols)?zA(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=xA(),{scrollerRefs:t,scrollerElRefs:r}=this,a=!1,l={},o={};for(let u in t.currentMap){let h=t.currentMap[u];if(h&&h.needsYScrolling()){a=!0;break}}for(let u of this.props.sections){let h=u.key,p=r.currentMap[h];if(p){let g=p.parentNode;l[h]=Math.floor(g.getBoundingClientRect().width-(a?e.y:0)),o[h]=Math.floor(g.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:o}}}Df.addStateEquality({scrollerClientWidths:on,scrollerClientHeights:on});function ZA(n,e){for(let t of n)if(t.key===e)return t;return null}class Tf extends Le{constructor(){super(...arguments),this.buildPublicEvent=xe((e,t,r)=>new qe(e,t,r)),this.handleEl=e=>{this.el=e,vn(this.props.elRef,e),e&&cy(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{eventRange:l}=a,{ui:o}=l,u={event:this.buildPublicEvent(t,l.def,l.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&VC(a,t),isStartResizable:!e.disableResizing&&qC(a,t),isEndResizable:!e.disableResizing&&YC(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return A(Ut,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...GC(u),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:u,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&cy(this.el,this.props.seg)}}class Rf extends Le{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{ui:l}=a.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,u=w0(a,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return A(Tf,Object.assign({},e,{elTag:"a",elStyle:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},elAttrs:S0(a,t),defaultGenerator:KA,timeText:u}),(h,p)=>A(ze,null,A(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:p.textColor}}),!!p.isStartResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!p.isEndResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Rf.addPropsEquality({seg:on});function KA(n){return A("div",{className:"fc-event-main-frame"},n.timeText&&A("div",{className:"fc-event-time"},n.timeText),A("div",{className:"fc-event-title-container"},A("div",{className:"fc-event-title fc-sticky"},n.event.title||A(ze,null," "))))}const Mf=n=>A(Fn.Consumer,null,e=>{let{options:t}=e,r={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return A(Ut,{elRef:n.elRef,elTag:n.elTag||"div",elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},n.children)}),JA=Qe({day:"numeric"});class If extends Le{constructor(){super(...arguments),this.refineRenderProps=ao(XA)}render(){let{props:e,context:t}=this,{options:r}=t,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return A(Ut,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":df(e.date)}),elClasses:[...kf(a,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function Of(n){return!!(n.dayCellContent||Pd("dayCellContent",n))}function XA(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:a}=n,l=A0(e,n.todayRange,null,r),o=n.showDayNumber?t.format(e,a?n.monthStartFormat:JA):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},l),{isMonthStart:a,dayNumberText:o}),n.extraRenderProps)}class B0 extends Le{render(){let{props:e}=this,{seg:t}=e;return A(Tf,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:eN,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function eN(n){let{title:e}=n.event;return e&&A("div",{className:"fc-event-title"},n.event.title)}function $0(n){return A("div",{className:`fc-${n}`})}const W0=n=>A(Fn.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:a}=n,l=r.weekNumberFormat||n.defaultFormat,o=t.computeWeekNumber(a),u=t.format(a,l),h={num:o,text:u,date:a};return A(Ut,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:h,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:tN,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},n.children)});function tN(n){return n.text}const hd=10;class nN extends Le{constructor(){super(...arguments),this.state={titleId:Uo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&vn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Yv(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:a}=this,l=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return Pk(A("div",Object.assign({},r.extraAttrs,{id:r.id,className:l.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),A("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},A("span",{className:"fc-popover-title",id:a.titleId},r.title),A("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),A("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:a}=this,l=_A(t);if(l){let o=a.getBoundingClientRect(),u=r?yt(t,".fc-scrollgrid").getBoundingClientRect().top:l.top,h=e?l.right-o.width:l.left;u=Math.max(u,hd),h=Math.min(h,document.documentElement.clientWidth-hd-o.width),h=Math.max(h,hd);let p=a.offsetParent.getBoundingClientRect();fa(a,{top:u-p.top,left:h-p.left})}}}class rN extends xn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:a,todayRange:l,dateProfile:o}=r,u=t.format(a,e.dayPopoverFormat);return A(If,{elRef:this.handleRootEl,date:a,dateProfile:o,todayRange:l},(h,p,g)=>A(nN,{elRef:g.ref,id:r.id,title:u,extraClassNames:["fc-more-popover"].concat(g.className||[]),extraAttrs:g,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Of(e)&&A(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,a){let{rootEl:l,props:o}=this;return e>=0&&e<r&&t>=0&&t<a?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:r,bottom:a},layer:1}:null}}class V0 extends Le{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Uo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&vn(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:a}=r.options,l=dy(t).start;function o(u){let{def:h,instance:p,range:g}=u.eventRange;return{event:new qe(r,h,p),start:r.dateEnv.toDate(g.start),end:r.dateEnv.toDate(g.end),isStart:u.isStart,isEnd:u.isEnd}}typeof a=="function"&&(a=a({date:l,allDay:!!t.allDayDate,allSegs:t.allSegs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&r.calendarApi.zoomTo(l,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return A(Fn.Consumer,null,r=>{let{viewApi:a,options:l,calendarApi:o}=r,{moreLinkText:u}=l,{moreCnt:h}=e,p=dy(e),g=typeof u=="function"?u.call(o,h):`+${h} ${u}`,v=ha(l.moreLinkHint,[h],g),x={num:h,shortText:`+${h}`,text:g,view:a};return A(ze,null,!!e.moreCnt&&A(Ut,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Qv(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:x,generatorName:"moreLinkContent",customGenerator:l.moreLinkContent,defaultGenerator:e.defaultGenerator||sN,classNameGenerator:l.moreLinkClassNames,didMount:l.moreLinkDidMount,willUnmount:l.moreLinkWillUnmount},e.children),t.isPopoverOpen&&A(rN,{id:t.popoverId,startDate:p.start,endDate:p.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=yt(this.linkEl,".fc-view-harness"))}}function sN(n){return n.text}function dy(n){if(n.allDayDate)return{start:n.allDayDate,end:vt(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:q0(e),end:aN(e)}}function q0(n){return n.reduce(iN).eventRange.range.start}function iN(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function aN(n){return n.reduce(lN).eventRange.range.end}function lN(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class oN{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class cN extends oN{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}const uN=[],Y0={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},G0=Object.assign(Object.assign({},Y0),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function dN(n){let e=n.length>0?n[0].code:"en",t=uN.concat(n),r={en:G0};for(let a of t)r[a.code]=a;return{map:r,defaultCode:e}}function Q0(n,e){return typeof n=="object"&&!Array.isArray(n)?Z0(n.code,[n.code],n):fN(n,e)}function fN(n,e){let t=[].concat(n||[]),r=hN(t,e)||G0;return Z0(n,t,r)}function hN(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let a=r.length;a>0;a-=1){let l=r.slice(0,a).join("-");if(e[l])return e[l]}}return null}function Z0(n,e,t){let r=pf([Y0,t],["buttonText"]);delete r.code;let{week:a}=r;return delete r.week,{codeArg:n,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function Un(n){return{id:cs(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function pN(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(l){for(let o of l){const u=o.name,h=t[u];h===void 0?(t[u]=o.id,a(o.deps),r=gN(r,o)):h!==o.id&&console.warn(`Duplicate plugin '${u}'`)}}return n&&a(n),a(e),r}function mN(){let n=[],e=[],t;return(r,a)=>((!t||!Sr(r,n)||!Sr(a,e))&&(t=pN(r,a)),n=r,e=a,t)}function gN(n,e){return{premiumReleaseDate:yN(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function yN(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Cr extends Na{}Cr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Cr.prototype.baseIconClass="fc-icon";Cr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Cr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Cr.prototype.iconOverrideOption="buttonIcons";Cr.prototype.iconOverrideCustomButtonOption="icon";Cr.prototype.iconOverridePrefix="fc-icon-";function vN(n,e){let t={},r;for(r in n)$d(r,t,n,e);for(r in e)$d(r,t,n,e);return t}function $d(n,e,t,r){if(e[n])return e[n];let a=xN(n,e,t,r);return a&&(e[n]=a),a}function xN(n,e,t,r){let a=t[n],l=r[n],o=g=>a&&a[g]!==null?a[g]:l&&l[g]!==null?l[g]:null,u=o("component"),h=o("superType"),p=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");p=$d(h,e,t,r)}return!u&&p&&(u=p.component),u?{type:n,component:u,defaults:Object.assign(Object.assign({},p?p.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},p?p.overrides:{}),l?l.rawOptions:{})}:null}function fy(n){return Ln(n,wN)}function wN(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=hy(e):t&&!(t.prototype instanceof Le)&&(t=hy(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function hy(n){return e=>A(Fn.Consumer,null,t=>A(Ut,{elTag:"div",elClasses:s0(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function bN(n,e,t,r){let a=fy(n),l=fy(e.views),o=vN(a,l);return Ln(o,u=>SN(u,l,e,t,r))}function SN(n,e,t,r,a){let l=n.overrides.duration||n.defaults.duration||r.duration||t.duration,o=null,u="",h="",p={};if(l&&(o=_N(l),o)){let x=Od(o);u=x.unit,x.value===1&&(h=u,p=e[u]?e[u].rawOptions:{})}let g=x=>{let w=x.buttonText||{},S=n.defaults.buttonTextKey;return S!=null&&w[S]!=null?w[S]:w[n.type]!=null?w[n.type]:w[h]!=null?w[h]:null},v=x=>{let w=x.buttonHints||{},S=n.defaults.buttonTextKey;return S!=null&&w[S]!=null?w[S]:w[n.type]!=null?w[n.type]:w[h]!=null?w[h]:null};return{type:n.type,component:n.component,duration:o,durationUnit:u,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},p),n.overrides),buttonTextOverride:g(r)||g(t)||n.overrides.buttonText,buttonTextDefault:g(a)||n.defaults.buttonText||g(pa)||n.type,buttonTitleOverride:v(r)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(a)||n.defaults.buttonHint||v(pa)}}let py={};function _N(n){let e=JSON.stringify(n),t=py[e];return t===void 0&&(t=Te(n),py[e]=t),t}function EN(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function kN(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function CN(n,e,t){let r=n.initialDate;return r!=null?e.createMarker(r):t.getDateMarker()}function AN(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function NN(n,e,t,r){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(a=r.buildPrev(n,t),a.isValid)return a;break;case"NEXT":if(a=r.buildNext(n,t),a.isValid)return a;break}return n}function jN(n,e,t){let r=e?e.activeRange:null;return J0({},PN(n,t),r,t)}function DN(n,e,t,r){let a=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return J0(n,e.sources,a,r);case"REMOVE_EVENT_SOURCE":return RN(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?X0(n,a,r):n;case"FETCH_EVENT_SOURCES":return Pf(n,e.sourceIds?Xv(e.sourceIds):ex(n,r),a,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return ON(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function TN(n,e,t){let r=e?e.activeRange:null;return Pf(n,ex(n,t),r,!0,t)}function K0(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function J0(n,e,t,r){let a={};for(let l of e)a[l.sourceId]=l;return t&&(a=X0(a,t,r)),Object.assign(Object.assign({},n),a)}function RN(n,e){return rs(n,t=>t.sourceId!==e)}function X0(n,e,t){return Pf(n,rs(n,r=>MN(r,e,t)),e,!1,t)}function MN(n,e,t){return tx(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function Pf(n,e,t,r,a){let l={};for(let o in n){let u=n[o];e[o]?l[o]=IN(u,t,r,a):l[o]=u}return l}function IN(n,e,t,r){let{options:a,calendarApi:l}=r,o=r.pluginHooks.eventSourceDefs[n.sourceDefId],u=cs();return o.fetch({eventSource:n,range:e,isRefetch:t,context:r},h=>{let{rawEvents:p}=h;a.eventSourceSuccess&&(p=a.eventSourceSuccess.call(l,p,h.response)||p),n.success&&(p=n.success.call(l,p,h.response)||p),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:u,fetchRange:e,rawEvents:p})},h=>{let p=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(l,h),p=!0),n.failure&&(n.failure(h),p=!0),p||console.warn(h.message,h),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:u,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:u})}function ON(n,e,t,r){let a=n[e];return a&&t===a.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:r})}):n}function ex(n,e){return rs(n,t=>tx(t,e))}function PN(n,e){let t=h0(e),r=[].concat(n.eventSources||[]),a=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let l of r){let o=f0(l,e,t);o&&a.push(o)}return a}function tx(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function LN(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function FN(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function UN(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function HN(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function zN(n,e,t,r,a){let l=n.headerToolbar?my(n.headerToolbar,n,e,t,r,a):null,o=n.footerToolbar?my(n.footerToolbar,n,e,t,r,a):null;return{header:l,footer:o}}function my(n,e,t,r,a,l){let o={},u=[],h=!1;for(let p in n){let g=n[p],v=BN(g,e,t,r,a,l);o[p]=v.widgets,u.push(...v.viewsWithButtons),h=h||v.hasTitle}return{sectionWidgets:o,viewsWithButtons:u,hasTitle:h}}function BN(n,e,t,r,a,l){let o=e.direction==="rtl",u=e.customButtons||{},h=t.buttonText||{},p=e.buttonText||{},g=t.buttonHints||{},v=e.buttonHints||{},x=n?n.split(" "):[],w=[],S=!1;return{widgets:x.map(E=>E.split(",").map(C=>{if(C==="title")return S=!0,{buttonName:C};let U,I,T,W,P,N;if(U=u[C])T=j=>{U.click&&U.click.call(j.target,j,j.target)},(W=r.getCustomButtonIconClass(U))||(W=r.getIconClass(C,o))||(P=U.text),N=U.hint||U.text;else if(I=a[C]){w.push(C),T=()=>{l.changeView(C)},(P=I.buttonTextOverride)||(W=r.getIconClass(C,o))||(P=I.buttonTextDefault);let j=I.buttonTextOverride||I.buttonTextDefault;N=ha(I.buttonTitleOverride||I.buttonTitleDefault||e.viewHint,[j,C],j)}else if(l[C])if(T=()=>{l[C]()},(P=h[C])||(W=r.getIconClass(C,o))||(P=p[C]),C==="prevYear"||C==="nextYear"){let j=C==="prevYear"?"prev":"next";N=ha(g[j]||v[j],[p.year||"year","year"],p[C])}else N=j=>ha(g[C]||v[C],[p[j]||j,j],p[C]);return{buttonName:C,buttonClick:T,buttonIcon:W,buttonText:P,buttonHint:N}})),viewsWithButtons:w,hasTitle:S}}class $N{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let WN={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const VN=Un({name:"array-event-source",eventSourceDefs:[WN]});let qN={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,a=n.eventSource.meta;nA(a.bind(null,_0(n.range,r)),l=>e({rawEvents:l}),t)}};const YN=Un({name:"func-event-source",eventSourceDefs:[qN]}),GN={method:String,extraParams:B,startParam:String,endParam:String,timeZoneParam:String};let QN={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,a=KN(r,n.range,n.context);rA(r.method,r.url,a).then(([l,o])=>{e({rawEvents:l,response:o})},t)}};const ZN=Un({name:"json-event-source",eventSourceRefiners:GN,eventSourceDefs:[QN]});function KN(n,e,t){let{dateEnv:r,options:a}=t,l,o,u,h,p={};return l=n.startParam,l==null&&(l=a.startParam),o=n.endParam,o==null&&(o=a.endParam),u=n.timeZoneParam,u==null&&(u=a.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(p,h),p[l]=r.formatIso(e.start),p[o]=r.formatIso(e.end),r.timeZone!=="local"&&(p[u]=r.timeZone),p}const JN={daysOfWeek:B,startTime:Te,endTime:Te,duration:Te,startRecur:B,endRecur:B};let XN={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=p1(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=ss(e,{start:n.startRecur,end:n.endRecur});return r?tj(n.daysOfWeek,n.startTime,n.dateEnv,t,r):[]}};const ej=Un({name:"simple-recurring-event",recurringTypes:[XN],eventRefiners:JN});function tj(n,e,t,r,a){let l=n?Xv(n):null,o=Be(a.start),u=a.end,h=[];for(;o<u;){let p;(!l||l[o.getUTCDay()])&&(e?p=r.add(o,e):p=o,h.push(r.createMarker(t.toDate(p)))),o=vt(o,1)}return h}const nj=Un({name:"change-handler",optionChangeHandlers:{events(n,e){gy([n],e)},eventSources:gy}});function gy(n,e){let t=mf(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let a of n){let l=!1;for(let o=0;o<t.length;o+=1)if(t[o]._raw===a){t.splice(o,1),l=!0;break}l||r.push(a)}for(let a of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of r)e.calendarApi.addEventSource(a)}function rj(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},_0(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function sj(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",ts(n,e))}const ij=[VN,YN,ZN,ej,nj,Un({name:"misc",isLoadingFuncs:[n=>K0(n.eventSources)],propSetHandlers:{dateProfile:rj,eventStore:sj}})];class aj{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new af(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function lj(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,Qe(e.titleFormat||oj(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function oj(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=wo(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class yy{constructor(){this.resetListeners=new Set}handleInput(e,t){const r=this.dateEnv;if(e!==r&&(typeof t=="function"?this.nowFn=t:r||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class cj{constructor(e){this.computeCurrentViewData=xe(this._computeCurrentViewData),this.organizeRawLocales=xe(dN),this.buildLocale=xe(Q0),this.buildPluginHooks=mN(),this.buildDateEnv=xe(uj),this.buildTheme=xe(dj),this.parseToolbars=xe(zN),this.buildViewSpecs=xe(bN),this.buildDateProfileGenerator=ao(fj),this.buildViewApi=xe(hj),this.buildViewUiProps=ao(gj),this.buildEventUiBySource=xe(pj,on),this.buildEventUiBases=xe(mj),this.parseContextBusinessHours=ao(yj),this.buildTitle=xe(lj),this.nowManager=new yy,this.emitter=new $o,this.actionRunner=new aj(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=x=>{this.actionRunner.request(x)},this.props=e,this.actionRunner.pause(),this.nowManager=new yy;let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,l=this.computeCurrentViewData(a,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(l.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},u=CN(r.calendarOptions,r.dateEnv,this.nowManager),h=l.dateProfileGenerator.build(u);On(h.activeRange,u)||(u=h.currentRange.start);for(let x of r.pluginHooks.contextInit)x(o);let p=jN(r.calendarOptions,h,o),g={dynamicOptionOverrides:t,currentViewType:a,currentDate:u,dateProfile:h,businessHours:this.parseContextBusinessHours(o),eventSources:p,eventUiBases:{},eventStore:Ft(),renderableEventStore:Ft(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},v=Object.assign(Object.assign({},o),g);for(let x of r.pluginHooks.reducers)Object.assign(g,x(null,null,v));pd(g,o)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:a}=this,l=AN(r.dynamicOptionOverrides,e),o=this.computeOptionsData(t.optionOverrides,l,t.calendarApi),u=EN(r.currentViewType,e),h=this.computeCurrentViewData(u,o,t.optionOverrides,l);t.calendarApi.currentDataManager=this,a.setThisContext(t.calendarApi),a.setOptions(h.options);let p={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:g,dateProfile:v}=r;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(v=h.dateProfileGenerator.build(g)),g=kN(g,e),v=NN(v,e,g,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!On(v.currentRange,g))&&(g=v.currentRange.start);let x=DN(r.eventSources,e,v,p),w=jC(r.eventStore,e,x,v,p),_=K0(x)&&!h.options.progressiveEventRendering&&r.renderableEventStore||w,{eventUiSingleBase:E,selectionConfig:C}=this.buildViewUiProps(p),U=this.buildEventUiBySource(x),I=this.buildEventUiBases(_.defs,E,U),T={dynamicOptionOverrides:l,currentViewType:u,currentDate:g,dateProfile:v,eventSources:x,eventStore:w,renderableEventStore:_,selectionConfig:C,eventUiBases:I,businessHours:this.parseContextBusinessHours(p),dateSelection:LN(r.dateSelection,e),eventSelection:FN(r.eventSelection,e),eventDrag:UN(r.eventDrag,e),eventResize:HN(r.eventResize,e)},W=Object.assign(Object.assign({},p),T);for(let j of o.pluginHooks.reducers)Object.assign(T,j(r,e,W));let P=pd(r,p),N=pd(T,p);!P&&N?a.trigger("loading",!0):P&&!N&&a.trigger("loading",!1),this.state=T,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,a=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),l=this.computeCurrentViewData(t.currentViewType,a,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,l.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),l),t),u=a.pluginHooks.optionChangeHandlers,h=r&&r.calendarOptions,p=a.calendarOptions;if(h&&h!==p){h.timeZone!==p.timeZone&&(t.eventSources=o.eventSources=TN(o.eventSources,t.dateProfile,o),t.eventStore=o.eventStore=ay(o.eventStore,r.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=ay(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let g in u)(this.optionsForHandling.indexOf(g)!==-1||h[g]!==p[g])&&u[g](p[g],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:l,localeDefaults:o,availableLocaleData:u,extra:h}=this.processRawCalendarOptions(e,t);vy(h);let p=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,l,u,a.defaultRangeSeparator),g=this.buildViewSpecs(l.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),v=this.buildTheme(a,l),x=this.parseToolbars(a,this.stableOptionOverrides,v,g,r);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:l,dateEnv:p,viewSpecs:g,theme:v,toolbarConfig:x,localeDefaults:o,availableRawLocales:u.map}}processRawCalendarOptions(e,t){let{locales:r,locale:a}=id([pa,e,t]),l=this.organizeRawLocales(r),o=l.map,u=this.buildLocale(a||l.defaultCode,o).options,h=this.buildPluginHooks(e.plugins||[],ij),p=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ey),ty),ny),h.listenerRefiners),h.optionRefiners),g={},v=id([pa,u,e,t]),x={},w=this.currentCalendarOptionsInput,S=this.currentCalendarOptionsRefined,_=!1;for(let E in v)this.optionsForRefining.indexOf(E)===-1&&(v[E]===w[E]||$r[E]&&E in w&&$r[E](w[E],v[E]))?x[E]=S[E]:p[E]?(x[E]=p[E](v[E]),_=!0):g[E]=w[E];return _&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=x,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:l,localeDefaults:u,extra:g}}_computeCurrentViewData(e,t,r,a){let l=t.viewSpecs[e];if(!l)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:u}=this.processRawViewOptions(l,t.pluginHooks,t.localeDefaults,r,a);vy(u),this.nowManager.handleInput(t.dateEnv,o.now);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:l.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:l.duration,durationUnit:l.durationUnit,usesMinMaxTime:l.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),p=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:l,options:o,dateProfileGenerator:h,viewApi:p}}processRawViewOptions(e,t,r,a,l){let o=id([pa,e.optionDefaults,r,a,e.optionOverrides,l]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ey),ty),ny),Y1),t.listenerRefiners),t.optionRefiners),h={},p=this.currentViewOptionsInput,g=this.currentViewOptionsRefined,v=!1,x={};for(let w in o)o[w]===p[w]||$r[w]&&$r[w](o[w],p[w])?h[w]=g[w]:(o[w]===this.currentCalendarOptionsInput[w]||$r[w]&&$r[w](o[w],this.currentCalendarOptionsInput[w])?w in this.currentCalendarOptionsRefined&&(h[w]=this.currentCalendarOptionsRefined[w]):u[w]?h[w]=u[w](o[w]):x[w]=o[w],v=!0);return v&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:x}}}function uj(n,e,t,r,a,l,o,u){let h=Q0(e||o.defaultCode,o.map);return new sC({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:l.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:r,weekText:a,cmdFormatter:l.cmdFormatter,defaultSeparator:u})}function dj(n,e){let t=e.themeClasses[n.themeSystem]||Cr;return new t(n)}function fj(n){let e=n.dateProfileGeneratorClass||l0;return new e(n)}function hj(n,e,t){return new $N(n,e,t)}function pj(n){return Ln(n,e=>e.ui)}function mj(n,e,t){let r={"":e};for(let a in n){let l=n[a];l.sourceId&&t[l.sourceId]&&(r[a]=t[l.sourceId])}return r}function gj(n){let{options:e}=n;return{eventUiSingleBase:Ao({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Ao({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function pd(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function yj(n){return FC(n.options.businessHours,n)}function vy(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class vj extends Le{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return A("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,a=[],l=!0;for(let o of e){let{buttonName:u,buttonClick:h,buttonText:p,buttonIcon:g,buttonHint:v}=o;if(u==="title")l=!1,a.push(A("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let x=u===t.activeButton,w=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next",S=[`fc-${u}-button`,r.getClass("button")];x&&S.push(r.getClass("buttonActive")),a.push(A("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:w,"aria-pressed":x,className:S.join(" "),onClick:h},p||(g?A("span",{className:g,role:"img"}):"")))}}if(a.length>1){let o=l&&r.getClass("buttonGroup")||"";return A("div",{className:o},...a)}return a[0]}}class xy extends Le{render(){let{model:e,extraClassName:t}=this.props,r=!1,a,l,o=e.sectionWidgets,u=o.center;return o.left?(r=!0,a=o.left):a=o.start,o.right?(r=!0,l=o.right):l=o.end,A("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",u||[]),this.renderSection("end",l||[]))}renderSection(e,t){let{props:r}=this;return A(vj,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class xj extends Le{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,vn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,a=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",o="";return r?t.availableWidth!==null?l=t.availableWidth/r:o=`${1/r*100}%`:l=e.height||"",A("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:l,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class wj extends gi{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:a}=this,{context:l}=a,o=fi(r);if(o&&a.isValidSegDownEl(t.target)){let u=yt(t.target,".fc-event-forced-url"),h=u?u.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:r,event:new qe(a.context,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:l.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=Gv(e.el,"click",".fc-event",this.handleSegClick)}}class bj extends gi{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{fi(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=Xk(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:a}=this,{context:l}=a,o=fi(r);(!t||a.isValidSegDownEl(t.target))&&l.emitter.trigger(e,{el:r,event:new qe(l,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:l.viewApi})}}class Sj extends ds{constructor(){super(...arguments),this.buildViewContext=xe(lC),this.buildViewPropTransformers=xe(Ej),this.buildToolbarProps=xe(_j),this.headerRef=_t(),this.footerRef=_t(),this.interactionsStore={},this.state={viewLabelId:Uo()},this.registerInteractiveComponent=(e,t)=>{let r=aA(e,t),o=[wj,bj].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(r));this.interactionsStore[e.uid]=o,Ud[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete Ud[e.uid]},this.resizeRunner=new af(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,a=!1,l="",o;e.isHeightAuto||e.forPrint?l="":r.height!=null?a=!0:r.contentHeight!=null?l=r.contentHeight:o=Math.max(r.aspectRatio,.5);let u=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),h=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return A(Fn.Provider,{value:u},A(yi,{unit:"day"},p=>{let g=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,p,e.viewTitle);return A(ze,null,t.header&&A(xy,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:h},g)),A(xj,{liquid:a,height:l,aspectRatio:o,labeledById:h},this.renderView(e),this.buildAppendContent()),t.footer&&A(xy,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},g)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let a in r)t[a]!==e[a]&&r[a](t[a],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return A(ze,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},l=this.buildViewPropTransformers(t.viewPropsTransformers);for(let u of l)Object.assign(a,u.transform(a,e));let o=r.component;return A(o,Object.assign({},a))}}function _j(n,e,t,r,a,l){let o=t.build(a,void 0,!1),u=t.buildPrev(e,r,!1),h=t.buildNext(e,r,!1);return{title:l,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:o.isValid&&!On(e.currentRange,a),isPrevEnabled:u.isValid,isNextEnabled:h.isValid}}function Ej(n){return n.map(e=>new e)}class kj extends oA{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Eo(()=>{ba(A(iA,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(a,l,o,u)=>(this.setClassNames(a),this.setHeight(l),A(r0.Provider,{value:this.customContentRenderId},A(Sj,Object.assign({isHeightAuto:o,forPrint:u},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ba(null,this.el),this.setClassNames([]),this.setHeight(""))},Wk(e),this.el=e,this.renderRunner=new af(this.handleRenderRequest),new cj({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Eo(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Sr(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){qv(this.el,"height",e)}}const Cj=parseInt(String(ci.version).split(".")[0]),Aj=Cj<18;class nx extends O.Component{constructor(){super(...arguments),this.elRef=O.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(ci.createElement(Nj,{key:t.id,customRendering:t}));return ci.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new cN;this.handleCustomRendering=e.handle.bind(e),this.calendar=new kj(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Dd.flushSync(()=>{})});let t;e.subscribe(r=>{const a=Date.now(),l=!t;(Aj||l||this.isUpdating||this.isUnmounting||a-t<100?rx:Dd.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{t=a,l?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}nx.act=rx;class Nj extends O.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,r=typeof t=="function"?t(e.renderProps):t;return Dd.createPortal(r,e.containerEl)}}function rx(n){n()}class jj extends xn{constructor(){super(...arguments),this.headerElRef=_t()}renderSimpleLayout(e,t){let{props:r,context:a}=this,l=[],o=Do(a.options);return e&&l.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),A(ko,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},A(Df,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:l}))}renderHScrollLayout(e,t,r,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{props:o,context:u}=this,h=!o.forPrint&&Do(u.options),p=!o.forPrint&&z0(u.options),g=[];return e&&g.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),g.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),p&&g.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Bd}]}),A(ko,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},A(l,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:a}]}],sections:g}))}}function oo(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function eo(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function wy(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const sx=Qe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function ix(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class ax extends Le{render(){let{props:e}=this;return A(Rf,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:sx,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class lx extends Le{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,l=r.eventTimeFormat||sx,o=w0(a,l,t,!0,e.defaultDisplayEventEnd);return A(Tf,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:S0(e.seg,t),defaultGenerator:Dj,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function Dj(n){return A(ze,null,A("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&A("div",{className:"fc-event-time"},n.timeText),A("div",{className:"fc-event-title"},n.event.title||A(ze,null," ")))}class Tj extends Le{constructor(){super(...arguments),this.compileSegs=xe(Rj)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return A(V0,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return A(ze,null,t.map(l=>{let o=l.eventRange.instance.instanceId;return A("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:a[o]?"hidden":""}},ix(l)?A(lx,Object.assign({seg:l,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},br(l,e.todayRange))):A(ax,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},br(l,e.todayRange))))}))}})}}function Rj(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}const Mj=Qe({week:"narrow"});class Ij extends xn{constructor(){super(...arguments),this.rootElRef=_t(),this.state={dayNumberId:Uo()},this.handleRootEl=e=>{vn(this.rootElRef,e),vn(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:a}=this,{options:l,dateEnv:o}=e,{date:u,dateProfile:h}=t;const p=t.showDayNumber&&Pj(u,h.currentRange,o);return A(If,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Oj,date:u,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:p,extraRenderProps:t.extraRenderProps},(g,v)=>A("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&A(W0,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:jo(e,u,"week"),date:u,defaultFormat:Mj}),!v.isDisabled&&(t.showDayNumber||Of(l)||t.forceDayTop)?A("div",{className:"fc-daygrid-day-top"},A(g,{elTag:"a",elClasses:["fc-daygrid-day-number",p&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},jo(e,u)),{id:r.dayNumberId})})):t.showDayNumber?A("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},A("a",{className:"fc-daygrid-day-number"}," ")):void 0,A("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,A("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},A(Tj,{allDayDate:u,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),A("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Oj(n){return n.dayNumberText||A(ze,null," ")}function Pj(n,e,t){const{start:r,end:a}=e,l=_r(a,-1),o=t.getYear(r),u=t.getMonth(r),h=t.getYear(l),p=t.getMonth(l);return!(o===h&&u===p)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<a.valueOf())}function ox(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function cx(n){return ox(n)+":"+n.lastCol}function Lj(n,e,t,r,a,l,o){let u=new Hj(C=>{let U=n[C.index].eventRange.instance.instanceId+":"+C.span.start+":"+(C.span.end-1);return a[U]||1});u.allowReslicing=!0,u.strictOrder=r,e===!0||t===!0?(u.maxCoord=l,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof t=="number"&&(u.maxStackCnt=t,u.hiddenConsumes=!0);let h=[],p=[];for(let C=0;C<n.length;C+=1){let U=n[C],I=cx(U);a[I]!=null?h.push({index:C,span:{start:U.firstCol,end:U.lastCol+1}}):p.push(U)}let g=u.addSegs(h),v=u.toRects(),{singleColPlacements:x,multiColPlacements:w,leftoverMargins:S}=Fj(v,n,o),_=[],E=[];for(let C of p){w[C.firstCol].push({seg:C,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let U=C.firstCol;U<=C.lastCol;U+=1)x[U].push({seg:ei(C,U,U+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<o.length;C+=1)_.push(0);for(let C of g){let U=n[C.index],I=C.span;w[I.start].push({seg:ei(U,I.start,I.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=I.start;T<I.end;T+=1)_[T]+=1,x[T].push({seg:ei(U,T,T+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<o.length;C+=1)E.push(S[C]);return{singleColPlacements:x,multiColPlacements:w,moreCnts:_,moreMarginTops:E}}function Fj(n,e,t){let r=Uj(n,t.length),a=[],l=[],o=[];for(let u=0;u<t.length;u+=1){let h=r[u],p=[],g=0,v=0;for(let w of h){let S=e[w.index];p.push({seg:ei(S,u,u+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:w.levelCoord,marginTop:w.levelCoord-g}),g=w.levelCoord+w.thickness}let x=[];g=0,v=0;for(let w of h){let S=e[w.index],_=w.span.end-w.span.start>1,E=w.span.start===u;v+=w.levelCoord-g,g=w.levelCoord+w.thickness,_?(v+=w.thickness,E&&x.push({seg:ei(S,w.span.start,w.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:w.levelCoord,marginTop:0})):E&&(x.push({seg:ei(S,w.span.start,w.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:w.levelCoord,marginTop:v}),v=0)}a.push(p),l.push(x),o.push(v)}return{singleColPlacements:a,multiColPlacements:l,leftoverMargins:o}}function Uj(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let a=r.span.start;a<r.span.end;a+=1)t[a].push(r);return t}function ei(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let a=n.eventRange,l=a.range,o=ss(l,{start:r[e].date,end:vt(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:o},isStart:n.isStart&&o.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&o.end.valueOf()===l.end.valueOf()})}class Hj extends D0{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:r}=this,a=l=>!this.forceHidden[ns(l)];for(let l=0;l<r.length;l+=1)r[l]=r[l].filter(a);return t}handleInvalidInsertion(e,t,r){const{entriesByLevel:a,forceHidden:l}=this,{touchingEntry:o,touchingLevel:u,touchingLateral:h}=e;if(this.hiddenConsumes&&o){const p=ns(o);if(!l[p])if(this.allowReslicing){const g=Object.assign(Object.assign({},o),{span:Nf(o.span,t.span)}),v=ns(g);l[v]=!0,a[u][h]=g,r.push(g),this.splitEntry(o,t,r)}else l[p]=!0,r.push(o)}super.handleInvalidInsertion(e,t,r)}}class ux extends xn{constructor(){super(...arguments),this.cellElRefs=new In,this.frameElRefs=new In,this.fgElRefs=new In,this.segHarnessRefs=new In,this.rootElRef=_t(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:a}=r,l=e.cells.length,o=eo(e.businessHourSegs,l),u=eo(e.bgEventSegs,l),h=eo(this.getHighlightSegs(),l),p=eo(this.getMirrorSegs(),l),{singleColPlacements:g,multiColPlacements:v,moreCnts:x,moreMarginTops:w}=Lj(x0(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),S=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return A("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((_,E)=>{let C=this.renderFgSegs(E,e.forPrint?g[E]:v[E],e.todayRange,S),U=this.renderFgSegs(E,zj(p[E],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return A(Ij,{key:_.key,elRef:this.cellElRefs.createRef(_.key),innerElRef:this.frameElRefs.createRef(_.key),dateProfile:e.dateProfile,date:_.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&E===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:_.extraRenderProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,moreCnt:x[E],moreMarginTop:w[E],singlePlacements:g[E],fgContentElRef:this.fgElRefs.createRef(_.key),fgContent:A(ze,null,A(ze,null,C),A(ze,null,U)),bgContent:A(ze,null,this.renderFillSegs(h[E],"highlight"),this.renderFillSegs(o[E],"non-business"),this.renderFillSegs(u[E],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!on(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,a,l,o,u){let{context:h}=this,{eventSelection:p}=this.props,{framePositions:g}=this.state,v=this.props.cells.length===1,x=l||o||u,w=[];if(g)for(let S of t){let{seg:_}=S,{instanceId:E}=_.eventRange.instance,C=S.isVisible&&!a[E],U=S.isAbsolute,I="",T="";U&&(h.isRtl?(T=0,I=g.lefts[_.lastCol]-g.lefts[_.firstCol]):(I=0,T=g.rights[_.firstCol]-g.rights[_.lastCol])),w.push(A("div",{className:"fc-daygrid-event-harness"+(U?" fc-daygrid-event-harness-abs":""),key:ox(_),ref:x?null:this.segHarnessRefs.createRef(cx(_)),style:{visibility:C?"":"hidden",marginTop:U?"":S.marginTop,top:U?S.absoluteTop:"",left:I,right:T}},ix(_)?A(lx,Object.assign({seg:_,isDragging:l,isSelected:E===p,defaultDisplayEventEnd:v},br(_,r))):A(ax,Object.assign({seg:_,isDragging:l,isResizing:o,isDateSelecting:u,isSelected:E===p,defaultDisplayEventEnd:v},br(_,r)))))}return w}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:a}=this.props,{framePositions:l}=this.state,o=[];if(l)for(let u of e){let h=r?{right:0,left:l.lefts[u.lastCol]-l.lefts[u.firstCol]}:{left:0,right:l.rights[u.firstCol]-l.rights[u.lastCol]};o.push(A("div",{key:b0(u.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?A(B0,Object.assign({seg:u},br(u,a))):$0(t)))}return A(ze,{},...o)}updateSizing(e){let{props:t,state:r,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(p=>a.currentMap[p.key]);if(h.length){let p=this.rootElRef.current,g=new hi(p,h,!0,!1);(!r.framePositions||!r.framePositions.similarTo(g))&&this.setState({framePositions:new hi(p,h,!0,!1)})}}const l=this.state.segHeights,o=this.querySegHeights(),u=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},l),o),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let a=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}ux.addStateEquality({segHeights:on});function zj(n,e){if(!n.length)return[];let t=Bj(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function Bj(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class $j extends xn{constructor(){super(...arguments),this.splitBusinessHourSegs=xe(oo),this.splitBgEventSegs=xe(Wj),this.splitFgEventSegs=xe(oo),this.splitDateSelectionSegs=xe(oo),this.splitEventDrag=xe(wy),this.splitEventResize=xe(wy),this.rowRefs=new In}render(){let{props:e,context:t}=this,r=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),u=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),p=this.splitEventResize(e.eventResize,r),g=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return A(yi,{unit:"day"},(v,x)=>A(ze,null,e.cells.map((w,S)=>A(ux,{ref:this.rowRefs.createRef(S),key:w.length?w[0].date.toISOString():S,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:x,dateProfile:e.dateProfile,cells:w,renderIntro:e.renderRowIntro,businessHourSegs:a[S],eventSelection:e.eventSelection,bgEventSegs:l[S],fgEventSegs:o[S],dateSelectionSegs:u[S],eventDrag:h[S],eventResize:p[S],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:g,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new hi(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new hi(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:a}=this,l=r.leftToIndex(e),o=a.topToIndex(t);if(o!=null&&l!=null){let u=this.props.cells[o][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,l),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(o,l),rect:{left:r.lefts[l],right:r.rights[l],top:a.tops[o],bottom:a.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,a=vt(r,1);return{start:r,end:a}}}function Wj(n,e){return oo(n.filter(Vj),e)}function Vj(n){return n.eventRange.def.allDay}class qj extends xn{constructor(){super(...arguments),this.elRef=_t(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:a}=e,l=r===!0||t===!0;l&&!a&&(l=!1,t=null,r=null);let o=["fc-daygrid-body",l?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return A("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,A("tbody",{role:"presentation"},A($j,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Yj(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function Yj(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${D1(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${df(e.currentDate)}"]`)),t}class Gj extends P0{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class dx extends xn{constructor(){super(...arguments),this.slicer=new Gj,this.tableRef=_t()}render(){let{props:e,context:t}=this;return A(qj,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Qj extends jj{constructor(){super(...arguments),this.buildDayTableModel=xe(Zj),this.headerRef=_t(),this.tableRef=_t()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,a=this.buildDayTableModel(r.dateProfile,t),l=e.dayHeaders&&A(M0,{ref:this.headerRef,dateProfile:r.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),o=u=>A(dx,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:a,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(l,o,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(l,o)}}function Zj(n,e){let t=new I0(n.renderRange,e);return new O0(t,/year|month|week/.test(n.currentRangeUnit))}class Kj extends l0{buildRenderRange(e,t,r){let a=super.buildRenderRange(e,t,r),{props:l}=this;return Jj({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}}function Jj(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:a}=t,l;if(n.snapToWeek&&(r=e.startOfWeek(r),l=e.startOfWeek(a),l.valueOf()!==a.valueOf()&&(a=Qg(l,1))),n.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(vt(t.end,-1))),u=Math.ceil(x1(o,a));a=Qg(a,6-u)}return{start:r,end:a}}var Xj=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';sf(Xj);var eD=Un({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Qj,dateProfileGeneratorClass:Kj},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class tD extends hA{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?$C(e)?["timed","allDay"]:["allDay"]:["timed"]}}const nD=Qe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function fx(n){let e=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return A(Fn.Consumer,null,t=>{if(!n.isLabeled)return A("td",{className:e.join(" "),"data-time":n.isoTimeStr});let{dateEnv:r,options:a,viewApi:l}=t,o=a.slotLabelFormat==null?nD:Array.isArray(a.slotLabelFormat)?Qe(a.slotLabelFormat[0]):Qe(a.slotLabelFormat),u={level:0,time:n.time,date:r.toDate(n.date),view:l,text:r.format(n.date,o)};return A(Ut,{elTag:"td",elClasses:e,elAttrs:{"data-time":n.isoTimeStr},renderProps:u,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:rD,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},h=>A("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},A(h,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function rD(n){return n.text}class sD extends Le{render(){return this.props.slatMetas.map(e=>A("tr",{key:e.key},A(fx,Object.assign({},e))))}}const iD=Qe({week:"short"}),aD=5;class lD extends xn{constructor(){super(...arguments),this.allDaySplitter=new tD,this.headerElRef=_t(),this.rootElRef=_t(),this.scrollerElRef=_t(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:r}=this.context,{dateProfile:a}=this.props,l=a.renderRange,u=us(l.start,l.end)===1?jo(this.context,l.start,"week"):{};return r.weekNumbers&&e==="day"?A(W0,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:l.start,defaultFormat:iD},h=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},A(h,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:u}))):A("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},A("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:r}=this.context,a={text:t.allDayText,view:r};return A(Ut,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:oD,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},l=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},A(l,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,r){let{context:a,props:l}=this,o=[],u=Do(a.options);return e&&o.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(o.push({type:"body",key:"all-day",chunk:{content:t}}),o.push({type:"body",key:"all-day-divider",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),A(ko,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},A(Df,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,t,r,a,l,o,u){let h=this.context.pluginHooks.scrollGridImpl;if(!h)throw new Error("No ScrollGrid implementation");let{context:p,props:g}=this,v=!g.forPrint&&Do(p.options),x=!g.forPrint&&z0(p.options),w=[];e&&w.push({type:"header",key:"header",isSticky:v,syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>A("tr",{role:"presentation"},this.renderHeadAxis("day",_.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(w.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>A("tr",{role:"presentation"},this.renderTableRowAxis(_.rowSyncHeights[0]))},{key:"cols",content:t}]}),w.push({key:"all-day-divider",type:"body",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{colSpan:2,className:"fc-timegrid-divider "+p.theme.getClass("tableCellShaded")}))}));let S=p.options.nowIndicator;return w.push({type:"body",key:"body",liquid:!0,expandRows:!!p.options.expandRows,chunks:[{key:"axis",content:_=>A("div",{className:"fc-timegrid-axis-chunk"},A("table",{"aria-hidden":!0,style:{height:_.expandRows?_.clientHeight:""}},_.tableColGroupNode,A("tbody",null,A(sD,{slatMetas:o}))),A("div",{className:"fc-timegrid-now-indicator-container"},A(yi,{unit:S?"minute":"day"},E=>{let C=S&&u&&u.safeComputeTop(E);return typeof C=="number"?A(Mf,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:C},isAxis:!0,date:E}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),x&&w.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Bd},{key:"cols",content:Bd}]}),A(ko,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:p.viewSpec},A(h,{liquid:!g.isHeightAuto&&!g.forPrint,forPrint:g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:l}]}],sections:w}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=aD),{dayMaxEvents:e,dayMaxEventRows:t}}}function oD(n){return n.text}class cD{constructor(e,t,r){this.positions=e,this.dateProfile=t,this.slotDuration=r}safeComputeTop(e){let{dateProfile:t}=this;if(On(t.currentRange,e)){let r=Be(e),a=e.valueOf()-r.valueOf();if(a>=ln(t.slotMinTime)&&a<ln(t.slotMaxTime))return this.computeTimeTop(Te(a))}return null}computeDateTop(e,t){return t||(t=Be(e)),this.computeTimeTop(Te(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:r}=this,a=t.els.length,l=(e.milliseconds-ln(r.slotMinTime))/ln(this.slotDuration),o,u;return l=Math.max(0,l),l=Math.min(a,l),o=Math.floor(l),o=Math.min(o,a-1),u=l-o,t.tops[o]+t.getHeight(o)*u}}class uD extends Le{render(){let{props:e,context:t}=this,{options:r}=t,{slatElRefs:a}=e;return A("tbody",null,e.slatMetas.map((l,o)=>{let u={time:l.time,date:t.dateEnv.toDate(l.date),view:t.viewApi};return A("tr",{key:l.key,ref:a.createRef(l.key)},e.axis&&A(fx,Object.assign({},l)),A(Ut,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!l.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":l.isoTimeStr},renderProps:u,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class dD extends Le{constructor(){super(...arguments),this.rootElRef=_t(),this.slatElRefs=new In}render(){let{props:e,context:t}=this;return A("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},A("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,A(uD,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new cD(new hi(this.rootElRef.current,fD(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function fD(n,e){return e.map(t=>n[t.key])}function aa(n,e){let t=[],r;for(r=0;r<e;r+=1)t.push([]);if(n)for(r=0;r<n.length;r+=1)t[n[r].col].push(n[r]);return t}function by(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}class hD extends Le{render(){let{props:e}=this;return A(V0,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>px(e.hiddenSegs,e),defaultGenerator:pD,forceTimed:!0},t=>A(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function pD(n){return n.shortText}function mD(n,e,t){let r=new D0;e!=null&&(r.strictOrder=e),t!=null&&(r.maxStackCnt=t);let a=r.addSegs(n),l=CA(a),o=gD(r);return o=wD(o,1),{segRects:bD(o),hiddenGroups:l}}function gD(n){const{entriesByLevel:e}=n,t=Lf((r,a)=>r+":"+a,(r,a)=>{let l=xD(n,r,a),o=Sy(l,t),u=e[r][a];return[Object.assign(Object.assign({},u),{nextLevelNodes:o[0]}),u.thickness+o[1]]});return Sy(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Sy(n,e){if(!n)return[[],0];let{level:t,lateralStart:r,lateralEnd:a}=n,l=r,o=[];for(;l<a;)o.push(e(t,l)),l+=1;return o.sort(yD),[o.map(vD),o[0][1]]}function yD(n,e){return e[1]-n[1]}function vD(n){return n[0]}function xD(n,e,t){let{levelCoords:r,entriesByLevel:a}=n,l=a[e][t],o=r[e]+l.thickness,u=r.length,h=e;for(;h<u&&r[h]<o;h+=1);for(;h<u;h+=1){let p=a[h],g,v=zd(p,l.span.start,Hd),x=v[0]+v[1],w=x;for(;(g=p[w])&&g.span.start<l.span.end;)w+=1;if(x<w)return{level:h,lateralStart:x,lateralEnd:w}}return null}function wD(n,e){const t=Lf((r,a,l)=>ns(r),(r,a,l)=>{let{nextLevelNodes:o,thickness:u}=r,h=u+l,p=u/h,g,v=[];if(!o.length)g=e;else for(let w of o)if(g===void 0){let S=t(w,a,h);g=S[0],v.push(S[1])}else{let S=t(w,g,0);v.push(S[1])}let x=(g-a)*p;return[g-x,Object.assign(Object.assign({},r),{thickness:x,nextLevelNodes:v})]});return n.map(r=>t(r,0,0)[1])}function bD(n){let e=[];const t=Lf((a,l,o)=>ns(a),(a,l,o)=>{let u=Object.assign(Object.assign({},a),{levelCoord:l,stackDepth:o,stackForward:0});return e.push(u),u.stackForward=r(a.nextLevelNodes,l+a.thickness,o+1)+1});function r(a,l,o){let u=0;for(let h of a)u=Math.max(t(h,l,o),u);return u}return r(n,0,0),e}function Lf(n,e){const t={};return(...r)=>{let a=n(...r);return a in t?t[a]:t[a]=e(...r)}}function _y(n,e,t=null,r=0){let a=[];if(t)for(let l=0;l<n.length;l+=1){let o=n[l],u=t.computeDateTop(o.start,e),h=Math.max(u+(r||0),t.computeDateTop(o.end,e));a.push({start:Math.round(u),end:Math.round(h)})}return a}function SD(n,e,t,r){let a=[],l=[];for(let p=0;p<n.length;p+=1){let g=e[p];g?a.push({index:p,thickness:1,span:g}):l.push(n[p])}let{segRects:o,hiddenGroups:u}=mD(a,t,r),h=[];for(let p of o)h.push({seg:n[p.index],rect:p});for(let p of l)h.push({seg:p,rect:null});return{segPlacements:h,hiddenGroups:u}}const _D=Qe({hour:"numeric",minute:"2-digit",meridiem:!1});class hx extends Le{render(){return A(Rf,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:_D}))}}class ED extends Le{constructor(){super(...arguments),this.sortEventSegs=xe(x0)}render(){let{props:e,context:t}=this,{options:r}=t,a=r.selectMirror,l=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},u=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return A(If,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},h=>A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(u,o,!1,!1,!1)),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,{},!!e.eventDrag,!!e.eventResize,!!a,"mirror")),A("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Of(r)&&A(h,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,r,a,l,o){let{props:u}=this;return u.forPrint?px(e,u):this.renderPositionedFgSegs(e,t,r,a,l,o)}renderPositionedFgSegs(e,t,r,a,l,o){let{eventMaxStack:u,eventShortHeight:h,eventOrderStrict:p,eventMinHeight:g}=this.context.options,{date:v,slatCoords:x,eventSelection:w,todayRange:S,nowDate:_}=this.props,E=r||a||l,C=_y(e,v,x,g),{segPlacements:U,hiddenGroups:I}=SD(e,C,p,u);return A(ze,null,this.renderHiddenGroups(I,e),U.map(T=>{let{seg:W,rect:P}=T,N=W.eventRange.instance.instanceId,j=E||!!(!t[N]&&P),L=md(P&&P.span),G=!E&&P?this.computeSegHStyle(P):{left:0,right:0},oe=!!P&&P.stackForward>0,Me=!!P&&P.span.end-P.span.start<h;return A("div",{className:"fc-timegrid-event-harness"+(oe?" fc-timegrid-event-harness-inset":""),key:o||N,style:Object.assign(Object.assign({visibility:j?"":"hidden"},L),G)},A(hx,Object.assign({seg:W,isDragging:r,isResizing:a,isDateSelecting:l,isSelected:N===w,isShort:Me},br(W,S,_))))}))}renderHiddenGroups(e,t){let{extraDateSpan:r,dateProfile:a,todayRange:l,nowDate:o,eventSelection:u,eventDrag:h,eventResize:p}=this.props;return A(ze,null,e.map(g=>{let v=md(g.span),x=kD(g.entries,t);return A(hD,{key:Jv(q0(x)),hiddenSegs:x,top:v.top,bottom:v.bottom,extraDateSpan:r,dateProfile:a,todayRange:l,nowDate:o,eventSelection:u,eventDrag:h,eventResize:p})}))}renderFillSegs(e,t){let{props:r,context:a}=this,o=_y(e,r.date,r.slatCoords,a.options.eventMinHeight).map((u,h)=>{let p=e[h];return A("div",{key:b0(p.eventRange),className:"fc-timegrid-bg-harness",style:md(u)},t==="bg-event"?A(B0,Object.assign({seg:p},br(p,r.todayRange,r.nowDate))):$0(t))});return A(ze,null,o)}renderNowIndicator(e){let{slatCoords:t,date:r}=this.props;return t?e.map((a,l)=>A(Mf,{key:l,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(a.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:t,options:r}=this.context,a=r.slotEventOverlap,l=e.levelCoord,o=e.levelCoord+e.thickness,u,h;a&&(o=Math.min(1,l+(o-l)*2)),t?(u=1-o,h=l):(u=l,h=1-o);let p={zIndex:e.stackDepth+1,left:u*100+"%",right:h*100+"%"};return a&&!e.stackForward&&(p[t?"marginLeft":"marginRight"]=10*2),p}}function px(n,{todayRange:e,nowDate:t,eventSelection:r,eventDrag:a,eventResize:l}){let o=(a?a.affectedInstances:null)||(l?l.affectedInstances:null)||{};return A(ze,null,n.map(u=>{let h=u.eventRange.instance.instanceId;return A("div",{key:h,style:{visibility:o[h]?"hidden":""}},A(hx,Object.assign({seg:u,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:h===r,isShort:!1},br(u,e,t))))}))}function md(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}function kD(n,e){return n.map(t=>e[t.index])}class CD extends Le{constructor(){super(...arguments),this.splitFgEventSegs=xe(aa),this.splitBgEventSegs=xe(aa),this.splitBusinessHourSegs=xe(aa),this.splitNowIndicatorSegs=xe(aa),this.splitDateSelectionSegs=xe(aa),this.splitEventDrag=xe(by),this.splitEventResize=xe(by),this.rootElRef=_t(),this.cellElRefs=new In}render(){let{props:e,context:t}=this,r=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),a=e.cells.length,l=this.splitFgEventSegs(e.fgEventSegs,a),o=this.splitBgEventSegs(e.bgEventSegs,a),u=this.splitBusinessHourSegs(e.businessHourSegs,a),h=this.splitNowIndicatorSegs(e.nowIndicatorSegs,a),p=this.splitDateSelectionSegs(e.dateSelectionSegs,a),g=this.splitEventDrag(e.eventDrag,a),v=this.splitEventResize(e.eventResize,a);return A("div",{className:"fc-timegrid-cols",ref:this.rootElRef},A("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,A("tbody",{role:"presentation"},A("tr",{role:"row"},e.axis&&A("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&A(Mf,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((x,w)=>A(ED,{key:x.key,elRef:this.cellElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,fgEventSegs:l[w],bgEventSegs:o[w],businessHourSegs:u[w],nowIndicatorSegs:h[w],dateSelectionSegs:p[w],eventDrag:g[w],eventResize:v[w],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new hi(this.rootElRef.current,AD(this.cellElRefs.currentMap,e.cells),!0,!1))}}function AD(n,e){return e.map(t=>n[t.key])}class ND extends xn{constructor(){super(...arguments),this.processSlotOptions=xe(jD),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:r}=this.state;if(t&&r){if(e.time){let a=r.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),t(a)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return A("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A(dD,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),A(CD,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:r,options:a}=this.context,{colCoords:l}=this,{dateProfile:o}=this.props,{slatCoords:u}=this.state,{snapDuration:h,snapsPerSlot:p}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),g=l.leftToIndex(e),v=u.positions.topToIndex(t);if(g!=null&&v!=null){let x=this.props.cells[g],w=u.positions.tops[v],S=u.positions.getHeight(v),_=(t-w)/S,E=Math.floor(_*p),C=v*p+E,U=this.props.cells[g].date,I=Id(o.slotMinTime,m1(h,C)),T=r.add(U,I),W=r.add(T,h);return{dateProfile:o,dateSpan:Object.assign({range:{start:T,end:W},allDay:!1},x.extraDateSpan),dayEl:l.els[g],rect:{left:l.lefts[g],right:l.rights[g],top:w,bottom:w+S},layer:0}}return null}}function jD(n,e){let t=e||n,r=uf(n,t);return r===null&&(t=n,r=1),{snapDuration:t,snapsPerSlot:r}}class DD extends P0{sliceRange(e,t){let r=[];for(let a=0;a<t.length;a+=1){let l=ss(e,t[a]);l&&r.push({start:l.start,end:l.end,isStart:l.start.valueOf()===e.start.valueOf(),isEnd:l.end.valueOf()===e.end.valueOf(),col:a})}return r}}class TD extends xn{constructor(){super(...arguments),this.buildDayRanges=xe(RD),this.slicer=new DD,this.timeColsRef=_t()}render(){let{props:e,context:t}=this,{dateProfile:r,dayTableModel:a}=e,{nowIndicator:l,nextDayThreshold:o}=t.options,u=this.buildDayRanges(a,r,t.dateEnv);return A(yi,{unit:l?"minute":"day"},(h,p)=>A(ND,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,t,u),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:a.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:h,nowIndicatorSegs:l&&this.slicer.sliceNowDate(h,r,o,t,u),todayRange:p,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function RD(n,e,t){let r=[];for(let a of n.headerDates)r.push({start:t.add(a,e.slotMinTime),end:t.add(a,e.slotMaxTime)});return r}const Ey=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function MD(n,e,t,r,a){let l=new Date(0),o=n,u=Te(0),h=t||ID(r),p=[];for(;ln(o)<ln(e);){let g=a.add(l,o),v=uf(u,h)!==null;p.push({date:g,time:o,key:g.toISOString(),isoTimeStr:T1(g),isLabeled:v}),o=Id(o,r),u=Id(u,r)}return p}function ID(n){let e,t,r;for(e=Ey.length-1;e>=0;e-=1)if(t=Te(Ey[e]),r=uf(t,n),r!==null&&r>1)return t;return n}class OD extends lD{constructor(){super(...arguments),this.buildTimeColsModel=xe(PD),this.buildSlatMetas=xe(MD)}render(){let{options:e,dateEnv:t,dateProfileGenerator:r}=this.context,{props:a}=this,{dateProfile:l}=a,o=this.buildTimeColsModel(l,r),u=this.allDaySplitter.splitProps(a),h=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:p}=e,g=!p,v=p,x=e.dayHeaders&&A(M0,{dates:o.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),w=e.allDaySlot!==!1&&(_=>A(dx,Object.assign({},u.allDay,{dateProfile:l,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:_.tableMinWidth,colGroupNode:_.tableColGroupNode,renderRowIntro:g?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:_.clientWidth,clientHeight:_.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),S=_=>A(TD,Object.assign({},u.timed,{dayTableModel:o,dateProfile:l,axis:g,slotDuration:e.slotDuration,slatMetas:h,forPrint:a.forPrint,tableColGroupNode:_.tableColGroupNode,tableMinWidth:_.tableMinWidth,clientWidth:_.clientWidth,clientHeight:_.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:_.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return v?this.renderHScrollLayout(x,w,S,o.colCnt,p,h,this.state.slatCoords):this.renderSimpleLayout(x,w,S)}}function PD(n,e){let t=new I0(n.renderRange,e);return new O0(t,!1)}var LD='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';sf(LD);const FD={allDaySlot:Boolean};var UD=Un({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:FD,views:{timeGrid:{component:OD,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});jf.touchMouseIgnoreWait=500;let Wd=0,To=0,Vd=!1;class mx{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&HD(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,zD()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:r-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new $o,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),BD()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),$D()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||yt(r,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Vd=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?yt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Wd||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Vd=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:a}}createEventFromTouch(e,t){let r=e.touches,a,l,o=0,u=0;return r&&r.length?(a=r[0].pageX,l=r[0].pageY):(a=e.pageX,l=e.pageY),t?(this.origPageX=a,this.origPageY=l):(o=a-this.origPageX,u=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:o,deltaY:u}}}function HD(n){return n.button===0&&!n.ctrlKey}function zD(){Wd+=1,setTimeout(()=>{Wd-=1},jf.touchMouseIgnoreWait)}function BD(){To+=1,To===1&&window.addEventListener("touchmove",gx,{passive:!1})}function $D(){To-=1,To||window.removeEventListener("touchmove",gx,{passive:!1})}function gx(n){Vd&&n.preventDefault()}class WD{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",fa(r,{left:a.left,top:a.top}),e1(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(lf(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&fa(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),fa(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class yx extends Af{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class vx extends yx{constructor(e,t){super(new EA(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return SA(this.scrollController.el)}}class VD extends yx{constructor(e){super(new kA,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const ky=typeof performance=="function"?performance.now:Date.now;class qD{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=ky();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,a=t-window.scrollY,l=this.pointerScreenY===null?0:a-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ky()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:a}=this,l=a-e.distance,o=l*l/(a*a)*this.maxVelocity*t,u=1;switch(e.name){case"left":u=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*u);break;case"top":u=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*u);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,a=null,l=this.scrollCaches||[];for(let o of l){let u=o.clientRect,h=e-u.left,p=u.right-e,g=t-u.top,v=u.bottom-t;h>=0&&p>=0&&g>=0&&v>=0&&(g<=r&&this.everMovedUp&&o.canScrollUp()&&(!a||a.distance>g)&&(a={scrollCache:o,name:"top",distance:g}),v<=r&&this.everMovedDown&&o.canScrollDown()&&(!a||a.distance>v)&&(a={scrollCache:o,name:"bottom",distance:v}),h<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!a||a.distance>h)&&(a={scrollCache:o,name:"left",distance:h}),p<=r&&this.everMovedRight&&o.canScrollRight()&&(!a||a.distance>p)&&(a={scrollCache:o,name:"right",distance:p}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new VD(!1):new vx(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class ja extends NA{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,t1(document.body),r1(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let l=this.minDistance,o,{deltaX:u,deltaY:h}=a;o=u*u+h*h,o>=l*l&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,n1(document.body),s1(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new mx(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new WD,this.autoScroller=new qD}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class YD{constructor(e){this.el=e,this.origRect=Cf(e),this.scrollCaches=j0(e).map(t=>new vx(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let a of this.scrollCaches)if(!GD(a.getEventTarget())&&!cA(r,a.clientRect))return!1;return!0}}function GD(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Wo{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new $o}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,a=e.subjectEl,l;a instanceof HTMLElement&&(l=Cf(a),r=uA(r,l));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&l){let u=C0(l,o.rect);u&&(r=dA(u))}this.coordAdjust=fA(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Vo(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Ln(this.droppableStore,e=>(e.component.prepareHits(),new YD(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:a}=this,l=null;for(let o in r){let u=r[o].component,h=a[o];if(h&&h.isWithinClipping(e,t)){let p=h.computeLeft(),g=h.computeTop(),v=e-p,x=t-g,{origRect:w}=h,S=w.right-w.left,_=w.bottom-w.top;if(v>=0&&v<S&&x>=0&&x<_){let E=u.queryHit(v,x,S,_);E&&zo(E.dateProfile.activeRange,E.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(v+p-window.scrollX,x+g-window.scrollY)))&&(!l||E.layer>l.layer)&&(E.componentId=o,E.context=u.context,E.rect.left+=p,E.rect.right+=p,E.rect.top+=g,E.rect.bottom+=g,l=E)}}}return l}}function Vo(n,e){return!n&&!e?!0:!!n!=!!e?!1:JC(n.dateSpan,e.dateSpan)}function xx(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,QD(n,e.dateEnv)),t}function QD(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class ZD extends gi{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:a}=this,l=r.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(l))},this.handleDragEnd=r=>{let{component:a}=this,{pointer:l}=this.dragging;if(!l.wasTouchScroll){let{initialHit:o,finalHit:u}=this.hitDragging;if(o&&u&&Vo(o,u)){let{context:h}=a,p=Object.assign(Object.assign({},xx(o.dateSpan,h)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",p)}}},this.dragging=new ja(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Wo(this.dragging,Ef(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class KD extends gi{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:u,dragging:h}=this,{options:p}=u.context,g=p.selectable&&u.isValidDateDownEl(o.origEvent.target);h.setIgnoreMove(!g),h.delay=o.isTouch?JD(u):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,u)=>{let{context:h}=this.component,p=null,g=!1;if(o){let v=this.hitDragging.initialHit;o.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,o)||(p=XD(v,o,h.pluginHooks.dateSelectionTransformers)),(!p||!IA(p,o.dateProfile,h))&&(g=!0,p=null)}p?h.dispatch({type:"SELECT_DATES",selection:p}):u||h.dispatch({type:"UNSELECT_DATES"}),g?of():cf(),u||(this.dragSelection=p)},this.handlePointerUp=o=>{this.dragSelection&&(g0(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,a=this.dragging=new ja(e.el);a.touchScrollAllowed=!1,a.minDistance=r.selectMinDistance||0,a.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new Wo(this.dragging,Ef(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function JD(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function XD(n,e,t){let r=n.dateSpan,a=e.dateSpan,l=[r.range.start,r.range.end,a.range.start,a.range.end];l.sort(c1);let o={};for(let u of t){let h=u(n,e);if(h===!1)return null;h&&Object.assign(o,h)}return o.range={start:l[0],end:l[3]},o.allDay=r.allDay,o}class Da extends gi{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let u=o.origEvent.target,{component:h,dragging:p}=this,{mirror:g}=p,{options:v}=h.context,x=h.context;this.subjectEl=o.subjectEl;let w=this.subjectSeg=fi(o.subjectEl),_=(this.eventRange=w.eventRange).instance.instanceId;this.relevantEvents=wf(x.getCurrentData().eventStore,_),p.minDistance=o.isTouch?0:v.eventDragMinDistance,p.delay=o.isTouch&&_!==h.props.eventSelection?tT(h):null,v.fixedMirrorParent?g.parentNode=v.fixedMirrorParent:g.parentNode=yt(u,".fc"),g.revertDuration=v.dragRevertDuration;let E=h.isValidSegDownEl(u)&&!yt(u,".fc-event-resizer");p.setIgnoreMove(!E),this.isDragging=E&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let u=this.component.context,h=this.eventRange,p=h.instance.instanceId;o.isTouch?p!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(o),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new qe(u,h.def,h.instance),jsEvent:o.origEvent,view:u.viewApi}))},this.handleHitUpdate=(o,u)=>{if(!this.isDragging)return;let h=this.relevantEvents,p=this.hitDragging.initialHit,g=this.component.context,v=null,x=null,w=null,S=!1,_={affectedEvents:h,mutatedEvents:Ft(),isEvent:!0};if(o){v=o.context;let E=v.options;g===v||E.editable&&E.droppable?(x=eT(p,o,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),x&&(w=_f(h,v.getCurrentData().eventUiBases,x,v),_.mutatedEvents=w,L0(_,o.dateProfile,v)||(S=!0,x=null,w=null,_.mutatedEvents=Ft()))):v=null}this.displayDrag(v,_),S?of():cf(),u||(g===v&&Vo(p,o)&&(x=null),this.dragging.setMirrorNeedsRevert(!x),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=x,this.mutatedRelevantEvents=w)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let u=this.component.context,h=u.viewApi,{receivingContext:p,validMutation:g}=this,v=this.eventRange.def,x=this.eventRange.instance,w=new qe(u,v,x),S=this.relevantEvents,_=this.mutatedRelevantEvents,{finalHit:E}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:w,jsEvent:o.origEvent,view:h}),g){if(p===u){let C=new qe(u,_.defs[v.defId],x?_.instances[x.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:_});let U={oldEvent:w,event:C,relatedEvents:ts(_,u,x),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:S})}},I={};for(let T of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(I,T(g,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},U),I),{el:o.subjectEl,delta:g.datesDelta,jsEvent:o.origEvent,view:h})),u.emitter.trigger("eventChange",U)}else if(p){let C={event:w,relatedEvents:ts(S,u,x),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:S})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},C),{draggedEl:o.subjectEl,view:h})),u.dispatch({type:"REMOVE_EVENTS",eventStore:S}),u.emitter.trigger("eventRemove",C);let U=_.defs[v.defId],I=_.instances[x.instanceId],T=new qe(p,U,I);p.dispatch({type:"MERGE_EVENTS",eventStore:_});let W={event:T,relatedEvents:ts(_,p,I),revert(){p.dispatch({type:"REMOVE_EVENTS",eventStore:_})}};p.emitter.trigger("eventAdd",W),o.isTouch&&p.dispatch({type:"SELECT_EVENT",eventInstanceId:x.instanceId}),p.emitter.trigger("drop",Object.assign(Object.assign({},xx(E.dateSpan,p)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:E.context.viewApi})),p.emitter.trigger("eventReceive",Object.assign(Object.assign({},W),{draggedEl:o.subjectEl,view:E.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,a=this.dragging=new ja(e.el);a.pointer.selector=Da.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new Wo(this.dragging,Ud);l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,a=this.receivingContext;a&&a!==e&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Ft(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Da.SELECTOR=".fc-event-draggable, .fc-event-resizable";function eT(n,e,t,r){let a=n.dateSpan,l=e.dateSpan,o=a.range.start,u=l.range.start,h={};a.allDay!==l.allDay&&(h.allDay=l.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,l.allDay?o=Be(t):o=t);let p=Ks(o,u,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);p.milliseconds&&(h.allDay=!1);let g={datesDelta:p,standardProps:h};for(let v of r)v(g,n,e);return g}function tT(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class nT extends gi{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let{component:o}=this,u=this.querySegEl(l),h=fi(u),p=this.eventRange=h.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&this.component.props.eventSelection!==p.instance.instanceId)},this.handleDragStart=l=>{let{context:o}=this.component,u=this.eventRange;this.relevantEvents=wf(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(l);this.draggingSegEl=h,this.draggingSeg=fi(h),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:h,event:new qe(o,u.def,u.instance),jsEvent:l.origEvent,view:o.viewApi})},this.handleHitUpdate=(l,o,u)=>{let{context:h}=this.component,p=this.relevantEvents,g=this.hitDragging.initialHit,v=this.eventRange.instance,x=null,w=null,S=!1,_={affectedEvents:p,mutatedEvents:Ft(),isEvent:!0};l&&(l.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,l)||(x=rT(g,l,u.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),x&&(w=_f(p,h.getCurrentData().eventUiBases,x,h),_.mutatedEvents=w,L0(_,l.dateProfile,h)||(S=!0,x=null,w=null,_.mutatedEvents=null)),w?h.dispatch({type:"SET_EVENT_RESIZE",state:_}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),S?of():cf(),o||(x&&Vo(g,l)&&(x=null),this.validMutation=x,this.mutatedRelevantEvents=w)},this.handleDragEnd=l=>{let{context:o}=this.component,u=this.eventRange.def,h=this.eventRange.instance,p=new qe(o,u,h),g=this.relevantEvents,v=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:p,jsEvent:l.origEvent,view:o.viewApi}),this.validMutation){let x=new qe(o,v.defs[u.defId],h?v.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:v});let w={oldEvent:p,event:x,relatedEvents:ts(v,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},w),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Te(0),endDelta:this.validMutation.endDelta||Te(0),jsEvent:l.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",w)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new ja(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new Wo(this.dragging,Ef(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return yt(e.subjectEl,".fc-event")}}function rT(n,e,t,r){let a=n.context.dateEnv,l=n.dateSpan.range.start,o=e.dateSpan.range.start,u=Ks(l,o,a,n.largeUnit);if(t){if(a.add(r.start,u)<r.end)return{startDelta:u}}else if(a.add(r.end,u)>r.start)return{endDelta:u};return null}class sT{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let a=this.context.options.unselectCancel,l=Yv(r.origEvent);this.matchesCancel=!!yt(l,a),this.matchesEvent=!!yt(l,Da.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:a}=this,{documentPointer:l}=this,o=a.getCurrentData();if(!l.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let u=a.options.unselectAuto;u&&(!u||!this.matchesCancel)&&a.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new mx(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const iT={fixedMirrorParent:B},aT={dateClick:B,eventDragStart:B,eventDragStop:B,eventDrop:B,eventResizeStart:B,eventResizeStop:B,eventResize:B,drop:B,eventReceive:B,eventLeave:B};jf.dataAttrPrefix="";var lT=Un({name:"@fullcalendar/interaction",componentInteractions:[ZD,KD,Da,nT],calendarInteractions:[sT],elementDraggingImpl:ja,optionRefiners:iT,listenerRefiners:aT}),co={exports:{}},oT=co.exports,Cy;function cT(){return Cy||(Cy=1,function(n,e){(function(t,r){n.exports=r()})(oT,function(){var t=1e3,r=6e4,a=36e5,l="millisecond",o="second",u="minute",h="hour",p="day",g="week",v="month",x="quarter",w="year",S="date",_="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(fe){var ie=["th","st","nd","rd"],ne=fe%100;return"["+fe+(ie[(ne-20)%10]||ie[ne]||ie[0])+"]"}},I=function(fe,ie,ne){var re=String(fe);return!re||re.length>=ie?fe:""+Array(ie+1-re.length).join(ne)+fe},T={s:I,z:function(fe){var ie=-fe.utcOffset(),ne=Math.abs(ie),re=Math.floor(ne/60),$=ne%60;return(ie<=0?"+":"-")+I(re,2,"0")+":"+I($,2,"0")},m:function fe(ie,ne){if(ie.date()<ne.date())return-fe(ne,ie);var re=12*(ne.year()-ie.year())+(ne.month()-ie.month()),$=ie.clone().add(re,v),ee=ne-$<0,Q=ie.clone().add(re+(ee?-1:1),v);return+(-(re+(ne-$)/(ee?$-Q:Q-$))||0)},a:function(fe){return fe<0?Math.ceil(fe)||0:Math.floor(fe)},p:function(fe){return{M:v,y:w,w:g,d:p,D:S,h,m:u,s:o,ms:l,Q:x}[fe]||String(fe||"").toLowerCase().replace(/s$/,"")},u:function(fe){return fe===void 0}},W="en",P={};P[W]=U;var N="$isDayjsObject",j=function(fe){return fe instanceof Me||!(!fe||!fe[N])},L=function fe(ie,ne,re){var $;if(!ie)return W;if(typeof ie=="string"){var ee=ie.toLowerCase();P[ee]&&($=ee),ne&&(P[ee]=ne,$=ee);var Q=ie.split("-");if(!$&&Q.length>1)return fe(Q[0])}else{var R=ie.name;P[R]=ie,$=R}return!re&&$&&(W=$),$||!re&&W},G=function(fe,ie){if(j(fe))return fe.clone();var ne=typeof ie=="object"?ie:{};return ne.date=fe,ne.args=arguments,new Me(ne)},oe=T;oe.l=L,oe.i=j,oe.w=function(fe,ie){return G(fe,{locale:ie.$L,utc:ie.$u,x:ie.$x,$offset:ie.$offset})};var Me=function(){function fe(ne){this.$L=L(ne.locale,null,!0),this.parse(ne),this.$x=this.$x||ne.x||{},this[N]=!0}var ie=fe.prototype;return ie.parse=function(ne){this.$d=function(re){var $=re.date,ee=re.utc;if($===null)return new Date(NaN);if(oe.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var Q=$.match(E);if(Q){var R=Q[2]-1||0,V=(Q[7]||"0").substring(0,3);return ee?new Date(Date.UTC(Q[1],R,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,V)):new Date(Q[1],R,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,V)}}return new Date($)}(ne),this.init()},ie.init=function(){var ne=this.$d;this.$y=ne.getFullYear(),this.$M=ne.getMonth(),this.$D=ne.getDate(),this.$W=ne.getDay(),this.$H=ne.getHours(),this.$m=ne.getMinutes(),this.$s=ne.getSeconds(),this.$ms=ne.getMilliseconds()},ie.$utils=function(){return oe},ie.isValid=function(){return this.$d.toString()!==_},ie.isSame=function(ne,re){var $=G(ne);return this.startOf(re)<=$&&$<=this.endOf(re)},ie.isAfter=function(ne,re){return G(ne)<this.startOf(re)},ie.isBefore=function(ne,re){return this.endOf(re)<G(ne)},ie.$g=function(ne,re,$){return oe.u(ne)?this[re]:this.set($,ne)},ie.unix=function(){return Math.floor(this.valueOf()/1e3)},ie.valueOf=function(){return this.$d.getTime()},ie.startOf=function(ne,re){var $=this,ee=!!oe.u(re)||re,Q=oe.p(ne),R=function(De,Re){var Rt=oe.w($.$u?Date.UTC($.$y,Re,De):new Date($.$y,Re,De),$);return ee?Rt:Rt.endOf(p)},V=function(De,Re){return oe.w($.toDate()[De].apply($.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(Re)),$)},q=this.$W,K=this.$M,de=this.$D,we="set"+(this.$u?"UTC":"");switch(Q){case w:return ee?R(1,0):R(31,11);case v:return ee?R(1,K):R(0,K+1);case g:var Ce=this.$locale().weekStart||0,Ee=(q<Ce?q+7:q)-Ce;return R(ee?de-Ee:de+(6-Ee),K);case p:case S:return V(we+"Hours",0);case h:return V(we+"Minutes",1);case u:return V(we+"Seconds",2);case o:return V(we+"Milliseconds",3);default:return this.clone()}},ie.endOf=function(ne){return this.startOf(ne,!1)},ie.$set=function(ne,re){var $,ee=oe.p(ne),Q="set"+(this.$u?"UTC":""),R=($={},$[p]=Q+"Date",$[S]=Q+"Date",$[v]=Q+"Month",$[w]=Q+"FullYear",$[h]=Q+"Hours",$[u]=Q+"Minutes",$[o]=Q+"Seconds",$[l]=Q+"Milliseconds",$)[ee],V=ee===p?this.$D+(re-this.$W):re;if(ee===v||ee===w){var q=this.clone().set(S,1);q.$d[R](V),q.init(),this.$d=q.set(S,Math.min(this.$D,q.daysInMonth())).$d}else R&&this.$d[R](V);return this.init(),this},ie.set=function(ne,re){return this.clone().$set(ne,re)},ie.get=function(ne){return this[oe.p(ne)]()},ie.add=function(ne,re){var $,ee=this;ne=Number(ne);var Q=oe.p(re),R=function(K){var de=G(ee);return oe.w(de.date(de.date()+Math.round(K*ne)),ee)};if(Q===v)return this.set(v,this.$M+ne);if(Q===w)return this.set(w,this.$y+ne);if(Q===p)return R(1);if(Q===g)return R(7);var V=($={},$[u]=r,$[h]=a,$[o]=t,$)[Q]||1,q=this.$d.getTime()+ne*V;return oe.w(q,this)},ie.subtract=function(ne,re){return this.add(-1*ne,re)},ie.format=function(ne){var re=this,$=this.$locale();if(!this.isValid())return $.invalidDate||_;var ee=ne||"YYYY-MM-DDTHH:mm:ssZ",Q=oe.z(this),R=this.$H,V=this.$m,q=this.$M,K=$.weekdays,de=$.months,we=$.meridiem,Ce=function(Re,Rt,Hn,wn){return Re&&(Re[Rt]||Re(re,ee))||Hn[Rt].slice(0,wn)},Ee=function(Re){return oe.s(R%12||12,Re,"0")},De=we||function(Re,Rt,Hn){var wn=Re<12?"AM":"PM";return Hn?wn.toLowerCase():wn};return ee.replace(C,function(Re,Rt){return Rt||function(Hn){switch(Hn){case"YY":return String(re.$y).slice(-2);case"YYYY":return oe.s(re.$y,4,"0");case"M":return q+1;case"MM":return oe.s(q+1,2,"0");case"MMM":return Ce($.monthsShort,q,de,3);case"MMMM":return Ce(de,q);case"D":return re.$D;case"DD":return oe.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return Ce($.weekdaysMin,re.$W,K,2);case"ddd":return Ce($.weekdaysShort,re.$W,K,3);case"dddd":return K[re.$W];case"H":return String(R);case"HH":return oe.s(R,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return De(R,V,!0);case"A":return De(R,V,!1);case"m":return String(V);case"mm":return oe.s(V,2,"0");case"s":return String(re.$s);case"ss":return oe.s(re.$s,2,"0");case"SSS":return oe.s(re.$ms,3,"0");case"Z":return Q}return null}(Re)||Q.replace(":","")})},ie.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ie.diff=function(ne,re,$){var ee,Q=this,R=oe.p(re),V=G(ne),q=(V.utcOffset()-this.utcOffset())*r,K=this-V,de=function(){return oe.m(Q,V)};switch(R){case w:ee=de()/12;break;case v:ee=de();break;case x:ee=de()/3;break;case g:ee=(K-q)/6048e5;break;case p:ee=(K-q)/864e5;break;case h:ee=K/a;break;case u:ee=K/r;break;case o:ee=K/t;break;default:ee=K}return $?ee:oe.a(ee)},ie.daysInMonth=function(){return this.endOf(v).$D},ie.$locale=function(){return P[this.$L]},ie.locale=function(ne,re){if(!ne)return this.$L;var $=this.clone(),ee=L(ne,re,!0);return ee&&($.$L=ee),$},ie.clone=function(){return oe.w(this.$d,this)},ie.toDate=function(){return new Date(this.valueOf())},ie.toJSON=function(){return this.isValid()?this.toISOString():null},ie.toISOString=function(){return this.$d.toISOString()},ie.toString=function(){return this.$d.toUTCString()},fe}(),je=Me.prototype;return G.prototype=je,[["$ms",l],["$s",o],["$m",u],["$H",h],["$W",p],["$M",v],["$y",w],["$D",S]].forEach(function(fe){je[fe[1]]=function(ie){return this.$g(ie,fe[0],fe[1])}}),G.extend=function(fe,ie){return fe.$i||(fe(ie,Me,G),fe.$i=!0),G},G.locale=L,G.isDayjs=j,G.unix=function(fe){return G(1e3*fe)},G.en=P[W],G.Ls=P,G.p={},G})}(co)),co.exports}var uT=cT();const le=Ro(uT),dT=[{value:"exercise",label:"Exercise",color:"#f59e0b"},{value:"study",label:"Study",color:"#3b82f6"},{value:"spiritual",label:"Spiritual",color:"#ec4899"},{value:"work",label:"Work",color:"#10b981"},{value:"personal",label:"Personal",color:"#6366f1"},{value:"family",label:"Family",color:"#ef4444"},{value:"hygiene",label:"Hygiene",color:"#0ea5e9"},{value:"meal",label:"Meal",color:"#65a30d"},{value:"other",label:"Other",color:"#6b7280"}],fT=[{value:"none",label:"No Repeat"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"weekdays",label:"Weekdays Only"},{value:"weekends",label:"Weekends Only"}],hT=[{value:"private",label:"Private"},{value:"family",label:"Family"},{value:"public",label:"Public"}],to=[{name:"Lucid Skybell",url:"/alarms/lucid-skybell.mp3"},{name:"Dream Siren",url:"/alarms/dream-siren.mp3"},{name:"Vanilla Alert",url:"/alarms/vanilla-alert.mp3"},{name:"Echo Pulse",url:"/alarms/echo-pulse.mp3"},{name:"Surreal Ringtone",url:"/alarms/surreal-ringtone.mp3"}];function pT({isOpen:n,onClose:e,onSave:t,onDelete:r,task:a,initialDate:l}){const[o,u]=O.useState({title:"",category:"other",start_time:"",end_time:"",repeat_pattern:"none",alarm:!1,custom_sound_path:localStorage.getItem("defaultAlarmSound")||to[0].url,visibility:"private",completed:!1}),{playAudio:h}=Lo();O.useEffect(()=>{if(a)u({title:a.title||"",category:a.category||"other",start_time:a.start_time?le(a.start_time).format("YYYY-MM-DDTHH:mm"):"",end_time:a.end_time?le(a.end_time).format("YYYY-MM-DDTHH:mm"):"",repeat_pattern:a.repeat_pattern||"none",alarm:a.alarm||!1,custom_sound_path:a.custom_sound_path||localStorage.getItem("defaultAlarmSound")||to[0].url,visibility:a.visibility||"private",completed:a.completed||!1});else if(l){const x=le(l).hour(9).minute(0).format("YYYY-MM-DDTHH:mm"),w=le(l).hour(10).minute(0).format("YYYY-MM-DDTHH:mm");u({title:"",category:"other",start_time:x,end_time:w,repeat_pattern:"none",alarm:!1,custom_sound_path:localStorage.getItem("defaultAlarmSound")||to[0].url,visibility:"private",completed:!1})}},[a,l]);const p=x=>{if(x.preventDefault(),!o.title.trim()){alert("Please enter a task title");return}if(!o.start_time){alert("Please select a start time");return}t({title:o.title.trim(),category:o.category,start_time:le(o.start_time).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:o.end_time?le(o.end_time).format("YYYY-MM-DDTHH:mm:ssZ"):null,repeat_pattern:o.repeat_pattern,alarm:o.alarm,custom_sound_path:o.custom_sound_path,visibility:o.visibility,completed:o.completed})},g=(x,w)=>{u(S=>({...S,[x]:w}))},v=()=>{if(o.start_time){const x=le(o.start_time).add(1,"hour").format("YYYY-MM-DDTHH:mm");g("end_time",x)}};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-light text-gray-800",children:a?"Edit Task":"Create New Task"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(tf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Task Title"}),d.jsx("input",{type:"text",value:o.title,onChange:x=>g("title",x.target.value),className:"input-dreamy w-full",placeholder:"What needs to be done?",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(vk,{className:"w-4 h-4"}),"Category"]}),d.jsx("select",{value:o.category,onChange:x=>g("category",x.target.value),className:"input-dreamy w-full",children:dT.map(x=>d.jsx("option",{value:x.value,children:x.label},x.value))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Gr,{className:"w-4 h-4"}),"Visibility"]}),d.jsx("select",{value:o.visibility,onChange:x=>g("visibility",x.target.value),className:"input-dreamy w-full",children:hT.map(x=>d.jsx("option",{value:x.value,children:x.label},x.value))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(va,{className:"w-4 h-4"}),"Start Time"]}),d.jsx("input",{type:"datetime-local",value:o.start_time,onChange:x=>g("start_time",x.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(va,{className:"w-4 h-4"}),"End Time",d.jsx("button",{type:"button",onClick:v,className:"text-xs text-blue-500 hover:text-blue-700 ml-2",children:"+1 hour"})]}),d.jsx("input",{type:"datetime-local",value:o.end_time,onChange:x=>g("end_time",x.target.value),className:"input-dreamy w-full"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(bv,{className:"w-4 h-4"}),"Repeat Pattern"]}),d.jsx("select",{value:o.repeat_pattern,onChange:x=>g("repeat_pattern",x.target.value),className:"input-dreamy w-full",children:fT.map(x=>d.jsx("option",{value:x.value,children:x.label},x.value))})]}),d.jsxs("div",{className:"flex flex-wrap gap-6",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:o.alarm,onChange:x=>g("alarm",x.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[d.jsx(mo,{className:"w-4 h-4"}),"Set Alarm"]})]}),o.alarm&&d.jsxs("div",{className:"w-full space-y-1",children:[d.jsx("label",{className:"text-sm text-gray-700",children:"Alarm Sound"}),d.jsx("select",{value:o.custom_sound_path,onChange:x=>g("custom_sound_path",x.target.value),className:"input-dreamy w-full",children:[...to,...JSON.parse(localStorage.getItem("customAlarmSounds")||"[]")].map(x=>d.jsx("option",{value:x.url,children:x.name},x.url))}),d.jsx("button",{type:"button",onClick:()=>h(o.custom_sound_path),className:"text-xs text-blue-500 underline",children:"Test"})]}),a&&d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:o.completed,onChange:x=>g("completed",x.target.checked),className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Mark as Completed"})]})]}),d.jsxs("div",{className:"flex justify-between pt-6",children:[d.jsx("div",{children:a&&r&&d.jsxs("button",{type:"button",onClick:r,className:"btn-dreamy text-red-600 border-red-200 hover:bg-red-50 flex items-center gap-2",children:[d.jsx(yr,{className:"w-4 h-4"}),"Delete Task"]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:a?"Update Task":"Create Task"})]})]})]})]})})}):null}const mT=[{time:"6:30 AM – 7:00 AM",task:"Wake up, brush teeth, floss, exfoliate",category:"hygiene"},{time:"7:00 AM – 8:00 AM",task:"Jog/Exercise",category:"exercise"},{time:"8:00 AM – 8:30 AM",task:"Shower, hygiene",category:"hygiene"},{time:"8:30 AM – 9:00 AM",task:"Make/eat breakfast, grace, dishes",category:"meal"},{time:"9:00 AM – 11:00 AM",task:"Business cold calls",category:"work"},{time:"11:00 AM – 5:00 PM",task:"GED math study (6 hours)",category:"study"},{time:"5:00 PM – 6:00 PM",task:"Scripture & prayer",category:"spiritual"},{time:"6:00 PM – 7:00 PM",task:"Dinner + dishes + kitchen cleanup",category:"meal"},{time:"7:00 PM – 8:00 PM",task:"Personal development book reading",category:"personal"},{time:"8:00 PM – 9:00 PM",task:"Cooking video training",category:"personal"},{time:"9:00 PM – 9:30 PM",task:"PM hygiene",category:"hygiene"},{time:"9:30 PM – 9:45 PM",task:"Final prayer",category:"spiritual"},{time:"9:45 PM",task:"Sleep",category:"other"}],Ay=n=>({exercise:"#f59e0b",study:"#3b82f6",spiritual:"#ec4899",work:"#10b981",personal:"#6366f1",hygiene:"#0ea5e9",meal:"#65a30d",other:"#6b7280"})[n]||"#6b7280";function gT({isOpen:n,onClose:e,onApply:t}){const[r,a]=O.useState(le().format("YYYY-MM-DD")),[l,o]=O.useState(!1),u=async()=>{o(!0);try{await t(r),e()}catch(h){console.error("Failed to apply default schedule:",h)}finally{o(!1)}};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(va,{className:"w-6 h-6 text-blue-400"}),"Default Schedule Template"]}),d.jsx("p",{className:"text-sm text-gray-600/80 font-light mt-1",children:"Apply the complete daily routine designed for 1% better living"})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(tf,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[d.jsx(Aa,{className:"w-4 h-4"}),"Select Date to Apply Schedule"]}),d.jsx("input",{type:"date",value:r,onChange:h=>a(h.target.value),className:"input-dreamy w-full max-w-xs",min:le().format("YYYY-MM-DD")})]}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[d.jsx(_g,{className:"w-5 h-5 text-green-500"}),"Schedule Overview"]}),d.jsx("div",{className:"grid gap-3",children:mT.map((h,p)=>d.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl border border-white/50 hover:bg-white/70 transition-colors",children:[d.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Ay(h.category)}}),d.jsx("div",{className:"text-sm font-medium text-gray-600 min-w-[140px]",children:h.time}),d.jsx("div",{className:"text-sm text-gray-800 flex-1",children:h.task}),d.jsx("div",{className:"text-xs px-2 py-1 rounded-full text-white font-medium capitalize",style:{backgroundColor:Ay(h.category)},children:h.category})]},p))})]}),d.jsxs("div",{className:"bg-blue-50/80 rounded-xl p-4 mb-6",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Schedule Summary"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-blue-600",children:"13"}),d.jsx("div",{className:"text-blue-700",children:"Total Tasks"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-green-600",children:"15h 15m"}),d.jsx("div",{className:"text-green-700",children:"Scheduled Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-purple-600",children:"8"}),d.jsx("div",{className:"text-purple-700",children:"Categories"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-orange-600",children:"3"}),d.jsx("div",{className:"text-orange-700",children:"With Alarms"})]})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("button",{onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsx("button",{onClick:u,disabled:l,className:"btn-dreamy-primary flex items-center gap-2",children:l?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),"Applying..."]}):d.jsxs(d.Fragment,{children:[d.jsx(_g,{className:"w-4 h-4"}),"Apply Schedule to ",le(r).format("MMM D, YYYY")]})})]})]})})}):null}function wx({eventTitle:n,eventTime:e,soundUrl:t,onDismiss:r,onSnooze:a}){const{playAudio:l,stopAudio:o}=Lo(),u=ci.useRef(null);return ci.useEffect(()=>((async()=>{var p,g;try{u.current=await((g=(p=navigator.wakeLock)==null?void 0:p.request)==null?void 0:g.call(p,"screen"))}catch(v){console.error("Wake lock failed",v)}})(),l(t,1,!0),()=>{var p;o(),(p=u.current)==null||p.release().catch(()=>{})}),[t,l,o]),d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 space-y-4 animate-pulse max-w-sm w-full",children:[d.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Alarm!"}),d.jsx("p",{className:"text-lg text-gray-800",children:n}),d.jsx("p",{className:"text-sm text-gray-500",children:e}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:r,className:"btn-dreamy-primary flex-1",children:"Dismiss"}),a&&d.jsx("button",{onClick:a,className:"btn-dreamy flex-1",children:"Snooze 5 min"})]})]})})}function yT({isOpen:n,onClose:e,members:t,onSelect:r}){return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-light text-gray-800",children:"Select Family Member"}),d.jsx("ul",{className:"space-y-2",children:t.map(a=>d.jsx("li",{children:d.jsx("button",{onClick:()=>r(a),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100",children:a.display_name})},a.id))}),d.jsx("div",{className:"text-right pt-2",children:d.jsx("button",{onClick:e,className:"btn-dreamy",children:"Cancel"})})]})})}):null}function Ny(){const{user:n,profile:e}=Yt(),[t,r]=O.useState([]),[a,l]=O.useState([]),[o,u]=O.useState(!0),[h,p]=O.useState(null),[g,v]=O.useState(!1),[x,w]=O.useState(!1),[S,_]=O.useState(null),[E,C]=O.useState("timeGridDay"),U=O.useRef(null),[I,T]=O.useState(null),[W,P]=O.useState([]),[N,j]=O.useState(!1),L=!I||I.id===(n==null?void 0:n.id),[G,oe]=O.useState(null),Me=O.useRef(new Set);O.useEffect(()=>{n&&je()},[n,I]),O.useEffect(()=>{e!=null&&e.family_id&&fe()},[e==null?void 0:e.family_id]),O.useEffect(()=>{const q=setInterval(()=>{const K=Date.now(),de=t.find(we=>{var Ee;if(!((Ee=we.extendedProps)!=null&&Ee.alarm)||Me.current.has(we.id))return!1;const Ce=new Date(we.start).getTime();return Ce<=K&&K-Ce<6e4});de&&(oe(de),Me.current.add(de.id))},3e4);return()=>clearInterval(q)},[t]);const je=async()=>{if(!n)return;const q=I?I.id:n.id;u(!0);try{const{data:K,error:de}=await me.from("tasks").select("*").eq("user_id",q).order("start_time",{ascending:!0});if(de)throw de;l(K||[]),r(ie(K||[]))}catch(K){se.error("Failed to load tasks: "+K.message)}finally{u(!1)}},fe=async()=>{if(e!=null&&e.family_id)try{const{data:q,error:K}=await me.from("users").select("*").eq("family_id",e.family_id).order("created_at",{ascending:!0});if(K)throw K;P(q||[])}catch(q){se.error("Failed to load family members: "+q.message)}},ie=q=>q.map(K=>({id:K.id,title:K.title,start:K.start_time?le(K.start_time).toDate():"",end:K.end_time?le(K.end_time).toDate():"",backgroundColor:re(K.category),borderColor:re(K.category,!0),textColor:"#374151",extendedProps:{category:K.category,completed:K.completed,assignedTo:K.assigned_to,alarm:K.alarm,custom_sound_path:K.custom_sound_path}})),ne=q=>{var K;return((K=q.extendedProps)==null?void 0:K.custom_sound_path)||localStorage.getItem("defaultAlarmSound")||"/alarms/lucid-skybell.mp3"},re=(q,K=!1)=>{const de={exercise:{bg:"#fef3c7",border:"#f59e0b"},study:{bg:"#dbeafe",border:"#3b82f6"},spiritual:{bg:"#fce7f3",border:"#ec4899"},work:{bg:"#d1fae5",border:"#10b981"},personal:{bg:"#e0e7ff",border:"#6366f1"},family:{bg:"#fed7d7",border:"#ef4444"},hygiene:{bg:"#f0f9ff",border:"#0ea5e9"},meal:{bg:"#f7fee7",border:"#65a30d"},default:{bg:"#f3f4f6",border:"#6b7280"}},we=de[q||"default"]||de.default;return K?we.border:we.bg},$=q=>{L&&(p(q.startStr),_(null),v(!0))},ee=q=>{if(!L)return;const K=a.find(de=>de.id===q.event.id);K&&(_(K),p(null),v(!0))},Q=async q=>{if(!(!n||!L))try{if(S){const{error:K}=await me.from("tasks").update({...q,updated_at:new Date().toISOString()}).eq("id",S.id);if(K)throw K;se.success("Task updated successfully!")}else{const{error:K}=await me.from("tasks").insert({...q,user_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(K)throw K;se.success("Task created successfully!")}await je(),v(!1),_(null),p(null)}catch(K){se.error("Failed to save task: "+K.message)}},R=async q=>{if(L)try{const{error:K}=await me.from("tasks").delete().eq("id",q);if(K)throw K;se.success("Task deleted successfully!"),await je(),v(!1),_(null)}catch(K){se.error("Failed to delete task: "+K.message)}},V=async q=>{if(!n||!L)return;const K=[{title:"Wake up, brush teeth, floss, exfoliate",category:"hygiene",start_time:le(`${q}T06:30:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T07:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),alarm:!0},{title:"Jog/Exercise",category:"exercise",start_time:le(`${q}T07:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T08:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),alarm:!0},{title:"Shower, hygiene",category:"hygiene",start_time:le(`${q}T08:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T08:30:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Make/eat breakfast, grace, dishes",category:"meal",start_time:le(`${q}T08:30:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T09:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Business cold calls",category:"work",start_time:le(`${q}T09:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T11:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"GED math study",category:"study",start_time:le(`${q}T11:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T17:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Scripture & prayer",category:"spiritual",start_time:le(`${q}T17:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T18:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Dinner + dishes + kitchen cleanup",category:"meal",start_time:le(`${q}T18:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T19:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Personal development book reading",category:"personal",start_time:le(`${q}T19:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T20:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Cooking video training",category:"personal",start_time:le(`${q}T20:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T21:00:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"PM hygiene",category:"hygiene",start_time:le(`${q}T21:00:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T21:30:00`).format("YYYY-MM-DDTHH:mm:ssZ")},{title:"Final prayer",category:"spiritual",start_time:le(`${q}T21:30:00`).format("YYYY-MM-DDTHH:mm:ssZ"),end_time:le(`${q}T21:45:00`).format("YYYY-MM-DDTHH:mm:ssZ")}];try{const{data:de,error:we}=await me.from("tasks").select("start_time").eq("user_id",n.id).gte("start_time",`${q}T00:00:00`).lt("start_time",`${q}T23:59:59`);if(we)throw we;const Ce=new Set(de==null?void 0:de.map(Re=>le(Re.start_time).format("YYYY-MM-DDTHH:mm:ssZ"))),Ee=K.filter(Re=>!Ce.has(Re.start_time)).map(Re=>({...Re,user_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),completed:!1,visibility:"private"}));if(Ee.length===0){se("Default schedule already applied for this date",{icon:"ℹ️"});return}const{error:De}=await me.from("tasks").insert(Ee);if(De)throw De;se.success("Default schedule applied successfully!"),await je()}catch(de){se.error("Failed to apply default schedule: "+de.message)}};return o?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-300"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(Aa,{className:"w-8 h-8 text-blue-400"}),L?"Life Calendar":`${I==null?void 0:I.display_name}'s Calendar`]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:L?`Welcome back, ${e==null?void 0:e.display_name} (${e==null?void 0:e.relationship_role})`:`Viewing ${I==null?void 0:I.display_name}'s calendar`})]}),d.jsx("div",{className:"flex gap-3",children:L?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>w(!0),className:"btn-dreamy flex items-center gap-2",children:[d.jsx(va,{className:"w-4 h-4"}),"Apply Default Schedule"]}),d.jsxs("button",{onClick:()=>{_(null),p(le().format("YYYY-MM-DD")),v(!0)},className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),"Add Task"]}),d.jsxs("button",{onClick:()=>j(!0),className:"btn-dreamy flex items-center gap-2",children:[d.jsx(Gr,{className:"w-4 h-4"}),"See Family Member's Calendar"]})]}):d.jsx("button",{onClick:()=>{T(null),_(null)},className:"btn-dreamy",children:"Back to Your Calendar"})})]}),d.jsx("div",{className:"card-floating p-6",children:d.jsx(nx,{ref:U,plugins:[eD,UD,lT],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},timeZone:"local",initialView:E,editable:L,selectable:L,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:t,select:$,eventClick:ee,eventContent:q=>d.jsxs("div",{className:"px-2 py-1 rounded-lg text-xs font-medium shadow",style:{backgroundColor:q.event.backgroundColor,border:`1px solid ${q.event.borderColor}`,color:q.event.textColor},children:[d.jsx("span",{children:q.timeText}),d.jsx("div",{children:q.event.title})]}),height:"600px",slotMinTime:"05:00:00",slotMaxTime:"23:00:00",slotDuration:"00:30:00",scrollTime:"06:00:00",eventDisplay:"block",eventBackgroundColor:"transparent",eventBorderColor:"transparent",displayEventTime:!0,allDaySlot:!1})}),g&&d.jsx(pT,{isOpen:g,onClose:()=>{v(!1),_(null),p(null)},onSave:Q,onDelete:S?()=>R(S.id):void 0,task:S,initialDate:h}),x&&d.jsx(gT,{isOpen:x,onClose:()=>w(!1),onApply:V}),N&&d.jsx(yT,{isOpen:N,onClose:()=>j(!1),members:W.filter(q=>q.id!==(n==null?void 0:n.id)),onSelect:q=>{T(q),j(!1)}}),G&&d.jsx(wx,{eventTitle:G.title,eventTime:le(G.start).format("h:mm A"),soundUrl:ne(G),onDismiss:()=>oe(null)})]})}const vT=["Better Husband","Better Wife","Better Mom","Better Dad","Better Son","Better Daughter","Better Leader","Better Student","Better Friend","Better Athlete","Better Professional","Better Human"];function xT(){const{user:n}=Yt(),[e,t]=O.useState([]),[r,a]=O.useState(!0),[l,o]=O.useState(!1),[u,h]=O.useState(le().format("YYYY-MM-DD")),[p,g]=O.useState(null),[v,x]=O.useState({averageScore:0,totalDays:0,streak:0,completedTasks:0});O.useEffect(()=>{n&&w()},[n]);const w=async()=>{if(n){a(!0);try{const{data:C,error:U}=await me.from("growth_logs").select("*").eq("user_id",n.id).order("date",{ascending:!1}).limit(30);if(U)throw U;t(C||[]);const I=le().format("YYYY-MM-DD"),T=C==null?void 0:C.find(W=>W.date===I);g(T||null),await S()}catch(C){se.error("Failed to load growth logs: "+C.message)}finally{a(!1)}}},S=async()=>{var C;if(n)try{const U=await fetch("/functions/v1/task-analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n.id})}),I=await U.json();if(!U.ok)throw new Error(((C=I.error)==null?void 0:C.message)||"Failed");x(I.data)}catch(U){console.error("Analytics error",U),_(e)}},_=C=>{var N;if(C.length===0){x({averageScore:0,totalDays:0,streak:0,completedTasks:0});return}const I=C.reduce((j,L)=>{var G;return j+(parseFloat(((G=L.score_1percent)==null?void 0:G.toString())||"0")||0)},0)/C.length,T=C.reduce((j,L)=>j+(L.completed_tasks||0),0);let W=0;const P=[...C].sort((j,L)=>le(L.date).unix()-le(j.date).unix());for(const j of P)if((parseFloat(((N=j.score_1percent)==null?void 0:N.toString())||"0")||0)>=.8)W++;else break;x({averageScore:Math.round(I*100)/100,totalDays:C.length,streak:W,completedTasks:T})},E=async(C,U,I)=>{if(!n)return;const T=le().format("YYYY-MM-DD");try{const{data:W}=await me.from("tasks").select("completed").eq("user_id",n.id).gte("start_time",T).lt("start_time",le(T).add(1,"day").format("YYYY-MM-DD")),P=(W==null?void 0:W.filter(L=>L.completed).length)||0,N=((W==null?void 0:W.length)||0)-P,j={user_id:n.id,date:T,score_1percent:C,identity_tags:U,completed_tasks:P,missed_tasks:N,notes:I||null,updated_at:new Date().toISOString()};if(p){const{error:L}=await me.from("growth_logs").update(j).eq("id",p.id);if(L)throw L;se.success("Progress updated successfully!")}else{const{error:L}=await me.from("growth_logs").insert({...j,created_at:new Date().toISOString()});if(L)throw L;se.success("Progress logged successfully!")}await w(),await S(),o(!1)}catch(W){se.error("Failed to save progress: "+W.message)}};return r?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(Sv,{className:"w-8 h-8 text-green-400"}),"1% Better Tracker"]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Track your daily progress towards becoming the best version of yourself"})]}),d.jsxs("button",{onClick:()=>o(!0),className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),"Log Today's Progress"]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-green-500 mb-2",children:v.averageScore}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-blue-500 mb-2",children:v.totalDays}),d.jsx("div",{className:"text-sm text-gray-600",children:"Days Tracked"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-orange-500 mb-2",children:v.streak}),d.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-purple-500 mb-2",children:v.completedTasks}),d.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Completed"})]})]}),p?d.jsxs("div",{className:"card-floating p-6",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[d.jsx(jd,{className:"w-5 h-5 text-yellow-500"}),"Today's Progress"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-light text-green-500 mb-1",children:p.score_1percent}),d.jsx("div",{className:"text-sm text-gray-600",children:"1% Better Score"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-xl font-light text-blue-500 mb-1",children:[p.completed_tasks,"/",(p.completed_tasks||0)+(p.missed_tasks||0)]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Tasks Completed"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-gray-700 mb-1",children:"Identity Focus:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:(p.identity_tags||[]).map((C,U)=>d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:C},U))})]})]}),p.notes&&d.jsx("div",{className:"mt-4 p-3 bg-gray-50/80 rounded-lg",children:d.jsx("p",{className:"text-sm text-gray-700",children:p.notes})})]}):d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No progress logged today"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Start tracking your 1% better journey for today"}),d.jsx("button",{onClick:()=>o(!0),className:"btn-dreamy-primary",children:"Log Today's Progress"})]}),d.jsxs("div",{className:"card-floating p-6",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[d.jsx(XE,{className:"w-5 h-5 text-blue-500"}),"Recent Progress"]}),e.length>0?d.jsx("div",{className:"space-y-3",children:e.slice(0,7).map(C=>{var U,I;return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50/80 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"text-sm font-medium text-gray-600",children:le(C.date).format("MMM D")}),d.jsx("div",{className:`text-lg font-medium ${(parseFloat(((U=C.score_1percent)==null?void 0:U.toString())||"0")||0)>=1?"text-green-500":(parseFloat(((I=C.score_1percent)==null?void 0:I.toString())||"0")||0)>=.5?"text-yellow-500":"text-red-500"}`,children:C.score_1percent}),d.jsxs("div",{className:"text-sm text-gray-600",children:[C.completed_tasks,"/",(C.completed_tasks||0)+(C.missed_tasks||0)," tasks"]})]}),d.jsx("div",{className:"flex flex-wrap gap-1",children:(C.identity_tags||[]).slice(0,3).map((T,W)=>d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:T},W))})]},C.id)})}):d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No progress logs yet. Start your 1% better journey today!"})]}),l&&d.jsx(wT,{isOpen:l,onClose:()=>o(!1),onSave:E,existingLog:p})]})}function wT({isOpen:n,onClose:e,onSave:t,existingLog:r}){var x;const[a,l]=O.useState(((x=r==null?void 0:r.score_1percent)==null?void 0:x.toString())||"1"),[o,u]=O.useState((r==null?void 0:r.identity_tags)||[]),[h,p]=O.useState((r==null?void 0:r.notes)||""),g=w=>{w.preventDefault();const S=parseFloat(a);if(isNaN(S)||S<0||S>2){se.error("Please enter a valid score between 0 and 2");return}t(S,o,h)},v=w=>{u(S=>S.includes(w)?S.filter(_=>_!==w):[...S,w])};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h2",{className:"text-2xl font-light text-gray-800",children:[r?"Update":"Log"," Today's Progress"]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:"×"})]}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"growthScore",className:"text-sm font-medium text-gray-700",children:"1% Better Score (0-2)"}),d.jsx("input",{id:"growthScore",name:"growthScore",type:"number",step:"0.1",min:"0",max:"2",value:a,onChange:w=>l(w.target.value),className:"input-dreamy w-full",placeholder:"1.0"}),d.jsx("p",{className:"text-xs text-gray-500",children:"0 = Worse than yesterday, 1 = Same as yesterday, 2 = Much better than yesterday"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Identity Focus (Select all that apply)"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:vT.map(w=>d.jsx("button",{type:"button",onClick:()=>v(w),className:`p-2 text-sm rounded-lg border transition-colors ${o.includes(w)?"bg-purple-100 border-purple-300 text-purple-700":"bg-white/50 border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:w},w))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"growthNotes",className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),d.jsx("textarea",{id:"growthNotes",name:"growthNotes",value:h,onChange:w=>p(w.target.value),className:"input-dreamy w-full h-24 resize-none",placeholder:"What made today special? What did you learn?"})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-dreamy-primary",children:[r?"Update":"Log"," Progress"]})]})]})]})})}):null}const Zs=[{value:"personal",label:"Personal Growth",color:"bg-blue-100 text-blue-700"},{value:"family",label:"Family Love",color:"bg-pink-100 text-pink-700"},{value:"spiritual",label:"Spiritual",color:"bg-purple-100 text-purple-700"},{value:"goals",label:"Goals & Dreams",color:"bg-green-100 text-green-700"},{value:"gratitude",label:"Gratitude",color:"bg-yellow-100 text-yellow-700"}];function bT(){var U,I;const{user:n,profile:e}=Yt(),[t,r]=O.useState([]),[a,l]=O.useState(!0),[o,u]=O.useState(!1),[h,p]=O.useState("all"),[g,v]=O.useState(null),[x,w]=O.useState(0);O.useEffect(()=>{n&&S()},[n,h]);const S=async()=>{if(n){l(!0);try{let T=me.from("affirmations").select("*").eq("user_id",n.id).order("date",{ascending:!1});h!=="all"&&(T=T.eq("type",h));const{data:W,error:P}=await T;if(P)throw P;r(W||[]);const N=le().format("YYYY-MM-DD"),j=W==null?void 0:W.find(L=>L.date===N);v(j||null),_(W||[])}catch(T){se.error("Failed to load affirmations: "+T.message)}finally{l(!1)}}},_=T=>{let W=0;const P=le();for(let N=0;N<30;N++){const j=P.subtract(N,"day").format("YYYY-MM-DD");if(T.some(G=>G.date===j&&G.completed))W++;else if(N>0)break}w(W)},E=async(T,W,P)=>{if(!n)return;const N=le().format("YYYY-MM-DD");try{const j={user_id:n.id,date:N,content:T.trim(),type:W,shared_with:P?[e==null?void 0:e.family_id]:null,completed:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(g){const{error:L}=await me.from("affirmations").update(j).eq("id",g.id);if(L)throw L;se.success("Affirmation updated successfully!")}else{const{error:L}=await me.from("affirmations").insert(j);if(L)throw L;se.success("Affirmation saved successfully!")}await S(),u(!1)}catch(j){se.error("Failed to save affirmation: "+j.message)}},C=async(T,W)=>{try{const{error:P}=await me.from("affirmations").update({is_favorite:!W,updated_at:new Date().toISOString()}).eq("id",T);if(P)throw P;await S(),se.success(W?"Removed from favorites":"Added to favorites")}catch(P){se.error("Failed to update favorite: "+P.message)}};return a?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-400"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(xa,{className:"w-8 h-8 text-pink-400"}),"Daily Affirmations"]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Speak life into your dreams and identity"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("select",{value:h,onChange:T=>p(T.target.value),className:"input-dreamy",children:[d.jsx("option",{value:"all",children:"All Types"}),Zs.map(T=>d.jsx("option",{value:T.value,children:T.label},T.value))]}),d.jsxs("button",{onClick:()=>u(!0),className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),g?"Update Today":"Add Today"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-pink-500 mb-2",children:x}),d.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-purple-500 mb-2",children:t.filter(T=>T.is_favorite).length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Favorites"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-blue-500 mb-2",children:t.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Affirmations"})]})]}),g?d.jsxs("div",{className:"card-floating p-6",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[d.jsx(Aa,{className:"w-5 h-5 text-pink-500"}),"Today's Affirmation"]}),d.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl p-6",children:[d.jsxs("p",{className:"text-lg text-gray-800 leading-relaxed mb-4",children:['"',g.content,'"']}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${((U=Zs.find(T=>T.value===g.type))==null?void 0:U.color)||"bg-gray-100 text-gray-700"}`,children:((I=Zs.find(T=>T.value===g.type))==null?void 0:I.label)||"Other"}),d.jsx("button",{onClick:()=>C(g.id,g.is_favorite||!1),className:`p-2 rounded-full transition-colors ${g.is_favorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,children:d.jsx(jd,{className:`w-5 h-5 ${g.is_favorite?"fill-current":""}`})})]})]})]}):d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No affirmation for today"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Start your day with a powerful affirmation"}),d.jsx("button",{onClick:()=>u(!0),className:"btn-dreamy-primary",children:"Create Today's Affirmation"})]}),d.jsxs("div",{className:"card-floating p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Your Affirmation Journey"}),t.length>0?d.jsx("div",{className:"space-y-4",children:t.map(T=>{var W,P;return d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:le(T.date).format("MMM D, YYYY")}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${((W=Zs.find(N=>N.value===T.type))==null?void 0:W.color)||"bg-gray-100 text-gray-700"}`,children:((P=Zs.find(N=>N.value===T.type))==null?void 0:P.label)||"Other"}),T.shared_with&&d.jsx(gk,{className:"w-4 h-4 text-blue-500"})]}),d.jsx("button",{onClick:()=>C(T.id,T.is_favorite||!1),className:`p-1 rounded-full transition-colors ${T.is_favorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,children:d.jsx(jd,{className:`w-4 h-4 ${T.is_favorite?"fill-current":""}`})})]}),d.jsxs("p",{className:"text-gray-800 leading-relaxed",children:['"',T.content,'"']})]},T.id)})}):d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No affirmations yet. Start your daily affirmation practice!"})]}),o&&d.jsx(ST,{isOpen:o,onClose:()=>u(!1),onSave:E,existingAffirmation:g})]})}function ST({isOpen:n,onClose:e,onSave:t,existingAffirmation:r}){const[a,l]=O.useState((r==null?void 0:r.content)||""),[o,u]=O.useState((r==null?void 0:r.type)||"personal"),[h,p]=O.useState(!!(r!=null&&r.shared_with)),g=v=>{if(v.preventDefault(),!a.trim()){se.error("Please enter an affirmation");return}t(a,o,h)};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[d.jsxs("h2",{className:"text-2xl font-light text-gray-800",children:[r?"Update":"Create"," Today's Affirmation"]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:"×"})]}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"affirmationContent",className:"text-sm font-medium text-gray-700",children:"Your Affirmation"}),d.jsx("textarea",{id:"affirmationContent",name:"affirmationContent",value:a,onChange:v=>l(v.target.value),className:"input-dreamy w-full h-32 resize-none",placeholder:"I am becoming the best version of myself every day...",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"affirmationCategory",className:"text-sm font-medium text-gray-700",children:"Category"}),d.jsx("select",{id:"affirmationCategory",name:"affirmationCategory",value:o,onChange:v=>u(v.target.value),className:"input-dreamy w-full",children:Zs.map(v=>d.jsx("option",{value:v.value,children:v.label},v.value))})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"shareWithFamily",checked:h,onChange:v=>p(v.target.checked),className:"rounded border-gray-300 text-pink-500 focus:ring-pink-500"}),d.jsx("label",{htmlFor:"shareWithFamily",className:"text-sm text-gray-700",children:"Share with family"})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-dreamy-primary",children:[r?"Update":"Save"," Affirmation"]})]})]})]})})}):null}function _T(){var U,I;const{user:n,profile:e}=Yt(),[t,r]=O.useState(null),[a,l]=O.useState([]),[o,u]=O.useState(!0),[h,p]=O.useState(!1),[g,v]=O.useState(!1);O.useEffect(()=>{n&&e&&x()},[n,e]);const x=async()=>{if(!(e!=null&&e.family_id)){u(!1);return}u(!0);try{const{data:T,error:W}=await me.from("family_groups").select("*").eq("id",e.family_id).maybeSingle();if(W)throw W;r(T);const{data:P,error:N}=await me.from("users").select("*").eq("family_id",e.family_id).order("created_at",{ascending:!0});if(N)throw N;l(P||[])}catch(T){se.error("Failed to load family data: "+T.message)}finally{u(!1)}},w=async T=>{if(n)try{const{data:W,error:P}=await me.from("family_groups").insert({family_name:T,created_by:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(P)throw P;const{error:N}=await me.from("users").update({family_id:W.id,updated_at:new Date().toISOString()}).eq("id",n.id);if(N)throw N;se.success("Family created successfully!"),await x(),p(!1)}catch(W){se.error("Failed to create family: "+W.message)}},S=async T=>{if(n)try{const{data:W,error:P}=await me.from("family_groups").select("*").eq("id",T).maybeSingle();if(P)throw P;if(!W){se.error("Family not found");return}const{error:N}=await me.from("users").update({family_id:T,updated_at:new Date().toISOString()}).eq("id",n.id);if(N)throw N;se.success(`Joined ${W.family_name} family!`),await x(),v(!1)}catch(W){se.error("Failed to join family: "+W.message)}},_=async T=>{if(t)try{const P=[...t.milestones||[],T],{error:N}=await me.from("family_groups").update({milestones:P,updated_at:new Date().toISOString()}).eq("id",t.id);if(N)throw N;se.success("Milestone added!"),await x()}catch(W){se.error("Failed to add milestone: "+W.message)}},E=T=>{switch(T==null?void 0:T.toLowerCase()){case"mom":case"wife":return d.jsx(xa,{className:"w-5 h-5 text-pink-500"});case"dad":case"husband":return d.jsx(sk,{className:"w-5 h-5 text-blue-500"});case"son":case"daughter":return d.jsx(JE,{className:"w-5 h-5 text-yellow-500"});default:return d.jsx(Gr,{className:"w-5 h-5 text-gray-500"})}},C=T=>{switch(T==null?void 0:T.toLowerCase()){case"mom":case"wife":return"bg-pink-100 text-pink-700";case"dad":case"husband":return"bg-blue-100 text-blue-700";case"son":case"daughter":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return o?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400"})}):t?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(Gr,{className:"w-8 h-8 text-purple-400"}),t.family_name," Family"]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Growing together, 1% better every day"})]}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Family ID: ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:t.id})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-purple-500 mb-2",children:a.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Family Members"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-blue-500 mb-2",children:t.current_children||0}),d.jsx("div",{className:"text-sm text-gray-600",children:"Children"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-green-500 mb-2",children:((U=t.milestones)==null?void 0:U.length)||0}),d.jsx("div",{className:"text-sm text-gray-600",children:"Milestones"})]}),d.jsxs("div",{className:"card-floating p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-light text-orange-500 mb-2",children:t.planned_children||0}),d.jsx("div",{className:"text-sm text-gray-600",children:"Planned Children"})]})]}),d.jsxs("div",{className:"card-floating p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Family Members"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(T=>d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full flex items-center justify-center",children:E(T.relationship_role)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:T.display_name}),d.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs ${C(T.relationship_role)}`,children:T.relationship_role||"Member"})]})]}),T.growth_identity&&d.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',T.growth_identity,'"']}),T.age&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Age: ",T.age]})]},T.id))})]}),d.jsxs("div",{className:"card-floating p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Family Milestones"}),d.jsxs("button",{onClick:()=>{const T=prompt("Enter a new family milestone:");T&&_(T)},className:"btn-dreamy flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),"Add Milestone"]})]}),((I=t.milestones)==null?void 0:I.length)>0?d.jsx("div",{className:"space-y-3",children:t.milestones.map((T,W)=>d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50/80 rounded-lg",children:[d.jsx(bv,{className:"w-5 h-5 text-yellow-500"}),d.jsx("span",{className:"text-gray-800",children:T})]},W))}):d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No milestones yet. Add your first family milestone!"})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center justify-center gap-3 mb-4",children:[d.jsx(Gr,{className:"w-8 h-8 text-purple-400"}),"Family Management"]}),d.jsx("p",{className:"text-gray-600/80 font-light mb-8",children:"Connect with your family to share schedules, goals, and growth"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"card-floating p-8 text-center",children:[d.jsx(Gr,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-3",children:"Create New Family"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Start a new family group and invite others to join"}),d.jsx("button",{onClick:()=>p(!0),className:"btn-dreamy-primary",children:"Create Family"})]}),d.jsxs("div",{className:"card-floating p-8 text-center",children:[d.jsx(xa,{className:"w-12 h-12 text-pink-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-3",children:"Join Existing Family"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Enter a family ID to join an existing family group"}),d.jsx("button",{onClick:()=>v(!0),className:"btn-dreamy",children:"Join Family"})]})]}),h&&d.jsx(ET,{isOpen:h,onClose:()=>p(!1),onCreate:w}),g&&d.jsx(kT,{isOpen:g,onClose:()=>v(!1),onJoin:S})]})}function ET({isOpen:n,onClose:e,onCreate:t}){const[r,a]=O.useState(""),l=o=>{if(o.preventDefault(),!r.trim()){se.error("Please enter a family name");return}t(r.trim())};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-light text-gray-800 mb-6",children:"Create New Family"}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Family Name"}),d.jsx("input",{type:"text",value:r,onChange:o=>a(o.target.value),className:"input-dreamy w-full",placeholder:"The Smith Family",required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:"Create Family"})]})]})]})})}):null}function kT({isOpen:n,onClose:e,onJoin:t}){const[r,a]=O.useState(""),l=o=>{if(o.preventDefault(),!r.trim()){se.error("Please enter a family ID");return}t(r.trim())};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-light text-gray-800 mb-6",children:"Join Family"}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Family ID"}),d.jsx("input",{type:"text",value:r,onChange:o=>a(o.target.value),className:"input-dreamy w-full font-mono",placeholder:"Enter family ID",required:!0}),d.jsx("p",{className:"text-xs text-gray-500",children:"Ask a family member for the family ID to join their group"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:"Join Family"})]})]})]})})}):null}function CT({isOpen:n,onClose:e,onSave:t,jobs:r,businesses:a,saving:l}){const[o,u]=O.useState("job"),[h,p]=O.useState(le().format("YYYY-MM-DD")),[g,v]=O.useState(""),[x,w]=O.useState(""),[S,_]=O.useState(""),[E,C]=O.useState(""),[U,I]=O.useState(""),[T,W]=O.useState("");if(O.useEffect(()=>{r.length&&!g&&v(r[0].id)},[r,g]),O.useEffect(()=>{a.length&&!x&&w(a[0].id)},[a,x]),!n)return null;const P=N=>{N.preventDefault();const j=parseFloat(E);if(isNaN(j)){se.error("Enter a valid amount");return}const L={type:o,job_id:o==="job"?g:void 0,business_id:o==="business"?x:void 0,date:h,hours_worked:o==="job"&&S?parseFloat(S):void 0,amount:j,expenses:o==="business"&&U?parseFloat(U):void 0,notes:T.trim()||void 0};t(L)};return d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4",children:d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-medium text-gray-800",children:"Add Income"}),d.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-full",children:"×"})]}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"incomeType",className:"text-sm font-medium text-gray-700",children:"Type"}),d.jsxs("select",{id:"incomeType",value:o,onChange:N=>u(N.target.value),className:"input-dreamy w-full",children:[d.jsx("option",{value:"job",children:"Job"}),d.jsx("option",{value:"business",children:"Business"})]})]}),o==="job"?d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"jobId",className:"text-sm font-medium text-gray-700",children:"Job"}),d.jsx("select",{id:"jobId",value:g,onChange:N=>v(N.target.value),className:"input-dreamy w-full",children:r.map(N=>d.jsxs("option",{value:N.id,children:[N.company," - ",N.title]},N.id))})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"businessId",className:"text-sm font-medium text-gray-700",children:"Business"}),d.jsx("select",{id:"businessId",value:x,onChange:N=>w(N.target.value),className:"input-dreamy w-full",children:a.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"incomeDate",className:"text-sm font-medium text-gray-700",children:"Date"}),d.jsx("input",{id:"incomeDate",type:"date",value:h,onChange:N=>p(N.target.value),className:"input-dreamy w-full"})]}),o==="job"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"hours",className:"text-sm font-medium text-gray-700",children:"Hours Worked"}),d.jsx("input",{id:"hours",type:"number",step:"0.1",value:S,onChange:N=>_(N.target.value),className:"input-dreamy w-full",placeholder:"8"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"amount",className:"text-sm font-medium text-gray-700",children:"Amount Earned"}),d.jsx("input",{id:"amount",type:"number",step:"0.01",value:E,onChange:N=>C(N.target.value),className:"input-dreamy w-full",placeholder:"100.00",required:!0})]}),o==="business"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"expenses",className:"text-sm font-medium text-gray-700",children:"Expenses"}),d.jsx("input",{id:"expenses",type:"number",step:"0.01",value:U,onChange:N=>I(N.target.value),className:"input-dreamy w-full",placeholder:"0.00"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes"}),d.jsx("textarea",{id:"notes",value:T,onChange:N=>W(N.target.value),className:"input-dreamy w-full h-20 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsx("button",{type:"submit",className:"btn-dreamy-primary",disabled:l,children:"Save Income"})]})]})]})})})}function AT(){const{user:n}=Yt(),[e,t]=O.useState([]),[r,a]=O.useState([]),[l,o]=O.useState([]),[u,h]=O.useState([]),[p,g]=O.useState(!0),[v,x]=O.useState(!1),[w,S]=O.useState(!1);O.useEffect(()=>{n&&_()},[n]);const _=async()=>{if(n){g(!0);try{const{data:L,error:G}=await me.from("job_income_logs").select("*").eq("user_id",n.id).order("date",{ascending:!1});if(G)throw G;t(L||[]);const{data:oe,error:Me}=await me.from("business_income_logs").select("*").eq("user_id",n.id).order("date",{ascending:!1});if(Me)throw Me;a(oe||[]);const{data:je}=await me.from("jobs").select("id, company, title").eq("user_id",n.id);o(je||[]);const{data:fe}=await me.from("businesses").select("id, name").eq("user_id",n.id);h(fe||[])}catch(L){se.error("Failed to load income logs: "+L.message)}finally{g(!1)}}},E=L=>{const G=l.find(oe=>oe.id===L);return G?`${G.company} - ${G.title}`:"Job"},C=L=>{const G=u.find(oe=>oe.id===L);return(G==null?void 0:G.name)||"Business"},U=async L=>{if(n){S(!0);try{if(L.type==="job"){const{error:G}=await me.from("job_income_logs").insert({user_id:n.id,job_id:L.job_id,date:L.date,hours_worked:L.hours_worked||null,amount_earned:L.amount,notes:L.notes||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(G)throw G}else{const{error:G}=await me.from("business_income_logs").insert({user_id:n.id,business_id:L.business_id,date:L.date,amount_earned:L.amount,expenses:L.expenses||0,notes:L.notes||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(G)throw G}se.success("Income saved!"),await _(),x(!1)}catch(G){se.error("Failed to save income: "+G.message)}finally{S(!1)}}},I=[...e.map(L=>({id:L.id,type:"job",date:L.date,amount:L.amount_earned,name:E(L.job_id),notes:L.notes})),...r.map(L=>({id:L.id,type:"business",date:L.date,amount:L.amount_earned,name:C(L.business_id),notes:L.notes}))].sort((L,G)=>le(G.date).unix()-le(L.date).unix()),T=e.reduce((L,G)=>L+(G.amount_earned||0),0),W=r.reduce((L,G)=>L+(G.amount_earned||0),0),P=r.reduce((L,G)=>L+(G.expenses||0),0),N=W-P,j=T+N;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Income Tracking"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Log earnings from jobs or businesses. Totals include business expenses."})]}),d.jsxs("button",{onClick:()=>x(!0),className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),"Add Income"]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"card-floating p-4 text-center",children:[d.jsxs("div",{className:"text-lg font-medium text-emerald-600",children:["$",T.toFixed(2)]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Job Income"})]}),d.jsxs("div",{className:"card-floating p-4 text-center",children:[d.jsxs("div",{className:"text-lg font-medium text-emerald-600",children:["$",W.toFixed(2)]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Business Revenue"})]}),d.jsxs("div",{className:"card-floating p-4 text-center",children:[d.jsxs("div",{className:"text-lg font-medium text-red-600",children:["-$",P.toFixed(2)]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Business Expenses"})]}),d.jsxs("div",{className:"card-floating p-4 text-center",children:[d.jsxs("div",{className:"text-lg font-medium text-emerald-600",children:["$",j.toFixed(2)]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Income"})]})]}),d.jsx("div",{className:"space-y-4",children:p?d.jsx("div",{className:"flex items-center justify-center h-48",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})}):I.length>0?I.map(L=>d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800",children:L.name}),d.jsx("p",{className:"text-sm text-gray-600",children:le(L.date).format("MMM D, YYYY")})]}),d.jsxs("p",{className:"text-lg font-medium text-emerald-600",children:["$",L.amount.toFixed(2)]})]}),L.notes&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:L.notes})]},L.id)):d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No income logged yet."})}),v&&d.jsx(CT,{isOpen:v,onClose:()=>x(!1),onSave:U,jobs:l,businesses:u,saving:w})]})}const jy=[{id:"addresses",label:"Addresses",icon:uk,color:"text-blue-500"},{id:"vehicles",label:"Vehicles",icon:nk,color:"text-green-500"},{id:"jobs",label:"Jobs",icon:ek,color:"text-purple-500"},{id:"businesses",label:"Businesses",icon:tk,color:"text-orange-500"},{id:"income",label:"Income Tracking",icon:ik,color:"text-emerald-500"}];function NT(){var N;const{user:n}=Yt(),[e,t]=O.useState("addresses"),[r,a]=O.useState([]),[l,o]=O.useState([]),[u,h]=O.useState([]),[p,g]=O.useState([]),[v,x]=O.useState(!0),[w,S]=O.useState(!1),[_,E]=O.useState(null);O.useEffect(()=>{n&&C()},[n,e]);const C=async()=>{if(n){x(!0);try{switch(e){case"addresses":{const{data:j,error:L}=await me.from("addresses").select("*").eq("user_id",n.id);if(L)throw L;a(j||[]);break}case"vehicles":{const{data:j,error:L}=await me.from("vehicles").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});if(L)throw L;o(j||[]);break}case"jobs":{const{data:j,error:L}=await me.from("jobs").select("*").eq("user_id",n.id).order("is_current",{ascending:!1});if(L)throw L;h(j||[]);break}case"businesses":{const{data:j,error:L}=await me.from("businesses").select("*").eq("user_id",n.id).order("start_date",{ascending:!1});if(L)throw L;g(j||[]);break}}}catch(j){se.error("Failed to load data: "+j.message)}finally{x(!1)}}},U=()=>{E(null),S(!0)},I=j=>{E(j),S(!0)},T=async(j,L)=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:G}=await me.from(L).delete().eq("id",j);if(G)throw G;se.success("Item deleted successfully!"),await C()}catch(G){se.error("Failed to delete item: "+G.message)}},W=async j=>{if(!n)return;const L=e,G=new Date().toISOString();try{const oe=_?{...j,updated_at:G}:{...j,user_id:n.id,created_at:G,updated_at:G},Me=_?me.from(L).update(oe).eq("id",_.id):me.from(L).insert(oe),{error:je}=await Me;if(je)throw je;se.success(`Item ${_?"updated":"added"} successfully!`),S(!1),E(null),await C()}catch(oe){se.error("Failed to save item: "+oe.message)}},P=()=>{switch(e){case"addresses":return d.jsxs("div",{className:"space-y-4",children:[r.map(j=>d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"text-sm font-medium text-gray-800 capitalize",children:j.type})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>I(j),className:"p-1 text-gray-500 hover:text-blue-500",children:d.jsx(oa,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(j.id,"addresses"),className:"p-1 text-gray-500 hover:text-red-500",children:d.jsx(yr,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"text-sm text-gray-700",children:[d.jsx("p",{children:j.address_line1}),j.address_line2&&d.jsx("p",{children:j.address_line2}),d.jsxs("p",{children:[j.city,", ",j.state," ",j.zip]}),d.jsx("p",{children:j.country})]})]},j.id)),r.length===0&&d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No addresses added yet."})]});case"vehicles":return d.jsxs("div",{className:"space-y-4",children:[l.map(j=>d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("h4",{className:"font-medium text-gray-800",children:[j.year," ",j.make," ",j.model]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>I(j),className:"p-1 text-gray-500 hover:text-blue-500",children:d.jsx(oa,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(j.id,"vehicles"),className:"p-1 text-gray-500 hover:text-red-500",children:d.jsx(yr,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[j.purchase_date&&d.jsxs("p",{children:["Purchased: ",le(j.purchase_date).format("MMM D, YYYY")]}),j.status&&d.jsxs("p",{children:["Status: ",j.status]}),j.notes&&d.jsxs("p",{className:"col-span-2",children:["Notes: ",j.notes]})]})]},j.id)),l.length===0&&d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No vehicles added yet."})]});case"jobs":return d.jsxs("div",{className:"space-y-4",children:[u.map(j=>d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800",children:j.title}),d.jsx("p",{className:"text-sm text-gray-600",children:j.company})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[j.is_current&&d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Current"}),d.jsx("button",{onClick:()=>I(j),className:"p-1 text-gray-500 hover:text-blue-500",children:d.jsx(oa,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(j.id,"jobs"),className:"p-1 text-gray-500 hover:text-red-500",children:d.jsx(yr,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[j.field&&d.jsxs("p",{children:["Field: ",j.field]}),d.jsxs("p",{children:["Started: ",le(j.start_date).format("MMM D, YYYY")]}),j.end_date&&d.jsxs("p",{children:["Ended: ",le(j.end_date).format("MMM D, YYYY")]}),j.pay_rate&&d.jsxs("p",{children:["Pay: $",j.pay_rate.toLocaleString()," ",j.pay_frequency?`/ ${j.pay_frequency}`:""]})]})]},j.id)),u.length===0&&d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No jobs added yet."})]});case"businesses":return d.jsxs("div",{className:"space-y-4",children:[p.map(j=>d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800",children:j.name}),j.type&&d.jsx("p",{className:"text-sm text-gray-600",children:j.type})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[j.status==="active"&&d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Active"}),d.jsx("button",{onClick:()=>I(j),className:"p-1 text-gray-500 hover:text-blue-500",children:d.jsx(oa,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>T(j.id,"businesses"),className:"p-1 text-gray-500 hover:text-red-500",children:d.jsx(yr,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"text-sm text-gray-600",children:[d.jsxs("p",{children:["Started: ",le(j.start_date).format("MMM D, YYYY")]}),j.status&&d.jsxs("p",{className:"mt-2",children:["Status: ",j.status]})]})]},j.id)),p.length===0&&d.jsx("p",{className:"text-gray-600 text-center py-8",children:"No businesses added yet."})]});case"income":return d.jsx(AT,{});default:return null}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(vv,{className:"w-8 h-8 text-orange-400"}),"Life Logistics"]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Organize your addresses, vehicles, jobs, and business information"})]}),e!=="income"&&d.jsxs("button",{onClick:U,className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),"Add ",(N=jy.find(j=>j.id===e))==null?void 0:N.label.slice(0,-1)]})]}),d.jsx("div",{className:"card-floating p-1",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:jy.map(j=>{const L=j.icon,G=e===j.id;return d.jsxs("button",{onClick:()=>t(j.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${G?"bg-white shadow-sm":"hover:bg-white/50"}`,children:[d.jsx(L,{className:`w-4 h-4 ${G?j.color:"text-gray-500"}`}),d.jsx("span",{className:`text-sm font-medium ${G?"text-gray-800":"text-gray-600"}`,children:j.label})]},j.id)})})}),d.jsx("div",{className:"card-floating p-6",children:v?d.jsx("div",{className:"flex items-center justify-center h-48",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400"})}):P()}),w&&d.jsx(jT,{tab:e,item:_,onClose:()=>S(!1),onSave:W})]})}function jT({tab:n,item:e,onClose:t,onSave:r}){const[a,l]=O.useState(()=>{switch(n){case"addresses":return{type:(e==null?void 0:e.type)||"",address_line1:(e==null?void 0:e.address_line1)||"",address_line2:(e==null?void 0:e.address_line2)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",zip:(e==null?void 0:e.zip)||"",country:(e==null?void 0:e.country)||"",provider:(e==null?void 0:e.provider)||"",ics_url:(e==null?void 0:e.ics_url)||"",start_date:(e==null?void 0:e.start_date)||"",end_date:(e==null?void 0:e.end_date)||"",status:(e==null?void 0:e.status)||"current"};case"vehicles":return{make:(e==null?void 0:e.make)||"",model:(e==null?void 0:e.model)||"",year:(e==null?void 0:e.year)||"",purchase_date:(e==null?void 0:e.purchase_date)||"",status:(e==null?void 0:e.status)||"active",notes:(e==null?void 0:e.notes)||""};case"jobs":return{company:(e==null?void 0:e.company)||"",title:(e==null?void 0:e.title)||"",field:(e==null?void 0:e.field)||"",start_date:(e==null?void 0:e.start_date)||"",end_date:(e==null?void 0:e.end_date)||"",pay_type:(e==null?void 0:e.pay_type)||"",pay_rate:(e==null?void 0:e.pay_rate)||"",pay_frequency:(e==null?void 0:e.pay_frequency)||"",hours_per_week:(e==null?void 0:e.hours_per_week)||"",is_current:(e==null?void 0:e.is_current)||!1};case"businesses":return{name:(e==null?void 0:e.name)||"",type:(e==null?void 0:e.type)||"",start_date:(e==null?void 0:e.start_date)||"",status:(e==null?void 0:e.status)||"active"};default:return{}}}),o=(p,g)=>{l(v=>({...v,[p]:g}))},u=p=>{p.preventDefault(),r(a)},h=()=>{switch(n){case"addresses":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),d.jsx("input",{type:"text",value:a.type,onChange:p=>o("type",p.target.value),className:"input-dreamy w-full",placeholder:"Home",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address Line 1"}),d.jsx("input",{type:"text",value:a.address_line1,onChange:p=>o("address_line1",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address Line 2"}),d.jsx("input",{type:"text",value:a.address_line2,onChange:p=>o("address_line2",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"City"}),d.jsx("input",{type:"text",value:a.city,onChange:p=>o("city",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"State"}),d.jsx("input",{type:"text",value:a.state,onChange:p=>o("state",p.target.value),className:"input-dreamy w-full",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ZIP"}),d.jsx("input",{type:"text",value:a.zip,onChange:p=>o("zip",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Country"}),d.jsx("input",{type:"text",value:a.country,onChange:p=>o("country",p.target.value),className:"input-dreamy w-full",required:!0})]})]})]});case"vehicles":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Make"}),d.jsx("input",{type:"text",value:a.make,onChange:p=>o("make",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Model"}),d.jsx("input",{type:"text",value:a.model,onChange:p=>o("model",p.target.value),className:"input-dreamy w-full",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year"}),d.jsx("input",{type:"number",value:a.year,onChange:p=>o("year",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Purchase Date"}),d.jsx("input",{type:"date",value:a.purchase_date,onChange:p=>o("purchase_date",p.target.value),className:"input-dreamy w-full"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),d.jsx("input",{type:"text",value:a.status,onChange:p=>o("status",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),d.jsx("input",{type:"text",value:a.notes,onChange:p=>o("notes",p.target.value),className:"input-dreamy w-full"})]})]})]});case"jobs":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company"}),d.jsx("input",{type:"text",value:a.company,onChange:p=>o("company",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("input",{type:"text",value:a.title,onChange:p=>o("title",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Field"}),d.jsx("input",{type:"text",value:a.field,onChange:p=>o("field",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pay Rate"}),d.jsx("input",{type:"number",value:a.pay_rate,onChange:p=>o("pay_rate",p.target.value),className:"input-dreamy w-full"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pay Type"}),d.jsx("input",{type:"text",value:a.pay_type,onChange:p=>o("pay_type",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pay Frequency"}),d.jsx("input",{type:"text",value:a.pay_frequency,onChange:p=>o("pay_frequency",p.target.value),className:"input-dreamy w-full"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Hours/Week"}),d.jsx("input",{type:"number",value:a.hours_per_week,onChange:p=>o("hours_per_week",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),d.jsx("input",{type:"date",value:a.start_date,onChange:p=>o("start_date",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),d.jsx("input",{type:"date",value:a.end_date,onChange:p=>o("end_date",p.target.value),className:"input-dreamy w-full"})]})]}),d.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[d.jsx("input",{type:"checkbox",checked:a.is_current,onChange:p=>o("is_current",p.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Current Job"})]})]});case"businesses":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Business Name"}),d.jsx("input",{type:"text",value:a.name,onChange:p=>o("name",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),d.jsx("input",{type:"text",value:a.type,onChange:p=>o("type",p.target.value),className:"input-dreamy w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),d.jsx("input",{type:"date",value:a.start_date,onChange:p=>o("start_date",p.target.value),className:"input-dreamy w-full",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),d.jsxs("select",{value:a.status,onChange:p=>o("status",p.target.value),className:"input-dreamy w-full",children:[d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})]})]});default:return null}};return d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-y-auto max-h-[90vh]",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-xl font-medium text-gray-800 mb-6",children:[e?"Edit":"Add"," ",n.slice(0,-1)]}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[h(),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"btn-dreamy",children:"Cancel"}),d.jsx("button",{type:"submit",className:"btn-dreamy-primary",children:"Save"})]})]})]})})})}const qd=[{value:"trash",label:"Regular Trash",color:"bg-gray-100 text-gray-700",icon:"🗑️"},{value:"recycling",label:"Recycling",color:"bg-green-100 text-green-700",icon:"♻️"},{value:"yard_waste",label:"Yard Waste",color:"bg-brown-100 text-brown-700",icon:"🍃"},{value:"bulk",label:"Bulk Items",color:"bg-blue-100 text-blue-700",icon:"📦"},{value:"hazardous",label:"Hazardous Waste",color:"bg-red-100 text-red-700",icon:"⚠️"}],DT=[{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"custom",label:"Custom"}],bx=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],TT="https://www.republicservices.com/schedule/ics/08889";function RT(){const{user:n}=Yt(),[e,t]=O.useState([]),[r,a]=O.useState([]),[l,o]=O.useState(!0),[u,h]=O.useState(!1),[p,g]=O.useState(null),[v,x]=O.useState([]),[w,S]=O.useState([]);O.useEffect(()=>{n&&_()},[n]);const _=async()=>{if(n){o(!0);try{const{data:P,error:N}=await me.from("garbage_schedule").select("*").order("next_collection",{ascending:!0});if(N)throw N;t(P||[]);const j=le().add(7,"days").format("YYYY-MM-DD"),L=(P||[]).filter(fe=>fe.next_collection<=j);x(L);const{data:G,error:oe}=await me.from("addresses").select("*").eq("user_id",n.id);if(oe)throw oe;a(G||[]);const{data:Me,error:je}=await me.from("garbage_update_logs").select("*").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(5);if(je)throw je;S(Me||[])}catch(P){se.error("Failed to load garbage schedules: "+P.message)}finally{o(!1)}}},E=(P,N,j)=>{const L=bx.findIndex(oe=>oe.value===P.toLowerCase());if(L===-1)return le().format("YYYY-MM-DD");let G=le();for(;G.day()!==L+1;)G=G.add(1,"day");if(j){const oe=le(j);if(G.diff(oe,"days")<7)switch(N){case"weekly":G=G.add(1,"week");break;case"bi-weekly":G=G.add(2,"weeks");break;case"monthly":G=G.add(1,"month");break}}return G.format("YYYY-MM-DD")},C=async P=>{if(n)try{const N=E(P.collection_day,P.frequency,p==null?void 0:p.next_collection),j={...P,next_collection:N,updated_at:new Date().toISOString()};if(p){const{error:L}=await me.from("garbage_schedule").update(j).eq("id",p.id);if(L)throw L;se.success("Schedule updated successfully!")}else{const{error:L}=await me.from("garbage_schedule").insert({...j,created_at:new Date().toISOString()});if(L)throw L;se.success("Schedule created successfully!")}await _(),h(!1),g(null)}catch(N){se.error("Failed to save schedule: "+N.message)}},U=async P=>{if(confirm("Are you sure you want to delete this schedule?"))try{const{error:N}=await me.from("garbage_schedule").delete().eq("id",P);if(N)throw N;se.success("Schedule deleted successfully!"),await _()}catch(N){se.error("Failed to delete schedule: "+N.message)}},I=async P=>{try{const N=E(P.collection_day,P.frequency,le().format("YYYY-MM-DD")),{error:j}=await me.from("garbage_schedule").update({next_collection:N,updated_at:new Date().toISOString()}).eq("id",P.id);if(j)throw j;se.success("Marked as collected! Next collection updated."),await _()}catch(N){se.error("Failed to update collection: "+N.message)}},T=async()=>{var P;if(n)try{const N=await fetch("/functions/v1/auto-garbage-schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n.id,addressId:(P=r[0])==null?void 0:P.id,provider:"republic",icsUrl:TT})}),j=await N.json();if(!N.ok)throw new Error(j.error||"Update failed");se.success("Schedules updated from location"),await _()}catch(N){se.error("Auto update failed: "+N.message)}},W=P=>qd.find(N=>N.value===P)||qd[0];return l?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(yr,{className:"w-8 h-8 text-gray-400"}),"Garbage & Recycling"]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Never miss a collection day again"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>{g(null),h(!0)},className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),"Add Schedule"]}),d.jsxs("button",{onClick:T,className:"btn-dreamy flex items-center gap-2",children:[d.jsx("span",{className:"w-4 h-4",children:"↻"}),"Auto Update"]})]})]}),v.length>0&&d.jsxs("div",{className:"card-floating p-6",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[d.jsx(mo,{className:"w-5 h-5 text-orange-500"}),"Upcoming Collections (Next 7 Days)"]}),d.jsx("div",{className:"grid gap-3",children:v.map(P=>{const N=W(P.waste_type),j=le(P.next_collection).isSame(le(),"day"),L=le(P.next_collection).isSame(le().add(1,"day"),"day");return d.jsx("div",{className:`p-4 rounded-xl border-2 ${j?"bg-red-50 border-red-200":L?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:N.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800",children:N.label}),d.jsxs("p",{className:"text-sm text-gray-600",children:[j?"Today":L?"Tomorrow":le(P.next_collection).format("MMM D"),P.collection_time&&` at ${P.collection_time}`]})]})]}),d.jsx("button",{onClick:()=>I(P),className:"btn-dreamy text-xs",children:"Mark Collected"})]})},P.id)})})]}),d.jsxs("div",{className:"card-floating p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"All Collection Schedules"}),e.length>0?d.jsx("div",{className:"grid gap-4",children:e.map(P=>{const N=W(P.waste_type);return d.jsxs("div",{className:"p-4 bg-gray-50/80 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:N.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800",children:N.label}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Aa,{className:"w-4 h-4"}),P.collection_day,"s"]}),d.jsx("span",{children:P.frequency}),P.collection_time&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(va,{className:"w-4 h-4"}),P.collection_time]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-right text-sm",children:[d.jsx("p",{className:"font-medium text-gray-800",children:"Next Collection"}),d.jsx("p",{className:"text-gray-600",children:le(P.next_collection).format("MMM D, YYYY")})]}),d.jsx("button",{onClick:()=>{g(P),h(!0)},className:"p-2 text-gray-500 hover:text-blue-500",children:d.jsx(oa,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>U(P.id),className:"p-2 text-gray-500 hover:text-red-500",children:d.jsx(xk,{className:"w-4 h-4"})})]})]}),P.notes&&d.jsx("p",{className:"text-sm text-gray-600 bg-white/50 p-2 rounded",children:P.notes})]},P.id)})}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx(yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No schedules yet"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Add your first garbage collection schedule"}),d.jsx("button",{onClick:()=>h(!0),className:"btn-dreamy-primary",children:"Add Schedule"})]})]}),w.length>0&&d.jsxs("div",{className:"card-floating p-6",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center gap-2",children:[d.jsx(ck,{className:"w-5 h-5 text-gray-500"}),"Auto Update History"]}),d.jsx("ul",{className:"space-y-1",children:w.map(P=>d.jsxs("li",{className:"flex justify-between text-sm text-gray-600",children:[d.jsx("span",{children:le(P.created_at).format("MMM D, YYYY")}),d.jsxs("span",{children:[P.upserted_events," events"]})]},P.id))})]}),u&&d.jsx(MT,{isOpen:u,onClose:()=>{h(!1),g(null)},onSave:C,schedule:p,addresses:r})]})}function MT({isOpen:n,onClose:e,onSave:t,schedule:r,addresses:a}){const[l,o]=O.useState({waste_type:(r==null?void 0:r.waste_type)||"trash",collection_day:(r==null?void 0:r.collection_day)||"monday",collection_time:(r==null?void 0:r.collection_time)||"",frequency:(r==null?void 0:r.frequency)||"weekly",address_id:(r==null?void 0:r.address_id)||"",auto_reminder:(r==null?void 0:r.auto_reminder)??!0,notes:(r==null?void 0:r.notes)||""}),u=h=>{h.preventDefault(),t(l)};return n?d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-2xl font-light text-gray-800 mb-6",children:[r?"Edit":"Add"," Collection Schedule"]}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"wasteType",className:"text-sm font-medium text-gray-700",children:"Waste Type"}),d.jsx("select",{id:"wasteType",name:"wasteType",value:l.waste_type,onChange:h=>o(p=>({...p,waste_type:h.target.value})),className:"input-dreamy w-full",children:qd.map(h=>d.jsxs("option",{value:h.value,children:[h.icon," ",h.label]},h.value))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"collectionDay",className:"text-sm font-medium text-gray-700",children:"Collection Day"}),d.jsx("select",{id:"collectionDay",name:"collectionDay",value:l.collection_day,onChange:h=>o(p=>({...p,collection_day:h.target.value})),className:"input-dreamy w-full",children:bx.map(h=>d.jsx("option",{value:h.value,children:h.label},h.value))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"frequency",className:"text-sm font-medium text-gray-700",children:"Frequency"}),d.jsx("select",{id:"frequency",name:"frequency",value:l.frequency,onChange:h=>o(p=>({...p,frequency:h.target.value})),className:"input-dreamy w-full",children:DT.map(h=>d.jsx("option",{value:h.value,children:h.label},h.value))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"collectionTime",className:"text-sm font-medium text-gray-700",children:"Collection Time (Optional)"}),d.jsx("input",{id:"collectionTime",name:"collectionTime",type:"time",value:l.collection_time,onChange:h=>o(p=>({...p,collection_time:h.target.value})),className:"input-dreamy w-full"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"garbageNotes",className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),d.jsx("textarea",{id:"garbageNotes",name:"garbageNotes",value:l.notes,onChange:h=>o(p=>({...p,notes:h.target.value})),className:"input-dreamy w-full h-20 resize-none",placeholder:"Special instructions, bin location, etc."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"autoReminder",checked:l.auto_reminder,onChange:h=>o(p=>({...p,auto_reminder:h.target.checked})),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"autoReminder",className:"text-sm text-gray-700",children:"Send automatic reminders"})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-dreamy",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-dreamy-primary",children:[r?"Update":"Create"," Schedule"]})]})]})]})})}):null}function Sx(){const n=O.useCallback(async()=>{try{await Notification.requestPermission()}catch(r){console.error("Notification permission request failed",r)}},[]),e=O.useCallback(async(r,a,l)=>{var o;try{(o=(await navigator.serviceWorker.ready).active)==null||o.postMessage({type:"schedule-notification",payload:{title:r,options:{...a,requireInteraction:!0},delay:l}})}catch(u){console.error("Failed to schedule notification",u)}},[]),t=O.useCallback(()=>{e("Test Alarm",{body:"This is a test alarm."},5e3)},[e]);return{requestPermission:n,scheduleNotification:e,testAlarm:t}}const IT=[{id:"profile",label:"Profile",icon:_v,color:"text-blue-500"},{id:"audio",label:"Audio & Alarms",icon:mo,color:"text-purple-500"},{id:"notifications",label:"Notifications",icon:mo,color:"text-green-500"},{id:"appearance",label:"Appearance",icon:mk,color:"text-pink-500"},{id:"privacy",label:"Privacy",icon:yk,color:"text-orange-500"},{id:"help",label:"Help & Support",icon:rk,color:"text-gray-500"}],OT=[{value:"mom",label:"Mom"},{value:"dad",label:"Dad"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"partner",label:"Partner"},{value:"individual",label:"Individual"}];function PT(){const{user:n,profile:e,refreshProfile:t}=Yt(),[r,a]=O.useState("profile"),[l,o]=O.useState(!1),{isIncognito:u}=nf(),[h,p]=O.useState({display_name:(e==null?void 0:e.display_name)||"",relationship_role:(e==null?void 0:e.relationship_role)||"individual",age:(e==null?void 0:e.age)||"",bio:(e==null?void 0:e.bio)||"",growth_identity:(e==null?void 0:e.growth_identity)||""}),g=[{name:"Lucid Skybell",url:"/alarms/lucid-skybell.mp3"},{name:"Dream Siren",url:"/alarms/dream-siren.mp3"},{name:"Vanilla Alert",url:"/alarms/vanilla-alert.mp3"},{name:"Echo Pulse",url:"/alarms/echo-pulse.mp3"},{name:"Surreal Ringtone",url:"/alarms/surreal-ringtone.mp3"}],[v,x]=O.useState({entrance_sound:!0,task_alarms:!0,reminder_sounds:!0,default_alarm:localStorage.getItem("defaultAlarmSound")||g[0].url,custom_alarm_file:null,custom_alarm_name:"",custom_alarms:JSON.parse(localStorage.getItem("customAlarmSounds")||"[]")}),{playEntranceSound:w,playAudio:S}=Lo(),{requestPermission:_,testAlarm:E}=Sx(),[C,U]=O.useState(!1);O.useEffect(()=>{var N;e&&p({display_name:e.display_name||"",relationship_role:e.relationship_role||"individual",age:((N=e.age)==null?void 0:N.toString())||"",bio:e.bio||"",growth_identity:e.growth_identity||""})},[e]),O.useEffect(()=>{localStorage.setItem("defaultAlarmSound",v.default_alarm),localStorage.setItem("customAlarmSounds",JSON.stringify(v.custom_alarms))},[v.default_alarm,v.custom_alarms]);const I=async()=>{if(n){o(!0);try{await GE(n.id,{display_name:h.display_name,relationship_role:h.relationship_role,age:h.age?parseInt(h.age.toString()):null,bio:h.bio,growth_identity:h.growth_identity}),await t(),se.success("Profile updated successfully!")}catch(N){se.error("Failed to update profile: "+N.message)}finally{o(!1)}}},T=async()=>{if(!(!v.custom_alarm_file||!n)){o(!0);try{const N=new FileReader;N.onloadend=async()=>{try{const j=N.result,{data:L,error:G}=await me.functions.invoke("audio-upload",{body:{audioData:j,fileName:`alarm-${Date.now()}-${v.custom_alarm_file.name}`,userId:n.id}});if(G)throw G;if(L!=null&&L.publicUrl){const oe=[...v.custom_alarms,{name:v.custom_alarm_name||v.custom_alarm_file.name,url:L.publicUrl}];localStorage.setItem("customAlarmSounds",JSON.stringify(oe)),x(Me=>({...Me,custom_alarm_file:null,custom_alarm_name:"",custom_alarms:oe}))}se.success("Custom alarm uploaded successfully!")}catch(j){se.error("Failed to upload alarm: "+j.message)}finally{o(!1)}},N.readAsDataURL(v.custom_alarm_file)}catch(N){se.error("Failed to process file: "+N.message),o(!1)}}},W=async()=>{if(n)try{const[N,j,L]=await Promise.all([me.from("tasks").select("*").eq("user_id",n.id),me.from("affirmations").select("*").eq("user_id",n.id),me.from("growth_logs").select("*").eq("user_id",n.id)]),G={profile:e,tasks:N.data||[],affirmations:j.data||[],growthLogs:L.data||[],exportDate:new Date().toISOString()},oe=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),Me=URL.createObjectURL(oe),je=document.createElement("a");je.href=Me,je.download=`zenzalife-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(Me),se.success("Data exported successfully!")}catch(N){se.error("Failed to export data: "+N.message)}},P=()=>{switch(r){case"profile":return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"displayName",className:"text-sm font-medium text-gray-700",children:"Display Name"}),d.jsx("input",{id:"displayName",name:"displayName",type:"text",value:h.display_name,onChange:N=>p(j=>({...j,display_name:N.target.value})),className:"input-dreamy w-full",placeholder:"Your name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"relationshipRoleSettings",className:"text-sm font-medium text-gray-700",children:"Role in Family"}),d.jsx("select",{id:"relationshipRoleSettings",name:"relationshipRoleSettings",value:h.relationship_role,onChange:N=>p(j=>({...j,relationship_role:N.target.value})),className:"input-dreamy w-full",children:OT.map(N=>d.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"age",className:"text-sm font-medium text-gray-700",children:"Age (Optional)"}),d.jsx("input",{id:"age",name:"age",type:"number",value:h.age,onChange:N=>p(j=>({...j,age:N.target.value})),className:"input-dreamy w-full max-w-xs",placeholder:"Your age",min:"1",max:"120"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"growthIdentity",className:"text-sm font-medium text-gray-700",children:"Growth Identity"}),d.jsx("input",{id:"growthIdentity",name:"growthIdentity",type:"text",value:h.growth_identity,onChange:N=>p(j=>({...j,growth_identity:N.target.value})),className:"input-dreamy w-full",placeholder:"I am becoming..."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"bio",className:"text-sm font-medium text-gray-700",children:"Bio"}),d.jsx("textarea",{id:"bio",name:"bio",value:h.bio,onChange:N=>p(j=>({...j,bio:N.target.value})),className:"input-dreamy w-full h-24 resize-none",placeholder:"Tell us about yourself..."})]}),d.jsx("button",{onClick:I,disabled:l,className:"btn-dreamy-primary",children:l?"Saving...":"Save Profile"})]});case"audio":return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Sound Settings"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{htmlFor:"defaultAlarm",className:"text-sm font-medium text-gray-700",children:"Default Alarm Sound"}),d.jsx("select",{id:"defaultAlarm",value:v.default_alarm,onChange:N=>{localStorage.setItem("defaultAlarmSound",N.target.value),x(j=>({...j,default_alarm:N.target.value}))},className:"input-dreamy w-full",children:[...g,...v.custom_alarms].map(N=>d.jsx("option",{value:N.url,children:N.name},N.url))}),d.jsx("button",{type:"button",onClick:()=>S(v.default_alarm),className:"text-xs text-blue-500 underline",children:"Test Selected"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"entranceSound",type:"checkbox",checked:v.entrance_sound,onChange:N=>x(j=>({...j,entrance_sound:N.target.checked})),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Play entrance sound on app load"}),d.jsx("button",{onClick:w,className:"text-xs text-blue-500 hover:text-blue-700 underline",children:"Test"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"taskAlarms",type:"checkbox",checked:v.task_alarms,onChange:N=>x(j=>({...j,task_alarms:N.target.checked})),className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Enable task alarms"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"reminderSounds",type:"checkbox",checked:v.reminder_sounds,onChange:N=>x(j=>({...j,reminder_sounds:N.target.checked})),className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Play reminder sounds"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Custom Alarm Upload"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"file",accept:"audio/*",onChange:N=>x(j=>{var L;return{...j,custom_alarm_file:((L=N.target.files)==null?void 0:L[0])||null}}),className:"input-dreamy w-full"}),d.jsx("input",{type:"text",placeholder:"Alarm name",value:v.custom_alarm_name,onChange:N=>x(j=>({...j,custom_alarm_name:N.target.value})),className:"input-dreamy w-full"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Upload your own alarm sound (MP3, WAV, etc.)"}),v.custom_alarm_file&&d.jsxs("button",{onClick:T,disabled:l,className:"btn-dreamy-primary flex items-center gap-2",children:[d.jsx(wk,{className:"w-4 h-4"}),l?"Uploading...":"Upload Alarm"]})]})]})]});case"notifications":return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Notification Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50/80 rounded-xl space-y-3",children:[d.jsx("h4",{className:"font-medium text-blue-900",children:"Browser Notifications"}),d.jsx("p",{className:"text-sm text-blue-700",children:"Get notified about upcoming tasks and reminders"}),u&&d.jsx("p",{className:"text-sm text-red-600",children:"Notifications are disabled in incognito mode."}),d.jsx("button",{onClick:_,className:"btn-dreamy text-sm w-full",children:"Enable Notifications"}),d.jsx("button",{onClick:()=>{E(),setTimeout(()=>U(!0),5e3)},className:"btn-dreamy-primary text-sm w-full",children:"Test Alarm"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"notifyTasks",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Task reminders"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"notifyAffirmations",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Daily affirmation reminders"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"notifyProgress",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Progress tracking reminders"})]})]})]})]});case"appearance":return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Appearance Settings"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Theme"}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"ZenzaLife uses a dreamy, cloud-like aesthetic designed for tranquility"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{className:"btn-dreamy-primary text-sm",children:"Light (Current)"}),d.jsx("button",{className:"btn-dreamy text-sm opacity-50",children:"Dark (Coming Soon)"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"showEntranceAnimation",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Show entrance animation"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"smoothTransitions",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Enable smooth transitions"})]})]})]})]});case"privacy":return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Privacy & Data"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-green-50/80 rounded-xl",children:[d.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Data Export"}),d.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Download all your ZenzaLife data in JSON format"}),d.jsxs("button",{onClick:W,className:"btn-dreamy flex items-center gap-2 text-sm",children:[d.jsx(ak,{className:"w-4 h-4"}),"Export My Data"]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"shareProgress",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Allow family to see my progress"})]}),d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{name:"shareAffirmations",type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-purple-500 focus:ring-purple-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Share affirmations with family"})]})]})]})]});case"help":return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Help & Support"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50/80 rounded-xl",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"About ZenzaLife"}),d.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"A comprehensive family life management platform designed to help you become 1% better every day."}),d.jsx("p",{className:"text-xs text-blue-600",children:"Version 1.0.0 - Built with love for elevated living"})]}),d.jsxs("div",{className:"grid gap-3",children:[d.jsxs("button",{className:"p-3 bg-white/50 rounded-lg text-left hover:bg-white/70 transition-colors",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:"Getting Started Guide"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Learn how to set up your schedule and family"})]}),d.jsxs("button",{className:"p-3 bg-white/50 rounded-lg text-left hover:bg-white/70 transition-colors",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:"Keyboard Shortcuts"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Speed up your workflow with shortcuts"})]}),d.jsxs("button",{className:"p-3 bg-white/50 rounded-lg text-left hover:bg-white/70 transition-colors",children:[d.jsx("h4",{className:"font-medium text-gray-800",children:"Contact Support"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Get help with any issues or questions"})]})]})]})]});default:return null}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-light text-gray-800 flex items-center gap-3",children:[d.jsx(xv,{className:"w-8 h-8 text-gray-400"}),"Settings"]}),d.jsx("p",{className:"text-gray-600/80 font-light mt-1",children:"Customize your ZenzaLife experience"})]}),d.jsx("div",{className:"card-floating p-1",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:IT.map(N=>{const j=N.icon,L=r===N.id;return d.jsxs("button",{onClick:()=>a(N.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${L?"bg-white shadow-sm":"hover:bg-white/50"}`,children:[d.jsx(j,{className:`w-4 h-4 ${L?N.color:"text-gray-500"}`}),d.jsx("span",{className:`text-sm font-medium ${L?"text-gray-800":"text-gray-600"}`,children:N.label})]},N.id)})})}),d.jsx("div",{className:"card-floating p-6",children:P()}),C&&d.jsx(wx,{eventTitle:"Test Alarm",eventTime:new Date().toLocaleTimeString(),soundUrl:v.default_alarm,onDismiss:()=>U(!1),onSnooze:()=>{U(!1),setTimeout(()=>{U(!0)},3e5)}})]})}function LT(){const{user:n}=Yt(),[e,t]=O.useState("checking"),[r,a]=O.useState(!1);if(O.useEffect(()=>{(async()=>{if(n!=null&&n.email)try{const{data:h}=await me.from("mailing_list").select("unsubscribed").eq("email",n.email).maybeSingle();h?h.unsubscribed?t("not-subscribed"):t("subscribed"):t("not-subscribed")}catch(h){console.error("Mailing list check failed",h),t("error")}})()},[n]),e==="checking"||e==="dismissed"||!n)return null;const l=async()=>{if(n.email){a(!0);try{const{error:u}=await me.from("mailing_list").upsert({email:n.email,unsubscribed:!1},{onConflict:"email"});if(u)throw u;se.success("Subscribed for updates!"),t("subscribed")}catch(u){console.error("Subscribe error",u),se.error(u.message||"Subscription failed")}finally{a(!1)}}},o=()=>t("dismissed");return d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full space-y-4 text-center",children:e==="subscribed"?d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-xl font-light text-gray-800",children:"You're on the mailing list"}),d.jsx("p",{className:"text-gray-600 font-light",children:"You'll receive updates, changelogs and family news about upcoming milestones."}),d.jsx("button",{onClick:o,className:"btn-dreamy-primary w-full",children:"Close"})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-xl font-light text-gray-800",children:"Receive Updates?"}),d.jsx("p",{className:"text-gray-600 font-light",children:"Would you like to get emails with changelogs, life updates and family milestones?"}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:l,disabled:r,className:"btn-dreamy-primary flex-1",children:r?"Subscribing...":"Yes, sign me up"}),d.jsx("button",{onClick:o,className:"btn-dreamy flex-1",children:"No Thanks"})]})]})})})}function FT(){const[n,e]=O.useState(!1),[t,r]=O.useState(0),{requestPermission:a,testAlarm:l}=Sx(),{installed:o,isIncognito:u}=nf();O.useEffect(()=>{localStorage.getItem("onboardingComplete")||e(!0)},[]);const h=()=>{localStorage.setItem("onboardingComplete","true"),e(!1)};if(!n)return null;const p=[!o&&{title:"Install ZenzaLife Scheduler",content:d.jsx(Ev,{})},{title:"Enable Notifications",content:d.jsxs("div",{className:"space-y-4 text-center",children:[d.jsx("p",{className:"text-sm text-gray-700",children:"Allow notifications so alarms and reminders can alert you."}),u&&d.jsx("p",{className:"text-sm text-red-600",children:"Notifications cannot be enabled in incognito mode."}),d.jsx("button",{onClick:a,className:"btn-dreamy-primary w-full text-sm",children:"Enable Notifications"}),d.jsx("button",{onClick:l,className:"btn-dreamy w-full text-sm",children:"Test Alarm"})]})},{title:"Platform Notes",content:d.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["For reliable alarms, enable ",d.jsx("strong",{children:"Background App Refresh"})," and"," ",d.jsx("strong",{children:"Time Sensitive Notifications"})," on iOS. On Android, allow ZenzaLife to run without battery optimization."]})}].filter(Boolean),g=p[t];return d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full space-y-4",children:[d.jsx("h2",{className:"text-xl font-light text-gray-800 text-center",children:g.title}),g.content,d.jsxs("div",{className:"flex justify-between pt-4",children:[t>0&&d.jsx("button",{onClick:()=>r(t-1),className:"btn-dreamy text-sm",children:"Back"}),t<p.length-1?d.jsx("button",{onClick:()=>r(t+1),className:"btn-dreamy-primary text-sm",children:"Next"}):d.jsx("button",{onClick:h,className:"btn-dreamy-primary text-sm",children:"Finish"})]})]})})}const UT=[{id:"calendar",label:"Your Calendar",icon:Aa,color:"text-blue-500"},{id:"growth",label:"1% Better",icon:Sv,color:"text-green-500"},{id:"affirmations",label:"Affirmations",icon:xa,color:"text-pink-500"},{id:"family",label:"Family",icon:Gr,color:"text-purple-500"},{id:"logistics",label:"Life Logistics",icon:vv,color:"text-orange-500"},{id:"garbage",label:"Garbage/Recycling",icon:yr,color:"text-gray-500"},{id:"settings",label:"Settings",icon:xv,color:"text-gray-600"}];function Dy(){var p,g;const{user:n,profile:e,signOut:t}=Yt(),[r,a]=O.useState("calendar"),[l,o]=O.useState(!1);O.useEffect(()=>{const v=()=>{window.innerWidth<768&&o(!0)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const u=async()=>{try{await t(),se.success("Signed out successfully")}catch(v){se.error("Failed to sign out: "+v.message)}},h=()=>{switch(r){case"calendar":return d.jsx(Ny,{});case"growth":return d.jsx(xT,{});case"affirmations":return d.jsx(bT,{});case"family":return d.jsx(_T,{});case"logistics":return d.jsx(NT,{});case"garbage":return d.jsx(RT,{});case"settings":return d.jsx(PT,{});default:return d.jsx(Ny,{})}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100",children:[l&&d.jsx("button",{onClick:()=>o(!1),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-full shadow",children:d.jsx(pk,{className:"w-5 h-5 text-gray-700"})}),!l&&d.jsx("div",{className:"md:hidden fixed inset-0 z-30 bg-black/20",onClick:()=>o(!0)}),d.jsxs("div",{className:`fixed left-0 top-0 h-full bg-white/80 backdrop-blur-lg border-r border-white/50 z-40 transform transition-transform duration-300 ${l?"-translate-x-full md:translate-x-0 md:w-16 w-64":"translate-x-0 w-64"}`,children:[d.jsx("div",{className:"p-6 border-b border-white/30",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-400 rounded-lg flex items-center justify-center",children:d.jsx(wv,{className:"w-5 h-5 text-white"})}),!l&&d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-light text-gray-800",children:"ZenzaLife"}),d.jsx("p",{className:"text-xs text-gray-600/80",children:"Scheduler"})]})]})}),d.jsx("div",{className:"p-4 border-b border-white/30",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:((g=(p=e==null?void 0:e.display_name)==null?void 0:p.charAt(0))==null?void 0:g.toUpperCase())||"U"})}),!l&&d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(e==null?void 0:e.display_name)||"User"}),d.jsx("p",{className:"text-xs text-gray-600/80 capitalize",children:(e==null?void 0:e.relationship_role)||"Individual"})]})]})}),d.jsx("nav",{className:"p-4 space-y-2",children:UT.map(v=>{const x=v.icon,w=r===v.id;return d.jsxs("button",{onClick:()=>a(v.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl transition-all duration-200 ${w?"bg-white/70 shadow-sm":"hover:bg-white/40"}`,title:l?v.label:void 0,children:[d.jsx(x,{className:`w-5 h-5 ${w?v.color:"text-gray-600"}`}),!l&&d.jsx("span",{className:`text-sm font-medium ${w?"text-gray-800":"text-gray-600"}`,children:v.label})]},v.id)})}),d.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:d.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-red-50 text-gray-600 hover:text-red-600 transition-colors",title:l?"Sign Out":void 0,children:[d.jsx(fk,{className:"w-5 h-5"}),!l&&d.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})}),d.jsx("button",{onClick:()=>o(!l),className:"hidden md:flex absolute -right-3 top-20 w-6 h-6 bg-white rounded-full shadow-md items-center justify-center hover:shadow-lg transition-shadow",children:d.jsx("span",{className:`text-xs transition-transform duration-300 ${l?"rotate-180":""}`,children:"‹"})})]}),d.jsx("div",{className:`transition-all duration-300 ml-0 ${l?"md:ml-16":"md:ml-64"}`,children:d.jsx("div",{className:"p-6",children:h()})}),d.jsx(FT,{}),d.jsx(LT,{})]})}const HT=new Kb;function zT(){const{user:n,loading:e}=Yt(),[t,r]=O.useState(!0),[a,l]=O.useState("signin");return e?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-300 mx-auto"}),d.jsx("p",{className:"text-gray-600 font-light",children:"Loading ZenzaLife..."})]})}):n?t?d.jsx(bk,{onComplete:()=>r(!1),children:d.jsx(Dy,{})}):d.jsx(Dy,{}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsx("div",{className:"w-full max-w-md mx-auto p-6",children:d.jsx(_k,{mode:a,onModeChange:l})})})}function BT(){return d.jsx(Xb,{client:HT,children:d.jsxs(QE,{children:[d.jsx(zT,{}),d.jsx($S,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",color:"#374151",fontSize:"14px",padding:"12px 16px"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}function $T(n={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:a,onRegisteredSW:l,onRegisterError:o}=n;let u,h;const p=async(v=!0)=>{await h};async function g(){if("serviceWorker"in navigator){if(u=await pi(async()=>{const{Workbox:v}=await import("workbox-window");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/sw.ts",{scope:"/",type:"classic"})).catch(v=>{o==null||o(v)}),!u)return;u.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),u.addEventListener("installed",v=>{v.isUpdate||r==null||r()}),u.register({immediate:e}).then(v=>{l?l("/sw.ts",v):a==null||a(v)}).catch(v=>{o==null||o(v)})}}return h=g(),p}function WT(){return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsxs("div",{className:"space-y-6 text-center p-8 card-floating max-w-md mx-auto",children:[d.jsx("h1",{className:"text-3xl font-light text-gray-800",children:"Email Confirmed"}),d.jsx("p",{className:"text-gray-600 font-light",children:"Thank you for confirming your email. Your ZenzaLife journey can now begin."}),d.jsx("p",{className:"text-gray-500 text-sm font-light",children:"You can close this page and return to the application."})]})})}function VT(){const e=new URLSearchParams(window.location.search).get("email")||"",[t,r]=O.useState(e),[a,l]=O.useState(!1),[o,u]=O.useState(null),h="It seems you're starting to become even more inside a dream, as it looks like you're imagining an email that is not correctly within the ZenzaLife OS.",p=async g=>{g.preventDefault(),u(null);try{const v=await fetch("/functions/v1/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(v.status===404){u(h);return}if(!v.ok){const x=await v.json().catch(()=>null);u((x==null?void 0:x.error)||"Request failed");return}l(!0)}catch(v){console.error("unsubscribe",v),u("Request failed")}};return a?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsxs("div",{className:"space-y-6 text-center p-8 card-floating max-w-md mx-auto",children:[d.jsx("h1",{className:"text-3xl font-light text-gray-800",children:"You are unsubscribed"}),d.jsx("p",{className:"text-gray-600 font-light",children:"You will no longer receive updates from Zenza Scheduler."}),d.jsx("p",{className:"text-gray-600 font-light",children:"Changed your mind? Visit the home page and sign in again to re-subscribe for updates, changelogs, family news and future milestones."})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsxs("form",{onSubmit:p,className:"space-y-6 text-center p-8 card-floating max-w-md mx-auto",children:[d.jsx("h1",{className:"text-3xl font-light text-gray-800",children:"Unsubscribe"}),d.jsx("p",{className:"text-gray-600 font-light",children:"Enter your email address to stop receiving messages."}),d.jsx("input",{type:"email",required:!0,className:"input-dreamy w-full",placeholder:"you@example.com",value:t,onChange:g=>r(g.target.value)}),o&&d.jsx("p",{className:"text-red-500 text-sm",children:o}),d.jsx("button",{type:"submit",className:"btn-dreamy-primary w-full",children:"Unsubscribe"})]})})}const qT=document.getElementById("root"),Ty=window.location.pathname;$T({immediate:!0});Nb.createRoot(qT).render(d.jsx(ci.StrictMode,{children:Ty==="/confirmed"?d.jsx(WT,{}):Ty==="/unsubscribe"?d.jsx(VT,{}):d.jsx(BT,{})}));
